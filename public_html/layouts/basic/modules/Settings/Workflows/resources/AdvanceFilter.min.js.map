{"version":3,"file":"AdvanceFilter.min.js","sources":["AdvanceFilter.js"],"sourcesContent":["/*+***********************************************************************************\n * The contents of this file are subject to the vtiger CRM Public License Version 1.0\n * (\"License\"); You may not use this file except in compliance with the License\n * The Original Code is:  vtiger CRM Open Source\n * The Initial Developer of the Original Code is vtiger.\n * Portions created by vtiger are Copyright (C) vtiger.\n * All Rights Reserved.\n *************************************************************************************/\n'use strict';\n\nVtiger_AdvanceFilter_Js('Workflows_AdvanceFilter_Js', {}, {\n\n\tvalidationSupportedFieldConditionMap: {\n\t\t'email': ['e', 'n'],\n\t\t'date': ['is'],\n\t\t'datetime': ['is']\n\t},\n\t//Hols field type for which there is validations always needed\n\tallConditionValidationNeededFieldList: ['double', 'integer'],\n\n\t// comparators which do not have any field Specific UI.\n\tcomparatorsWithNoValueBoxMap: ['has changed', 'is empty', 'is not empty', 'is added', 'is Watching Record', 'is Not Watching Record'],\n\n\tgetFieldSpecificType: function (fieldSelected) {\n\t\tvar fieldInfo = fieldSelected.data('fieldinfo');\n\t\tvar type = fieldInfo.type;\n\t\treturn type;\n\t},\n\n\tgetModuleName: function () {\n\t\treturn app.getModuleName();\n\t},\n\n\t/**\n\t * Function to add new condition row\n\t * @params : condtionGroupElement - group where condtion need to be added\n\t * @return : current instance\n\t */\n\taddNewCondition: function (conditionGroupElement) {\n\t\tvar basicElement = jQuery('.basic', conditionGroupElement);\n\t\tvar newRowElement = basicElement.find('.js-conditions-row').clone(true, true);\n\t\tjQuery('select', newRowElement).addClass('select2');\n\t\tvar conditionList = jQuery('.conditionList', conditionGroupElement);\n\t\tconditionList.append(newRowElement);\n\t\t//change in to select elements\n\t\tApp.Fields.Picklist.changeSelectElementView(newRowElement);\n\t\tnewRowElement.find('[name=\"columnname\"]').find('optgroup:first option:first').attr('selected', 'selected').trigger('change');\n\t\treturn this;\n\t},\n\n\t/**\n\t * Function to load condition list for the selected field\n\t * (overrrided to remove \"has changed\" condition for related record fields in workflows)\n\t * @params : fieldSelect - select element which will represents field list\n\t * @return : select element which will represent the condition element\n\t */\n\tloadConditions: function (fieldSelect) {\n\t\tvar row = fieldSelect.closest('div.js-conditions-row');\n\t\tvar conditionSelectElement = row.find('select[name=\"comparator\"]');\n\t\tvar conditionSelected = conditionSelectElement.val();\n\t\tvar fieldSelected = fieldSelect.find('option:selected');\n\t\tvar fieldLabel = fieldSelected.val();\n\t\tvar match = fieldLabel.match(/\\((\\w+)\\) (\\w+)/);\n\t\tvar fieldSpecificType = this.getFieldSpecificType(fieldSelected)\n\t\tvar conditionList = this.getConditionListFromType(fieldSpecificType);\n\t\t//for none in field name\n\t\tif (typeof conditionList === \"undefined\") {\n\t\t\tconditionList = {};\n\t\t\tconditionList['none'] = 'None';\n\t\t}\n\n\t\tvar options = '';\n\t\tfor (var key in conditionList) {\n\t\t\t//IE Browser consider the prototype properties also, it should consider has own properties only.\n\t\t\tif (conditionList.hasOwnProperty(key)) {\n\t\t\t\tvar conditionValue = conditionList[key];\n\t\t\t\tvar conditionLabel = this.getConditionLabel(conditionValue);\n\t\t\t\tif (match != null) {\n\t\t\t\t\tif (conditionValue != 'has changed') {\n\t\t\t\t\t\toptions += '<option value=\"' + conditionValue + '\"';\n\t\t\t\t\t\tif (conditionValue == conditionSelected) {\n\t\t\t\t\t\t\toptions += ' selected=\"selected\" ';\n\t\t\t\t\t\t}\n\t\t\t\t\t\toptions += '>' + conditionLabel + '</option>';\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\toptions += '<option value=\"' + conditionValue + '\"';\n\t\t\t\t\tif (conditionValue == conditionSelected) {\n\t\t\t\t\t\toptions += ' selected=\"selected\" ';\n\t\t\t\t\t}\n\t\t\t\t\toptions += '>' + conditionLabel + '</option>';\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tconditionSelectElement.empty().html(options).trigger(\"change\");\n\t\treturn conditionSelectElement;\n\t},\n\n\t/**\n\t * Function to retrieve the values of the filter\n\t * @return : object\n\t */\n\tgetValues: function () {\n\t\tconst thisInstance = this;\n\t\tlet fieldList = new Array('columnname', 'comparator', 'value', 'valuetype', 'column_condition'),\n\t\t\tvalues = {},\n\t\t\tcolumnIndex = 0,\n\t\t\tconditionGroups = jQuery('.conditionGroup', this.getFilterContainer());\n\t\tconditionGroups.each(function (index, domElement) {\n\t\t\tlet groupElement = jQuery(domElement),\n\t\t\t\tconditions = jQuery('.conditionList .js-conditions-row', groupElement),\n\t\t\t\titerationValues = {};\n\t\t\tif (conditions.length <= 0) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\tconditions.each(function (i, conditionDomElement) {\n\t\t\t\tlet rowElement = $(conditionDomElement),\n\t\t\t\t\tfieldSelectElement = $('[name=\"columnname\"]', rowElement),\n\t\t\t\t\tvalueSelectElement = $('[data-value=\"value\"]', rowElement);\n\t\t\t\t//To not send empty fields to server\n\t\t\t\tif (thisInstance.isEmptyFieldSelected(fieldSelectElement)) {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t\tlet fieldType = fieldSelectElement.find('option:selected').data('fieldinfo').type,\n\t\t\t\t\trowValues = {},\n\t\t\t\t\tkey,\n\t\t\t\t\tfield;\n\t\t\t\tif ($.inArray(fieldType, ['picklist', 'multipicklist', 'multiReferenceValue']) > -1) {\n\t\t\t\t\tfor (key in fieldList) {\n\t\t\t\t\t\tfield = fieldList[key];\n\t\t\t\t\t\tif (field === 'value' && valueSelectElement.is('input')) {\n\t\t\t\t\t\t\tlet pickListValues = valueSelectElement.data('picklistvalues'),\n\t\t\t\t\t\t\t\tvaluesArr = valueSelectElement.val().split(','),\n\t\t\t\t\t\t\t\tnewValuesArr = [];\n\t\t\t\t\t\t\tfor (i = 0; i < valuesArr.length; i++) {\n\t\t\t\t\t\t\t\tif (typeof pickListValues[valuesArr[i]] !== \"undefined\") {\n\t\t\t\t\t\t\t\t\tnewValuesArr.push(pickListValues[valuesArr[i]]);\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tnewValuesArr.push(valuesArr[i]);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\trowValues[field] = newValuesArr.join(',');\n\t\t\t\t\t\t} else if (field === 'value' && valueSelectElement.is('select') && fieldType === 'picklist') {\n\t\t\t\t\t\t\trowValues[field] = valueSelectElement.val();\n\t\t\t\t\t\t} else if (field === 'value' && valueSelectElement.is('select') && $.inArray(fieldType, ['multipicklist', 'multiReferenceValue']) > -1) {\n\t\t\t\t\t\t\tlet value = valueSelectElement.val();\n\t\t\t\t\t\t\tif (value == null) {\n\t\t\t\t\t\t\t\trowValues[field] = value;\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\trowValues[field] = value.join(',');\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\trowValues[field] = $('[name=\"' + field + '\"]', rowElement).val();\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tfor (key in fieldList) {\n\t\t\t\t\t\tfield = fieldList[key];\n\t\t\t\t\t\tif (field === 'value') {\n\t\t\t\t\t\t\trowValues[field] = valueSelectElement.val();\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\trowValues[field] = $('[name=\"' + field + '\"]', rowElement).val();\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif ($('[name=\"valuetype\"]', rowElement).val() === 'false' || ($('[name=\"valuetype\"]', rowElement).length === 0)) {\n\t\t\t\t\trowValues['valuetype'] = 'rawtext';\n\t\t\t\t}\n\n\t\t\t\tif (index === 0) {\n\t\t\t\t\trowValues['groupid'] = 0;\n\t\t\t\t} else {\n\t\t\t\t\trowValues['groupid'] = 1;\n\t\t\t\t}\n\n\t\t\t\tif (rowElement.is(\":last-child\")) {\n\t\t\t\t\trowValues['column_condition'] = '';\n\t\t\t\t}\n\t\t\t\titerationValues[columnIndex] = rowValues;\n\t\t\t\tcolumnIndex++;\n\t\t\t});\n\n\t\t\tif (!$.isEmptyObject(iterationValues)) {\n\t\t\t\tvalues[index + 1] = {};\n\t\t\t\tvalues[index + 1]['columns'] = iterationValues;\n\t\t\t}\n\t\t\tif (groupElement.find('div.groupCondition').length > 0) {\n\t\t\t\tvalues[index + 1]['condition'] = conditionGroups.find('div.groupCondition [name=\"condition\"]').val();\n\t\t\t}\n\t\t});\n\t\treturn values;\n\n\t},\n\n\t/**\n\t * Functiont to get the field specific ui for the selected field\n\t * @prarms : fieldSelectElement - select element which will represents field list\n\t * @return : jquery object which represents the ui for the field\n\t */\n\tgetFieldSpecificUi: function (fieldSelectElement) {\n\t\tvar fieldSelected = fieldSelectElement.find('option:selected');\n\t\tvar fieldInfo = fieldSelected.data('fieldinfo');\n\t\tif (jQuery.inArray(fieldInfo.comparatorElementVal, this.comparatorsWithNoValueBoxMap) != -1) {\n\t\t\treturn jQuery('');\n\t\t} else {\n\t\t\treturn this._super(fieldSelectElement);\n\t\t}\n\t}\n});\n\nVtiger_Field_Js('Workflows_Field_Js', {}, {\n\n\tgetUiTypeSpecificHtml: function () {\n\t\tvar uiTypeModel = this.getUiTypeModel();\n\t\treturn uiTypeModel.getUi();\n\t},\n\n\tgetModuleName: function () {\n\t\tvar currentModule = app.getModuleName();\n\t\treturn currentModule;\n\t},\n\n\t/**\n\t * Funtion to get the ui for the field  - generally this will be extend by the child classes to\n\t * give ui type specific ui\n\t * return <String or Jquery> it can return either plain html or jquery object\n\t */\n\tgetUi: function () {\n\t\tvar html = '<input type=\"text\" class=\"getPopupUi form-control\" name=\"' + this.getName() + '\"  /><input type=\"hidden\" name=\"valuetype\" value=\"' + this.get('workflow_valuetype') + '\" />';\n\t\thtml = jQuery(html);\n\t\thtml.filter('.getPopupUi').val(app.htmlDecode(this.getValue()));\n\t\treturn this.addValidationToElement(html);\n\t}\n});\n\nVtiger_Date_Field_Js('Workflows_Date_Field_Js', {}, {\n\n\t/**\n\t * Function to get the user date format\n\t */\n\tgetDateFormat: function () {\n\t\treturn this.get('date-format');\n\t},\n\n\t/**\n\t * Function to get the ui\n\t * @return - input text field\n\t */\n\tgetUi: function () {\n\t\tlet comparatorSelectedOptionVal = this.get('comparatorElementVal'),\n\t\t\tdateSpecificConditions = this.get('dateSpecificConditions'),\n\t\t\thtml,\n\t\t\telement;\n\t\tif (comparatorSelectedOptionVal.length > 0) {\n\t\t\tif (comparatorSelectedOptionVal === 'between' || comparatorSelectedOptionVal === 'custom') {\n\t\t\t\thtml = '<div class=\"date\"><input class=\"form-control dateRangeField\" data-calendar-type=\"range\" name=\"' + this.getName() + '\" data-date-format=\"' + this.getDateFormat() + '\" type=\"text\" value=\"' + this.getValue() + '\"></div>';\n\t\t\t\telement = jQuery(html);\n\t\t\t\treturn this.addValidationToElement(element);\n\t\t\t} else if (this._specialDateComparator(comparatorSelectedOptionVal)) {\n\t\t\t\thtml = '<input name=\"' + this.getName() + '\" type=\"text\" value=\"' +\n\t\t\t\t\tthis.getValue() + '\" data-validation-engine=\"' +\n\t\t\t\t\t'validate[funcCall[Vtiger_Base_Validator_Js.invokeValidation]]\"' +\n\t\t\t\t\t' data-validator=\"[{\"name\":\"PositiveNumber\"}]\">' +\n\t\t\t\t\t'<input type=\"hidden\" name=\"valuetype\" value=\"' +\n\t\t\t\t\tthis.get('workflow_valuetype') + '\" />';\n\t\t\t\treturn jQuery(html);\n\t\t\t} else if (comparatorSelectedOptionVal in dateSpecificConditions) {\n\t\t\t\tlet startValue = dateSpecificConditions[comparatorSelectedOptionVal]['startdate'],\n\t\t\t\t\tendValue = dateSpecificConditions[comparatorSelectedOptionVal]['enddate'];\n\t\t\t\thtml = '<input name=\"' + this.getName() + '\"  type=\"text\" ReadOnly=\"true\" value=\"' + startValue + ',' + endValue + '\">'\n\t\t\t\treturn jQuery(html);\n\t\t\t} else if (comparatorSelectedOptionVal === 'is today') {\n\t\t\t\t//show nothing\n\t\t\t} else {\n\t\t\t\treturn this._super();\n\t\t\t}\n\t\t} else {\n\t\t\thtml = '<input type=\"text\" class=\"getPopupUi date form-control\" name=\"' + this.getName() + '\"  data-date-format=\"' + this.getDateFormat() + '\"  value=\"' + this.getValue() + '\" />' +\n\t\t\t\t'<input type=\"hidden\" name=\"valuetype\" value=\"' + this.get('workflow_valuetype') + '\" />'\n\t\t\telement = jQuery(html);\n\t\t\treturn this.addValidationToElement(element);\n\t\t}\n\t},\n\n\t_specialDateComparator: function (comp) {\n\t\tvar specialComparators = ['less than days ago', 'more than days ago', 'in less than', 'in more than', 'days ago', 'days later'];\n\t\tfor (var index in specialComparators) {\n\t\t\tif (comp == specialComparators[index]) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\t\treturn false;\n\t}\n});\n\nVtiger_Date_Field_Js('Workflows_Datetime_Field_Js', {}, {\n\t/**\n\t * Function to get the user date format\n\t */\n\tgetDateFormat: function () {\n\t\treturn this.get('date-format');\n\t},\n\n\t/**\n\t * Function to get the ui\n\t * @return - input text field\n\t */\n\tgetUi: function () {\n\t\tlet html,\n\t\t\telement;\n\t\tif (this._specialDateTimeComparator(this.get('comparatorElementVal'))) {\n\t\t\thtml = '<input name=\"' + this.getName() + '\" type=\"text\" value=\"' + this.getValue() + '\" data-validator=\"[{name:PositiveNumber}]\"><input type=\"hidden\" name=\"valuetype\" value=\"' + this.get('workflow_valuetype') + '\" />';\n\t\t\telement = $(html);\n\t\t} else {\n\t\t\thtml = '<input type=\"text\" class=\"getPopupUi date form-control\" name=\"' + this.getName() + '\"  data-date-format=\"' + this.getDateFormat() + '\"  value=\"' + this.getValue() + '\" />' +\n\t\t\t\t'<input type=\"hidden\" name=\"valuetype\" value=\"' + this.get('workflow_valuetype') + '\" />'\n\t\t\telement = $(html);\n\t\t}\n\t\treturn element;\n\t},\n\n\t_specialDateTimeComparator: function (comp) {\n\t\tvar specialComparators = ['less than hours before', 'less than hours later', 'more than hours later', 'more than hours before'];\n\t\tfor (var index in specialComparators) {\n\t\t\tif (comp == specialComparators[index]) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\t\treturn false;\n\t}\n\n});\n\nVtiger_Currency_Field_Js('Workflows_Currency_Field_Js', {}, {\n\n\tgetUi: function () {\n\t\tvar html = '<input type=\"text\" class=\"getPopupUi marginLeftZero form-control\" name=\"' + this.getName() + '\" value=\"' + this.getValue() + '\"  />' +\n\t\t\t'<input type=\"hidden\" name=\"valuetype\" value=\"' + this.get('workflow_valuetype') + '\" />';\n\t\tvar element = jQuery(html);\n\t\treturn this.addValidationToElement(element);\n\t}\n\n});\n\nVtiger_Time_Field_Js('Workflows_Time_Field_Js', {}, {\n\n\t/**\n\t * Function to get the ui\n\t * @return - input text field\n\t */\n\tgetUi: function () {\n\t\tvar html = '<input type=\"text\" class=\"getPopupUi time form-control\" name=\"' + this.getName() + '\"  value=\"' + this.getValue() + '\" />' +\n\t\t\t'<input type=\"hidden\" name=\"valuetype\" value=\"' + this.get('workflow_valuetype') + '\" />';\n\t\tvar element = jQuery(html);\n\t\treturn this.addValidationToElement(element);\n\t}\n});\n\nVtiger_Field_Js('Vtiger_Percentage_Field_Js', {}, {\n\n\t/**\n\t * Function to get the ui\n\t * @return - input percentage field\n\t */\n\tgetUi: function () {\n\t\tvar html = '<input type=\"text\" class=\"getPopupUi form-control\" name=\"' + this.getName() + '\" value=\"' + this.getValue() + '\" />' +\n\t\t\t'<input type=\"hidden\" name=\"valuetype\" value=\"' + this.get('workflow_valuetype') + '\" />';\n\t\tvar element = jQuery(html);\n\t\treturn this.addValidationToElement(element);\n\t}\n});\n\nVtiger_Field_Js('Vtiger_Text_Field_Js', {}, {\n\n\t/**\n\t * Function to get the ui\n\t * @return - input text field\n\t */\n\tgetUi: function () {\n\t\tvar html = '<input type=\"text\" class=\"getPopupUi form-control\" name=\"' + this.getName() + '\" value=\"' + this.getValue() + '\" />' +\n\t\t\t'<input type=\"hidden\" name=\"valuetype\" value=\"' + this.get('workflow_valuetype') + '\" />';\n\t\tvar element = jQuery(html);\n\t\treturn this.addValidationToElement(element);\n\t}\n});\n\nVtiger_Field_Js('Vtiger_Boolean_Field_Js', {}, {\n\n\t/**\n\t * Function to get the ui\n\t * @return - input text field\n\t */\n\tgetUi: function () {\n\t\tvar html = '<input type=\"text\" class=\"getPopupUi form-control boolean\" name=\"' + this.getName() + '\" value=\"' + this.getValue() + '\" />' +\n\t\t\t'<input type=\"hidden\" name=\"valuetype\" value=\"' + this.get('workflow_valuetype') + '\" />';\n\t\tvar element = jQuery(html);\n\t\treturn this.addValidationToElement(element);\n\t}\n});\n\nVtiger_Owner_Field_Js('Workflows_Owner_Field_Js', {}, {\n\n\tgetUi: function () {\n\t\tvar html = '<select class=\"select2\" data-value=\"value\" name=\"' + this.getName() + '\">';\n\t\tvar pickListValues = this.getPickListValues();\n\t\tvar selectedOption = this.getValue();\n\t\tfor (var optGroup in pickListValues) {\n\t\t\thtml += '<optgroup label=\"' + optGroup + '\">'\n\t\t\tvar optionGroupValues = pickListValues[optGroup];\n\t\t\tfor (var option in optionGroupValues) {\n\t\t\t\thtml += '<option value=\"' + option + '\" ';\n\t\t\t\tif (option == selectedOption) {\n\t\t\t\t\thtml += ' selected ';\n\t\t\t\t}\n\t\t\t\thtml += '>' + optionGroupValues[option] + '</option>';\n\t\t\t}\n\t\t\thtml += '</optgroup>'\n\t\t}\n\n\t\thtml += '</select>';\n\t\tvar selectContainer = jQuery(html);\n\t\tthis.addValidationToElement(selectContainer);\n\t\treturn selectContainer;\n\t}\n});\nWorkflows_Owner_Field_Js('Workflows_Sharedowner_Field_Js', {}, {});\nVtiger_Picklist_Field_Js('Workflows_Picklist_Field_Js', {}, {});\n"],"names":["Vtiger_AdvanceFilter_Js","validationSupportedFieldConditionMap","allConditionValidationNeededFieldList","comparatorsWithNoValueBoxMap","getFieldSpecificType","fieldSelected","data","type","fieldInfo","getModuleName","addNewCondition","conditionGroupElement","jQuery","newRowElement","basicElement","find","clone","addClass","append","App","Fields","Picklist","changeSelectElementView","attr","trigger","loadConditions","fieldSelect","closest","conditionSelectElement","row","conditionSelected","val","fieldLabel","match","fieldSpecificType","conditionList","getConditionListFromType","hasOwnProperty","key","conditionLabel","getConditionLabel","conditionValue","options","empty","html","getValues","fieldList","values","columnIndex","conditionGroups","getFilterContainer","each","index","domElement","conditions","groupElement","iterationValues","length","i","conditionDomElement","$","fieldSelectElement","rowElement","valueSelectElement","thisInstance","isEmptyFieldSelected","field","fieldType","rowValues","inArray","is","valuesArr","split","newValuesArr","push","pickListValues","join","value","isEmptyObject","getFieldSpecificUi","comparatorElementVal","_super","Vtiger_Field_Js","getUiTypeSpecificHtml","getUiTypeModel","getUi","app","getName","get","filter","htmlDecode","getValue","addValidationToElement","Vtiger_Date_Field_Js","getDateFormat","element","comparatorSelectedOptionVal","dateSpecificConditions","_specialDateComparator","endValue","startValue","comp","specialComparators","_specialDateTimeComparator","Vtiger_Currency_Field_Js","Vtiger_Time_Field_Js","Vtiger_Owner_Field_Js","getPickListValues","selectedOption","optGroup","option","optionGroupValues","selectContainer","Workflows_Owner_Field_Js","Vtiger_Picklist_Field_Js"],"mappings":"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"}