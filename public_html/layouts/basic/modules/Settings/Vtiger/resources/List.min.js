'use strict';

Vtiger_List_Js('Settings_Vtiger_List_Js',{triggerDelete:function triggerDelete(event,url){event.stopPropagation();var instance=Vtiger_List_Js.getInstance();instance.DeleteRecord(url);},deleteById:function deleteById(id){var aDeferred=jQuery.Deferred(),instance=Vtiger_List_Js.getInstance(),params=$.extend(instance.getDeleteParams(),{record:id});return AppConnector.request(params).done(function(data){data.success&&($('#recordsCount').val(''),$('#totalPageCount').text(''),instance.getListViewRecords().done(function(){instance.updatePagination();})),aDeferred.resolve(data);}),aDeferred.promise()}},{getDeleteParams:function getDeleteParams(){return {module:app.getModuleName(),parent:app.getParentModuleName(),action:'DeleteAjax'}},getListViewContainer:function getListViewContainer(){return !1==this.listViewContainer&&(this.listViewContainer=$('div.listViewPageDiv')),this.listViewContainer},DeleteRecord:function DeleteRecord(url){var thisInstance=this;AppConnector.request(url).done(function(data){data&&app.showModalWindow(data,function(container){thisInstance.postDeleteAction(container);});});},postDeleteAction:function postDeleteAction(container){var thisInstance=this,deleteConfirmForm=jQuery(container).find('#DeleteModal');deleteConfirmForm.on('submit',function(e){e.preventDefault();var deleteActionUrl=deleteConfirmForm.serializeFormData();AppConnector.request(deleteActionUrl).done(function(){app.hideModalWindow();var params={text:app.vtranslate('JS_RECORD_DELETED_SUCCESSFULLY')};Settings_Vtiger_Index_Js.showMessage(params),jQuery('#recordsCount').val(''),jQuery('#totalPageCount').text(''),thisInstance.getListViewRecords().done(function(){thisInstance.updatePagination();});}).fail(function(){app.hideModalWindow();});});},getPageJumpParams:function getPageJumpParams(){var module=app.getModuleName(),cvId=this.getCurrentCvId(),pageCountParams={module:module,parent:'Settings',action:'ListAjax',mode:'getPageCount',viewname:cvId},sourceModule=jQuery('#moduleFilter').val();return 'undefined'!=typeof sourceModule&&(pageCountParams.sourceModule=sourceModule),pageCountParams},registerEvents:function registerEvents(){this.registerRowClickEvent(),this.registerCheckBoxClickEvent(),this.registerHeadersClickEvent(),this.registerPageNavigationEvents(),this.registerEventForTotalRecordsCount();}});
//# sourceMappingURL=List.min.js.map
