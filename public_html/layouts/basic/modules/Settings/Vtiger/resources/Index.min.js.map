{"version":3,"file":"Index.min.js","sources":["Index.js"],"sourcesContent":["/*+***********************************************************************************\n * The contents of this file are subject to the vtiger CRM Public License Version 1.0\n * (\"License\"); You may not use this file except in compliance with the License\n * The Original Code is:  vtiger CRM Open Source\n * The Initial Developer of the Original Code is vtiger.\n * Portions created by vtiger are Copyright (C) vtiger.\n * All Rights Reserved.\n * Contributor(s): YetiForce.com\n *************************************************************************************/\n'use strict';\n\n$.Class(\"Settings_Vtiger_Index_Js\", {\n\tshowMessage: function (customParams) {\n\t\tlet params = {\n\t\t\ttype: 'success',\n\t\t\ttitle: app.vtranslate('JS_MESSAGE')\n\t\t};\n\t\tif (typeof customParams !== \"undefined\") {\n\t\t\tparams = $.extend(params, customParams);\n\t\t}\n\t\tVtiger_Helper_Js.showPnotify(params);\n\t},\n\tselectIcon: function () {\n\t\tvar aDeferred = $.Deferred();\n\t\tapp.showModalWindow({\n\t\t\tid: 'iconsModal',\n\t\t\turl: 'index.php?module=Vtiger&view=IconsModal&parent=Settings',\n\t\t\tcb: function (container) {\n\t\t\t\tApp.Fields.Picklist.showSelect2ElementView(container.find('#iconsList'), {\n\t\t\t\t\ttemplateSelection: function (data) {\n\t\t\t\t\t\tif (!data.id) {\n\t\t\t\t\t\t\treturn (data.text);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tvar type = $(data.element).data('type');\n\t\t\t\t\t\tcontainer.find('.iconName').text(data.id);\n\t\t\t\t\t\tcontainer.find('#iconName').val(data.id);\n\t\t\t\t\t\tcontainer.find('#iconType').val(type);\n\t\t\t\t\t\tif (type === 'icon') {\n\t\t\t\t\t\t\tcontainer.find('.iconExample').html('<span class=\"' + data.element.value + '\" aria-hidden=\"true\"></span>');\n\t\t\t\t\t\t} else if (type === 'image') {\n\t\t\t\t\t\t\tcontainer.find('.iconName').text(data.text);\n\t\t\t\t\t\t\tcontainer.find('#iconName').val(data.element.value);\n\t\t\t\t\t\t\tcontainer.find('.iconExample').html('<img width=\"24px\" src=\"' + data.element.value + '\"/>')\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn data.text;\n\t\t\t\t\t},\n\t\t\t\t\ttemplateResult: function (data) {\n\t\t\t\t\t\tif (!data.id) {\n\t\t\t\t\t\t\treturn (data.text);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tvar type = $(data.element).data('type');\n\t\t\t\t\t\tvar option;\n\t\t\t\t\t\tif (type === 'icon') {\n\t\t\t\t\t\t\toption = $('<span class=\"' + data.element.value + '\" aria-hidden=\"true\"></span><span> - ' + $(data.element).data('class') + '</span>');\n\t\t\t\t\t\t} else if (type === 'image') {\n\t\t\t\t\t\t\toption = $('<img width=\"24px\" src=\"' + data.element.value + '\" title=\"' + data.text + '\" /><span> - ' + data.text + '</span>');\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn option;\n\t\t\t\t\t},\n\t\t\t\t\tcloseOnSelect: true\n\t\t\t\t});\n\t\t\t\tcontainer.find('[name=\"saveButton\"]').on('click', function (e) {\n\t\t\t\t\taDeferred.resolve({\n\t\t\t\t\t\ttype: container.find('#iconType').val(),\n\t\t\t\t\t\tname: container.find('#iconName').val(),\n\t\t\t\t\t});\n\t\t\t\t\tapp.hideModalWindow(container, 'iconsModal');\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\t\treturn aDeferred.promise();\n\t},\n\tshowWarnings: function () {\n\t\t$('li[data-mode=\"systemWarnings\"] a').click();\n\t},\n\tshowSecurity: function () {\n\t\tapp.openUrl('index.php?module=Log&parent=' + app.getParentModuleName() + '&view=Index&type=access_for_admin');\n\t},\n}, {\n\tregisterDeleteShortCutEvent: function (shortCutBlock) {\n\t\tvar thisInstance = this;\n\t\tif (typeof shortCutBlock === \"undefined\") {\n\t\t\tshortCutBlock = $('div#settingsShortCutsContainer')\n\t\t}\n\t\tshortCutBlock.on('click', '.unpin', function (e) {\n\t\t\tvar actionEle = $(e.currentTarget);\n\t\t\tvar closestBlock = actionEle.closest('.moduleBlock');\n\t\t\tvar fieldId = actionEle.data('id');\n\t\t\tvar shortcutBlockActionUrl = closestBlock.data('actionurl');\n\t\t\tvar actionUrl = shortcutBlockActionUrl + '&pin=false';\n\t\t\tvar progressIndicatorElement = $.progressIndicator({\n\t\t\t\t'blockInfo': {\n\t\t\t\t\t'enabled': true\n\t\t\t\t}\n\t\t\t});\n\t\t\tAppConnector.request(actionUrl).done(function (data) {\n\t\t\t\tif (data.result.SUCCESS == 'OK') {\n\t\t\t\t\tclosestBlock.remove();\n\t\t\t\t\tthisInstance.registerSettingShortCutAlignmentEvent();\n\t\t\t\t\tvar menuItemId = '#' + fieldId + '_menuItem';\n\t\t\t\t\tvar shortCutActionEle = $(menuItemId);\n\t\t\t\t\tvar imagePath = shortCutActionEle.data('pinimageurl');\n\t\t\t\t\tshortCutActionEle.attr('src', imagePath).data('action', 'pin');\n\t\t\t\t\tprogressIndicatorElement.progressIndicator({\n\t\t\t\t\t\t'mode': 'hide'\n\t\t\t\t\t});\n\t\t\t\t\tvar params = {\n\t\t\t\t\t\ttitle: app.vtranslate('JS_MESSAGE'),\n\t\t\t\t\t\ttext: app.vtranslate('JS_SUCCESSFULLY_UNPINNED'),\n\t\t\t\t\t\ttype: 'info'\n\t\t\t\t\t};\n\t\t\t\t\tthisInstance.registerReAlign();\n\t\t\t\t\tVtiger_Helper_Js.showPnotify(params);\n\t\t\t\t}\n\t\t\t});\n\t\t\te.stopPropagation();\n\t\t});\n\t},\n\tregisterPinShortCutEvent: function (element) {\n\t\tvar id = element.data('id');\n\t\tvar url = 'index.php?module=Vtiger&parent=Settings&action=Basic&mode=updateFieldPinnedStatus&pin=true&fieldid=' + id;\n\t\tvar progressIndicatorElement = $.progressIndicator({\n\t\t\t'blockInfo': {\n\t\t\t\t'enabled': true\n\t\t\t}\n\t\t});\n\t\tAppConnector.request(url).done(function (data) {\n\t\t\tif (data.result.SUCCESS == 'OK') {\n\t\t\t\tvar params = {\n\t\t\t\t\t'fieldid': id,\n\t\t\t\t\t'mode': 'getSettingsShortCutBlock',\n\t\t\t\t\t'module': 'Vtiger',\n\t\t\t\t\t'parent': 'Settings',\n\t\t\t\t\t'view': 'IndexAjax'\n\t\t\t\t}\n\t\t\t\tAppConnector.request(params).done(function (data) {\n\t\t\t\t\tvar existingDivBlock = $('#settingsShortCutsContainer');\n\t\t\t\t\t$(data).appendTo(existingDivBlock);\n\t\t\t\t\tprogressIndicatorElement.progressIndicator({\n\t\t\t\t\t\t'mode': 'hide'\n\t\t\t\t\t});\n\t\t\t\t\tvar params = {\n\t\t\t\t\t\ttext: app.vtranslate('JS_SUCCESSFULLY_PINNED')\n\t\t\t\t\t};\n\t\t\t\t\tSettings_Vtiger_Index_Js.showMessage(params);\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\t},\n\tregisterSettingsShortcutClickEvent: function () {\n\t\t$('#settingsShortCutsContainer').on('click', '.moduleBlock', function (e) {\n\t\t\tvar url = $(e.currentTarget).data('url');\n\t\t\twindow.location.href = url;\n\t\t});\n\t},\n\tregisterSettingShortCutAlignmentEvent: function () {\n\t\t$('#settingsShortCutsContainer').find('.moduleBlock').removeClass('marginLeftZero');\n\t\t$('#settingsShortCutsContainer').find('.moduleBlock:nth-child(3n+1)').addClass('marginLeftZero');\n\t},\n\tregisterWidgetsEvents: function () {\n\t\tvar widgets = $('div.widgetContainer');\n\t\twidgets.on('shown.bs.collapse', function (e) {\n\t\t\tvar widgetContainer = $(e.currentTarget);\n\t\t\tvar quickWidgetHeader = widgetContainer.closest('.quickWidget').find('.quickWidgetHeader');\n\t\t\tvar imageEle = quickWidgetHeader.find('.imageElement')\n\t\t\tvar imagePath = imageEle.data('downimage');\n\t\t\timageEle.attr('src', imagePath);\n\t\t});\n\t\twidgets.on('hidden.bs.collapse', function (e) {\n\t\t\tvar widgetContainer = $(e.currentTarget);\n\t\t\tvar quickWidgetHeader = widgetContainer.closest('.quickWidget').find('.quickWidgetHeader');\n\t\t\tvar imageEle = quickWidgetHeader.find('.imageElement')\n\t\t\tvar imagePath = imageEle.data('rightimage');\n\t\t\timageEle.attr('src', imagePath);\n\t\t});\n\t},\n\tregisterAddShortcutDragDropEvent: function () {\n\t\tvar thisInstance = this;\n\t\tvar elements = $(\".js-menu__item .js-menu__link--draggable\");\n\t\tvar classes = 'ui-draggable-menuShortcut bg-warning';\n\t\telements.draggable({\n\t\t\tcontainment: \"#page\",\n\t\t\tappendTo: \"body\",\n\t\t\thelper: \"clone\",\n\t\t\tstart: function (e, ui) {\n\t\t\t\t$(ui.helper).addClass(classes);\n\t\t\t},\n\t\t\tzIndex: 99999\n\t\t});\n\t\t$(\"#settingsShortCutsContainer\").droppable({\n\t\t\tactiveClass: \"ui-state-default\",\n\t\t\thoverClass: \"ui-state-hover\",\n\t\t\taccept: \".js-menu__item .js-menu__link--draggable\",\n\t\t\tdrop: function (event, ui) {\n\t\t\t\tvar url = ui.draggable.attr('href');\n\t\t\t\tvar isExist = false;\n\t\t\t\t$('#settingsShortCutsContainer [id^=\"shortcut\"]').each(function () {\n\t\t\t\t\tvar shortCutUrl = $(this).data('url');\n\t\t\t\t\tif (shortCutUrl == url) {\n\t\t\t\t\t\tisExist = true;\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\tif (isExist) {\n\t\t\t\t\tvar params = {\n\t\t\t\t\t\ttitle: app.vtranslate('JS_MESSAGE'),\n\t\t\t\t\t\ttext: app.vtranslate('JS_SHORTCUT_ALREADY_ADDED'),\n\t\t\t\t\t\ttype: 'info'\n\t\t\t\t\t};\n\t\t\t\t\tVtiger_Helper_Js.showPnotify(params);\n\t\t\t\t} else {\n\t\t\t\t\tthisInstance.registerPinShortCutEvent(ui.draggable.parent());\n\t\t\t\t\tthisInstance.registerSettingShortCutAlignmentEvent();\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t},\n\tregisterReAlign: function () {\n\n\t\tvar params = {\n\t\t\t'mode': 'realignSettingsShortCutBlock',\n\t\t\t'module': 'Vtiger',\n\t\t\t'parent': 'Settings',\n\t\t\t'view': 'IndexAjax'\n\t\t}\n\n\t\tAppConnector.request(params).done(function (data) {\n\t\t\t$('#settingsShortCutsContainer').html(data);\n\t\t});\n\t},\n\tloadEditorElement: function () {\n\t\tnew App.Fields.Text.Editor($('.js-editor'), {});\n\t},\n\tregisterSaveIssues: function () {\n\t\tvar container = $('.addIssuesModal');\n\t\tcontainer.validationEngine(app.validationEngineOptions);\n\t\tvar title = $('#titleIssues');\n\t\tvar CKEditorInstance = CKEDITOR.instances['bodyIssues'];\n\t\tvar thisInstance = this;\n\t\tvar saveBtn = container.find('.saveIssues');\n\t\tsaveBtn.on('click', function () {\n\t\t\tif (container.validationEngine('validate')) {\n\t\t\t\tvar body = CKEditorInstance.document.getBody().getHtml();\n\t\t\t\tvar params = {\n\t\t\t\t\tmodule: 'Github',\n\t\t\t\t\tparent: app.getParentModuleName(),\n\t\t\t\t\taction: 'SaveIssuesAjax',\n\t\t\t\t\ttitle: title.val(),\n\t\t\t\t\tbody: body\n\t\t\t\t};\n\t\t\t\tAppConnector.request(params).done(function (data) {\n\t\t\t\t\tapp.hideModalWindow();\n\t\t\t\t\tthisInstance.reloadContent();\n\t\t\t\t\tif (data.result.success == true) {\n\t\t\t\t\t\tvar params = {\n\t\t\t\t\t\t\ttitle: app.vtranslate('JS_LBL_PERMISSION'),\n\t\t\t\t\t\t\ttext: app.vtranslate('JS_ADDED_ISSUE_COMPLETE'),\n\t\t\t\t\t\t\ttype: 'success',\n\t\t\t\t\t\t};\n\t\t\t\t\t\tVtiger_Helper_Js.showMessage(params);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\t\t$('[name=\"confirmRegulations\"]').on('click', function () {\n\t\t\tvar currentTarget = $(this);\n\t\t\tif (currentTarget.is(':checked')) {\n\t\t\t\tsaveBtn.removeAttr('disabled');\n\t\t\t} else {\n\t\t\t\tsaveBtn.attr('disabled', 'disabled');\n\t\t\t}\n\t\t});\n\t},\n\treloadContent: function () {\n\t\t$('.js-tabs li .active').trigger('click');\n\t},\n\tresisterSaveKeys: function (modal) {\n\t\tvar thisInstance = this;\n\t\tvar container = modal.find('.authModalContent');\n\t\tcontainer.validationEngine(app.validationEngineOptions);\n\t\tcontainer.find('.saveKeys').on('click', function () {\n\t\t\tif (container.validationEngine('validate')) {\n\t\t\t\tvar params = {\n\t\t\t\t\tmodule: 'Github',\n\t\t\t\t\tparent: app.getParentModuleName(),\n\t\t\t\t\taction: 'SaveKeysAjax',\n\t\t\t\t\tusername: $('[name=\"username\"]').val(),\n\t\t\t\t\tclient_id: $('[name=\"client_id\"]').val(),\n\t\t\t\t\ttoken: $('[name=\"token\"]').val()\n\t\t\t\t};\n\t\t\t\tcontainer.progressIndicator({});\n\t\t\t\tAppConnector.request(params).done(function (data) {\n\t\t\t\t\tcontainer.progressIndicator({mode: 'hide'});\n\t\t\t\t\tif (data.result.success == false) {\n\t\t\t\t\t\tvar errorDiv = container.find('.errorMsg');\n\t\t\t\t\t\terrorDiv.removeClass('d-none');\n\t\t\t\t\t\terrorDiv.html(app.vtranslate('JS_ERROR_KEY'));\n\t\t\t\t\t} else {\n\t\t\t\t\t\tapp.hideModalWindow();\n\t\t\t\t\t\tthisInstance.reloadContent();\n\t\t\t\t\t\tvar params = {\n\t\t\t\t\t\t\ttitle: app.vtranslate('JS_LBL_PERMISSION'),\n\t\t\t\t\t\t\ttext: app.vtranslate('JS_AUTHORIZATION_COMPLETE'),\n\t\t\t\t\t\t\ttype: 'success',\n\t\t\t\t\t\t};\n\t\t\t\t\t\tVtiger_Helper_Js.showMessage(params);\n\t\t\t\t\t}\n\t\t\t\t}).fail(function (error, err) {\n\t\t\t\t\tcontainer.progressIndicator({mode: 'hide'});\n\t\t\t\t\tapp.hideModalWindow();\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\t},\n\tregisterTabEvents: function () {\n\t\tvar thisInstance = this;\n\t\t$('.js-tabs li').on('click', function () {\n\t\t\tthisInstance.loadContent($(this).data('mode'), false, $(this).data('params'));\n\t\t});\n\t},\n\tregisterPagination: function () {\n\t\tvar page = $('.pagination .pageNumber');\n\t\tvar thisInstance = this;\n\t\tpage.on('click', function () {\n\t\t\tthisInstance.loadContent('github', $(this).data('id'));\n\t\t});\n\t},\n\tregisterAuthorizedEvent: function () {\n\t\tvar thisInstance = this;\n\t\t$('.showModal').on('click', function () {\n\t\t\tapp.showModalWindow($('.authModal'), function (container) {\n\t\t\t\tthisInstance.resisterSaveKeys(container);\n\t\t\t});\n\t\t});\n\t},\n\tregisterGithubEvents: function (container) {\n\t\tvar thisInstance = this;\n\t\tthisInstance.registerAuthorizedEvent();\n\t\tthisInstance.registerPagination();\n\t\tcontainer.find('.js-switch--state, .js-switch--author').on('change', () => {\n\t\t\tthisInstance.loadContent('github', 1);\n\t\t});\n\t\t$('.addIssuesBtn').on('click', function () {\n\t\t\tvar params = {\n\t\t\t\tmodule: 'Github',\n\t\t\t\tparent: app.getParentModuleName(),\n\t\t\t\tview: 'AddIssue'\n\t\t\t};\n\t\t\tcontainer.progressIndicator({});\n\t\t\tAppConnector.request(params).done(function (data) {\n\t\t\t\tcontainer.progressIndicator({mode: 'hide'});\n\t\t\t\tapp.showModalWindow(data, function () {\n\t\t\t\t\tthisInstance.loadEditorElement();\n\t\t\t\t\tthisInstance.registerSaveIssues();\n\t\t\t\t});\n\t\t\t});\n\t\t});\n\t},\n\tregisterWarningsAlert: function () {\n\t\tconst alertsContainer = $('#systemWarningAletrs');\n\t\tif (alertsContainer.length) {\n\t\t\tapp.showModalWindow(alertsContainer, function () {\n\t\t\t\talertsContainer.find('.warning').first().removeClass('d-none');\n\t\t\t\talertsContainer.find('.warning .btn').on('click', function (e) {\n\t\t\t\t\tlet btn = $(this),\n\t\t\t\t\t\tsave = true,\n\t\t\t\t\t\tparams;\n\t\t\t\t\tif (btn.hasClass('ajaxBtn')) {\n\t\t\t\t\t\tif (btn.data('params') === undefined) {\n\t\t\t\t\t\t\tlet form = btn.closest('form');\n\t\t\t\t\t\t\tif (form.hasClass('validateForm') && !form.validationEngine('validate')) {\n\t\t\t\t\t\t\t\tsave = false;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tparams = btn.closest('form').serializeArray().reduce(function (obj, item) {\n\t\t\t\t\t\t\t\tobj[item.name] = item.value;\n\t\t\t\t\t\t\t\treturn obj;\n\t\t\t\t\t\t\t}, {});\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tparams = btn.data('params');\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (save) {\n\t\t\t\t\t\t\tAppConnector.request({\n\t\t\t\t\t\t\t\tmodule: app.getModuleName(),\n\t\t\t\t\t\t\t\tparent: app.getParentModuleName(),\n\t\t\t\t\t\t\t\taction: 'SystemWarnings',\n\t\t\t\t\t\t\t\tmode: 'update',\n\t\t\t\t\t\t\t\tid: btn.closest('.warning').data('id'),\n\t\t\t\t\t\t\t\tparams: params,\n\t\t\t\t\t\t\t}).done(function (data) {\n\t\t\t\t\t\t\t\tif (data.result.result) {\n\t\t\t\t\t\t\t\t\tVtiger_Helper_Js.showMessage({text: data.result.message, type: 'success'});\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tVtiger_Helper_Js.showMessage({text: data.result.message, type: 'error'});\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif (btn.hasClass('cancel')) {\n\t\t\t\t\t\tAppConnector.request({\n\t\t\t\t\t\t\tmodule: app.getModuleName(),\n\t\t\t\t\t\t\tparent: app.getParentModuleName(),\n\t\t\t\t\t\t\taction: 'SystemWarnings',\n\t\t\t\t\t\t\tmode: 'cancel'\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t\tif (save) {\n\t\t\t\t\t\talertsContainer.find('.warning').first().remove();\n\t\t\t\t\t\tif (alertsContainer.find('.warning').length) {\n\t\t\t\t\t\t\talertsContainer.find('.warning').first().removeClass('d-none');\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tapp.hideModalWindow(alertsContainer);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\talertsContainer.find('.input-group-addon input[type=\"checkbox\"]').on('click', function (e) {\n\t\t\t\t\tlet btn = $(this),\n\t\t\t\t\t\tgroup = btn.closest('.input-group')\n\t\t\t\t\tif (this.checked) {\n\t\t\t\t\t\tgroup.find('input[type=\"text\"]').attr(\"disabled\", false);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tgroup.find('input[type=\"text\"]').attr(\"disabled\", true);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t});\n\t\t}\n\t},\n\tregisterSystemWarningsEvents: function (container) {\n\t\tvar thisInstance = this;\n\t\tthisInstance.registerWarningsFolders(container);\n\t},\n\tregisterWarningsFolders: function (container) {\n\t\tvar thisInstance = this;\n\t\tvar data = [];\n\t\tvar treeValues = container.find('#treeValues').val();\n\t\tif (treeValues) {\n\t\t\tdata = JSON.parse(treeValues);\n\t\t}\n\t\tcontainer.find('#jstreeContainer').jstree({\n\t\t\tcore: {\n\t\t\t\tdata: data,\n\t\t\t\tthemes: {\n\t\t\t\t\tname: 'proton',\n\t\t\t\t\tresponsive: true,\n\t\t\t\t\ticons: false\n\t\t\t\t},\n\t\t\t\tcheck_callback: true\n\t\t\t},\n\t\t\tplugins: [\"checkbox\"]\n\t\t}).on(\"loaded.jstree\", function (event, data) {\n\t\t\t$(this).jstree(\"open_all\");\n\t\t}).on('changed.jstree', function (e, data) {\n\t\t\tif (data.action != 'model') {\n\t\t\t\tthisInstance.getWarningsList();\n\t\t\t}\n\t\t});\n\t\t$.extend($.fn.dataTable.defaults, {\n\t\t\tlanguage: {\n\t\t\t\tsLengthMenu: app.vtranslate('JS_S_LENGTH_MENU'),\n\t\t\t\tsZeroRecords: app.vtranslate('JS_NO_RESULTS_FOUND'),\n\t\t\t\tsInfo: app.vtranslate('JS_S_INFO'),\n\t\t\t\tsInfoEmpty: app.vtranslate('JS_S_INFO_EMPTY'),\n\t\t\t\tsSearch: app.vtranslate('JS_SEARCH'),\n\t\t\t\tsEmptyTable: app.vtranslate('JS_NO_RESULTS_FOUND'),\n\t\t\t\tsInfoFiltered: app.vtranslate('JS_S_INFO_FILTERED'),\n\t\t\t\tsLoadingRecords: app.vtranslate('JS_LOADING_OF_RECORDS'),\n\t\t\t\tsProcessing: app.vtranslate('JS_LOADING_OF_RECORDS'),\n\t\t\t\toPaginate: {\n\t\t\t\t\tsFirst: app.vtranslate('JS_S_FIRST'),\n\t\t\t\t\tsPrevious: app.vtranslate('JS_S_PREVIOUS'),\n\t\t\t\t\tsNext: app.vtranslate('JS_S_NEXT'),\n\t\t\t\t\tsLast: app.vtranslate('JS_S_LAST')\n\t\t\t\t},\n\t\t\t\toAria: {\n\t\t\t\t\tsSortAscending: app.vtranslate('JS_S_SORT_ASCENDING'),\n\t\t\t\t\tsSortDescending: app.vtranslate('JS_S_SORT_DESCENDING')\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t\tcontainer.find('.js-switch--warnings').on('change', () => {\n\t\t\tthisInstance.getWarningsList();\n\t\t});\n\t},\n\tgetWarningsList: function () {\n\t\tvar thisInstance = this;\n\t\tvar selected = thisInstance.getSelectedFolders();\n\t\tvar container = $('#warningsContent');\n\t\tvar progressIndicator = $.progressIndicator({\n\t\t\tmessage: app.vtranslate('JS_LOADING_OF_RECORDS'),\n\t\t\tblockInfo: {enabled: true}\n\t\t});\n\t\tvar active = $('.warningsIndexPage .js-switch--warnings').first().is(':checked');\n\t\tAppConnector.request({\n\t\t\tmodule: app.getModuleName(),\n\t\t\tparent: app.getParentModuleName(),\n\t\t\tview: 'Index',\n\t\t\tmode: 'getWarningsList',\n\t\t\tactive: active,\n\t\t\tfolder: selected\n\t\t}).done(function (data) {\n\t\t\tcontainer.html(data);\n\t\t\tthisInstance.registerWarningsList(container);\n\t\t\tprogressIndicator.progressIndicator({mode: 'hide'});\n\t\t}).fail(function (error) {\n\t\t\tprogressIndicator.progressIndicator({mode: 'hide'});\n\t\t});\n\t},\n\tregisterWarningsList: function (container) {\n\t\tvar thisInstance = this;\n\t\tcontainer.find('table').dataTable({\n\t\t\torder: [[2, 'desc']]\n\t\t});\n\t\tcontainer.find('.showDescription').on('click', function (e) {\n\t\t\tvar html = $(this).closest('td').find('.showDescriptionContent').html();\n\t\t\tapp.showModalWindow(html);\n\t\t});\n\t\tcontainer.find('.setIgnore').on('click', function (e) {\n\t\t\tcontainer.find('.js-popover-tooltip').popover('hide');\n\t\t\tvar data = $(this).closest('tr').data();\n\t\t\tAppConnector.request({\n\t\t\t\tmodule: app.getModuleName(),\n\t\t\t\tparent: app.getParentModuleName(),\n\t\t\t\taction: 'SystemWarnings',\n\t\t\t\tmode: 'update',\n\t\t\t\tid: data.id,\n\t\t\t\tparams: data.status,\n\t\t\t}).done(function (data) {\n\t\t\t\tthisInstance.getWarningsList(container);\n\t\t\t});\n\t\t});\n\t},\n\tgetSelectedFolders: function () {\n\t\tvar selected = [];\n\t\t$.each($('#jstreeContainer').jstree(\"get_selected\", true), function (index, value) {\n\t\t\tselected.push(value.original.subPath);\n\t\t});\n\t\treturn selected;\n\t},\n\tloadContent: function (mode, page, modeParams) {\n\t\tvar thisInstance = this;\n\t\tvar container = $('.indexContainer');\n\t\tvar state = container.find('.js-switch--state');\n\t\tvar author = container.find('.js-switch--author');\n\t\tvar params = {\n\t\t\tmode: mode,\n\t\t\tmodule: app.getModuleName(),\n\t\t\tparent: app.getParentModuleName(),\n\t\t\tview: 'Index'\n\t\t};\n\t\tif (page) {\n\t\t\tparams.page = page;\n\t\t}\n\t\tif (modeParams) {\n\t\t\tparams.params = modeParams;\n\t\t}\n\t\tif (state.last().is(':checked')) {\n\t\t\tparams.state = 'closed';\n\t\t} else {\n\t\t\tparams.state = 'open';\n\t\t}\n\t\tparams.author = author.first().is(':checked');\n\t\tvar progressIndicatorElement = $.progressIndicator({\n\t\t\tposition: 'html',\n\t\t\t'blockInfo': {\n\t\t\t\t'enabled': true,\n\t\t\t\t'elementToBlock': container\n\t\t\t}\n\t\t});\n\t\tAppConnector.request(params).done(function (data) {\n\t\t\tprogressIndicatorElement.progressIndicator({mode: 'hide'});\n\t\t\tcontainer.html(data);\n\t\t\tif (mode == 'index') {\n\t\t\t\tthisInstance.registerSettingsShortcutClickEvent();\n\t\t\t\tthisInstance.registerDeleteShortCutEvent();\n\t\t\t\tthisInstance.registerWidgetsEvents();\n\t\t\t\tthisInstance.registerAddShortcutDragDropEvent();\n\t\t\t\tthisInstance.registerSettingShortCutAlignmentEvent();\n\t\t\t\tthisInstance.registerWarningsAlert();\n\t\t\t} else if (mode == 'github') {\n\t\t\t\tthisInstance.registerGithubEvents(container);\n\t\t\t} else if (mode == 'systemWarnings') {\n\t\t\t\tthisInstance.registerSystemWarningsEvents(container);\n\t\t\t}\n\t\t});\n\t},\n\tregisterEvents: function () {\n\t\tthis.registerTabEvents();\n\t\tthis.reloadContent();\n\t}\n});\n"],"names":["$","Class","showMessage","customParams","type","title","app","vtranslate","params","extend","Vtiger_Helper_Js","showPnotify","selectIcon","Deferred","showModalWindow","id","url","cb","container","App","Fields","Picklist","showSelect2ElementView","find","templateSelection","data","text","element","val","html","value","templateResult","option","closeOnSelect","on","aDeferred","resolve","name","hideModalWindow","promise","showWarnings","click","showSecurity","openUrl","getParentModuleName","registerDeleteShortCutEvent","shortCutBlock","e","currentTarget","closestBlock","actionEle","closest","fieldId","shortcutBlockActionUrl","progressIndicatorElement","progressIndicator","AppConnector","request","done","result","SUCCESS","remove","thisInstance","registerSettingShortCutAlignmentEvent","imagePath","shortCutActionEle","attr","registerReAlign","stopPropagation","registerPinShortCutEvent","appendTo","existingDivBlock","Settings_Vtiger_Index_Js","registerSettingsShortcutClickEvent","window","location","href","removeClass","addClass","registerWidgetsEvents","widgets","quickWidgetHeader","widgetContainer","imageEle","registerAddShortcutDragDropEvent","elements","draggable","containment","helper","start","ui","zIndex","droppable","activeClass","hoverClass","accept","drop","event","isExist","each","shortCutUrl","parent","loadEditorElement","Text","Editor","registerSaveIssues","validationEngine","validationEngineOptions","CKEditorInstance","CKEDITOR","instances","saveBtn","document","getBody","getHtml","module","action","body","reloadContent","success","is","removeAttr","trigger","resisterSaveKeys","modal","username","client_id","token","mode","errorDiv","fail","registerTabEvents","loadContent","registerPagination","page","registerAuthorizedEvent","registerGithubEvents","view","registerWarningsAlert","alertsContainer","length","first","btn","save","hasClass","form","serializeArray","reduce","obj","item","getModuleName","message","group","checked","registerSystemWarningsEvents","registerWarningsFolders","treeValues","JSON","parse","jstree","core","themes","responsive","icons","check_callback","plugins","getWarningsList","fn","dataTable","defaults","language","sLengthMenu","sZeroRecords","sInfo","sInfoEmpty","sSearch","sEmptyTable","sInfoFiltered","sLoadingRecords","sProcessing","oPaginate","sFirst","sPrevious","sNext","sLast","oAria","sSortAscending","sSortDescending","selected","getSelectedFolders","blockInfo","enabled","active","folder","registerWarningsList","order","popover","status","index","push","original","subPath","modeParams","state","author","last","position","registerEvents"],"mappings":"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"}