{"version":3,"file":"AdvanceFilter.min.js","sources":["AdvanceFilter.js"],"sourcesContent":["/*+***********************************************************************************\n * The contents of this file are subject to the vtiger CRM Public License Version 1.0\n * (\"License\"); You may not use this file except in compliance with the License\n * The Original Code is:  vtiger CRM Open Source\n * The Initial Developer of the Original Code is vtiger.\n * Portions created by vtiger are Copyright (C) vtiger.\n * All Rights Reserved.\n * Contributor(s): YetiForce.com\n *************************************************************************************/\n'use strict';\n\njQuery.Class(\"Vtiger_AdvanceFilter_Js\", {\n\tgetInstance: function (container) {\n\t\tvar module = app.getModuleName();\n\t\tvar moduleClassName1 = module + \"_AdvanceFilterEx_Js\";\n\t\tvar moduleClassName2 = module + \"_AdvanceFilter_Js\";\n\t\tvar moduleClassName3 = \"Vtiger_AdvanceFilterEx_Js\";\n\t\tvar moduleClassName4 = \"Vtiger_AdvanceFilter_Js\";\n\t\tvar instance;\n\t\tif (typeof window[moduleClassName1] !== \"undefined\") {\n\t\t\tinstance = new window[moduleClassName1](container);\n\t\t} else if (typeof window[moduleClassName2] !== \"undefined\") {\n\t\t\tinstance = new window[moduleClassName2](container);\n\t\t} else if (typeof window[moduleClassName3] !== \"undefined\") {\n\t\t\tinstance = new window[moduleClassName3](container);\n\t\t} else {\n\t\t\tinstance = new window[moduleClassName4](container);\n\t\t}\n\t\treturn instance;\n\t}\n}, {\n\tfilterContainer: false,\n\t//Hold the conditions for a particular field type\n\tfieldTypeConditionMapping: false,\n\t//Hold the condition and their label translations\n\tconditonOperatorLabelMapping: false,\n\tdateConditionInfo: false,\n\tfieldModelInstance: false,\n\t//Holds fields type and conditions for which it needs validation\n\tvalidationSupportedFieldConditionMap: {\n\t\t'email': ['e', 'n']\n\t},\n\t//Hols field type for which there is validations always needed\n\tallConditionValidationNeededFieldList: ['double', 'integer', 'currency'],\n\t//used to eliminate mutiple times validation registrations\n\tvalidationForControlsRegistered: false,\n\tinit: function (container) {\n\t\tif (typeof container === \"undefined\") {\n\t\t\tcontainer = jQuery('.filterContainer');\n\t\t}\n\n\t\tif (container.is('.filterContainer')) {\n\t\t\tthis.setFilterContainer(container);\n\t\t} else {\n\t\t\tthis.setFilterContainer(jQuery('.filterContainer', container));\n\t\t}\n\t\tthis.initialize();\n\t},\n\tgetModuleName: function () {\n\t\treturn 'AdvanceFilter';\n\t},\n\t/**\n\t * Function  to initialize the advance filter\n\t */\n\tinitialize: function () {\n\t\tthis.registerEvents();\n\t\tthis.initializeOperationMappingDetails();\n\t\tthis.loadFieldSpecificUiForAll();\n\t},\n\t/**\n\t * Function which will save the field condition mapping condition label mapping\n\t */\n\tinitializeOperationMappingDetails: function () {\n\t\tvar filterContainer = this.getFilterContainer();\n\t\tthis.fieldTypeConditionMapping = jQuery('input[name=\"advanceFilterOpsByFieldType\"]', filterContainer).data('value');\n\t\tthis.conditonOperatorLabelMapping = jQuery('input[name=\"advanceFilterOptions\"]', filterContainer).data('value');\n\t\tthis.dateConditionInfo = jQuery('[name=\"date_filters\"]').data('value');\n\t\treturn this;\n\t},\n\t/**\n\t * Function to get the container which holds all the filter elements\n\t * @return jQuery object\n\t */\n\tgetFilterContainer: function () {\n\t\treturn this.filterContainer;\n\t},\n\t/**\n\t * Function to set the filter container\n\t * @params : element - which represents the filter container\n\t * @return : current instance\n\t */\n\tsetFilterContainer: function (element) {\n\t\tthis.filterContainer = element;\n\t\treturn this;\n\t},\n\tgetDateSpecificConditionInfo: function () {\n\t\treturn this.dateConditionInfo;\n\t},\n\t/**\n\t * Function which will return set of condition for the given field type\n\t * @return array of conditions\n\t */\n\tgetConditionListFromType: function (fieldType) {\n\t\tvar fieldTypeConditions = this.fieldTypeConditionMapping[fieldType];\n\t\tif (fieldType == 'D' || fieldType == 'DT') {\n\t\t\tfieldTypeConditions = fieldTypeConditions.concat(this.getDateConditions(fieldType));\n\t\t}\n\t\treturn fieldTypeConditions;\n\t},\n\tgetDateConditions: function (fieldType) {\n\t\tif (fieldType != 'D' && fieldType != 'DT') {\n\t\t\treturn [];\n\t\t}\n\t\tvar dateFilters = this.getDateSpecificConditionInfo();\n\t\treturn Object.keys(dateFilters);\n\t},\n\t/**\n\t * Function to get the condition label\n\t * @param : key - condition key\n\t * @reurn : label for the condition or key if it doest not contain in the condition label mapping\n\t */\n\tgetConditionLabel: function (key) {\n\t\tif (key in this.conditonOperatorLabelMapping) {\n\t\t\treturn this.conditonOperatorLabelMapping[key];\n\t\t}\n\t\tif (key in this.getDateSpecificConditionInfo()) {\n\t\t\treturn this.getDateSpecificConditionInfo()[key]['label'];\n\t\t}\n\t\treturn key;\n\t},\n\t/**\n\t * Function to check if the field selected is empty field\n\t * @params : select element which represents the field\n\t * @return : boolean true/false\n\t */\n\tisEmptyFieldSelected: function (fieldSelect) {\n\t\tvar selectedOption = fieldSelect.find('option:selected');\n\t\t//assumption that empty field will be having value none\n\t\tif (selectedOption.val() == 'none') {\n\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t},\n\t/**\n\t * Function to get the add condition elements\n\t * @returns : jQuery object which represents the add conditions elements\n\t */\n\tgetAddConditionElement: function () {\n\t\tvar filterContainer = this.getFilterContainer();\n\t\treturn jQuery('.addCondition button', filterContainer);\n\t},\n\t/**\n\t * Function to add new condition row\n\t * @params : condtionGroupElement - group where condtion need to be added\n\t * @return : current instance\n\t */\n\taddNewCondition: function (conditionGroupElement) {\n\t\tlet basicElement = $('.basic', conditionGroupElement);\n\t\tlet newRowElement = basicElement.find('.js-conditions-row').clone(true, true);\n\t\tlet selectElement = newRowElement.find('select').addClass('select2');\n\t\tlet conditionList = $('.conditionList', conditionGroupElement);\n\t\tconditionList.append(newRowElement);\n\t\tApp.Fields.Picklist.showSelect2ElementView(selectElement, {dropdownParent: conditionGroupElement});\n\t\treturn this;\n\t},\n\t/**\n\t * Function/Handler  which will triggered when user clicks on add condition\n\t */\n\taddConditionHandler: function (e) {\n\t\tvar element = jQuery(e.currentTarget);\n\t\tvar conditionGroup = element.closest('div.conditionGroup');\n\t\tthis.addNewCondition(conditionGroup);\n\t},\n\tgetFieldSpecificType: function (fieldSelected) {\n\t\tvar fieldInfo = fieldSelected.data('fieldinfo');\n\t\tvar type = fieldInfo.type;\n\t\tif (type == 'reference') {\n\t\t\treturn 'V';\n\t\t}\n\t\treturn fieldSelected.data('fieldtype');\n\t},\n\t/**\n\t * Function to load condition list for the selected field\n\t * @params : fieldSelect - select element which will represents field list\n\t * @return : select element which will represent the condition element\n\t */\n\tloadConditions: function (fieldSelect) {\n\t\tvar row = fieldSelect.closest('div.js-conditions-row');\n\t\tvar conditionSelectElement = row.find('select[name=\"comparator\"]');\n\t\tvar group = row.find('[name=\"column_condition\"]');\n\t\tvar conditionSelected = conditionSelectElement.val();\n\t\tvar fieldSelected = fieldSelect.find('option:selected');\n\t\tvar fieldSpecificType = this.getFieldSpecificType(fieldSelected);\n\t\tvar conditionList = this.getConditionListFromType(fieldSpecificType);\n\t\tvar fieldInfo = fieldSelected.data('fieldinfo');\n\t\t//for none in field name\n\t\tif (typeof conditionList === \"undefined\") {\n\t\t\tconditionList = {};\n\t\t\tconditionList['none'] = 'None';\n\t\t}\n\t\tvar options = '';\n\t\tfor (var key in conditionList) {\n\t\t\tif (jQuery.inArray(fieldInfo.type, ['rangeTime', 'image']) != -1 && jQuery.inArray(conditionList[key], ['y', 'ny']) == -1) {\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\tif (jQuery.inArray(fieldInfo.type, ['userCreator', 'owner', 'picklist', 'modules', 'tree', 'inventoryLimit', 'languages', 'currencyList', 'fileLocationType']) != -1 && jQuery.inArray(conditionList[key], ['s', 'ew', 'c', 'k']) != -1) {\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\tif (conditionList[key] === 'om' && jQuery.inArray(fieldInfo.type, ['owner', 'sharedOwner', 'userCreator']) == -1) {\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\tif (jQuery.inArray(conditionList[key], ['wr', 'nwr']) != -1 && jQuery.inArray(fieldInfo.type, ['owner']) == -1) {\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\tif (jQuery.inArray(conditionList[key], ['s', 'ew']) != -1 && jQuery.inArray(fieldInfo.type, ['taxes', 'multipicklist', 'categoryMultipicklist', 'sharedOwner']) != -1) {\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\tif (jQuery.inArray(conditionList[key], ['bw', 'm', 'h']) != -1 && jQuery.inArray(fieldInfo.type, ['time']) != -1) {\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\tif (conditionList[key] === 'd' && group.val() !== 'and') {\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\t//IE Browser consider the prototype properties also, it should consider has own properties only.\n\t\t\tif (conditionList.hasOwnProperty(key)) {\n\t\t\t\tvar conditionValue = conditionList[key];\n\t\t\t\tvar conditionLabel = this.getConditionLabel(conditionValue);\n\t\t\t\toptions += '<option value=\"' + conditionValue + '\"';\n\t\t\t\tif (conditionValue == conditionSelected) {\n\t\t\t\t\toptions += ' selected=\"selected\" ';\n\t\t\t\t}\n\t\t\t\toptions += '>' + conditionLabel + '</option>';\n\t\t\t}\n\t\t}\n\t\tconditionSelectElement.empty().html(options).trigger('change');\n\t\treturn conditionSelectElement;\n\t},\n\t/**\n\t * Functiont to get the field specific ui for the selected field\n\t * @prarms : fieldSelectElement - select element which will represents field list\n\t * @return : jquery object which represents the ui for the field\n\t */\n\tgetFieldSpecificUi: function (fieldSelectElement) {\n\t\tlet fieldModel = this.fieldModelInstance,\n\t\t\thtml;\n\t\tif (fieldModel.get('comparatorElementVal') === 'd') {\n\t\t\thtml = '<div class=\"checkbox\"><label><input type=\"checkbox\" name=\"' + fieldModel.getName() + '\" value=\"0\" ';\n\t\t\tif (fieldModel.getValue() === 1 || fieldModel.getValue() === '1') {\n\t\t\t\thtml += 'checked';\n\t\t\t}\n\t\t\thtml += ' >' + app.vtranslate('JS_IGNORE_EMPTY_VALUES') + '</label></div>';\n\t\t\treturn $(html);\n\t\t} else if (fieldModel.getType().toLowerCase() === \"boolean\") {\n\t\t\tlet selectedValue = fieldSelectElement.closest('.js-conditions-row').find('[data-value=\"value\"]').val();\n\t\t\thtml = '<select class=\"select2\" name=\"' + fieldModel.getName() + '\">';\n\t\t\thtml += '<option value=\"0\"';\n\t\t\tif (selectedValue === '0') {\n\t\t\t\thtml += ' selected=\"selected\" ';\n\t\t\t}\n\t\t\thtml += '>' + app.vtranslate('JS_IS_DISABLED') + '</option>';\n\n\t\t\thtml += '<option value=\"1\"';\n\t\t\tif (selectedValue === '1') {\n\t\t\t\thtml += ' selected=\"selected\" ';\n\t\t\t}\n\t\t\thtml += '>' + app.vtranslate('JS_IS_ENABLED') + '</option>';\n\t\t\thtml += '</select>';\n\t\t\treturn $(html);\n\t\t} else {\n\t\t\treturn $(fieldModel.getUiTypeSpecificHtml());\n\t\t}\n\t},\n\t/**\n\t * Function which will load the field specific ui for a selected field\n\t * @prarms : fieldSelect - select element which will represents field list\n\t * @return : current instance\n\t */\n\tloadFieldSpecificUi: function (fieldSelect) {\n\t\tconst selectedOption = fieldSelect.find('option:selected');\n\t\tconst row = fieldSelect.closest('div.js-conditions-row');\n\t\tconst fieldUiHolder = row.find('.fieldUiHolder');\n\t\tconst conditionSelectElement = row.find('select[name=\"comparator\"]');\n\t\tlet fieldInfo = selectedOption.data('fieldinfo');\n\t\tconst valueType = fieldUiHolder.find(`[name=\"${fieldInfo.name}\"]`).data('valuetype');\n\t\tlet fieldType = 'string';\n\t\tif (typeof fieldInfo !== \"undefined\") {\n\t\t\tfieldType = fieldInfo.type;\n\t\t} else {\n\t\t\tfieldInfo = {};\n\t\t}\n\n\t\tvar comparatorElementVal = fieldInfo.comparatorElementVal = conditionSelectElement.val();\n\t\tif (fieldType == 'date' || fieldType == 'datetime') {\n\t\t\tfieldInfo.dateSpecificConditions = this.getDateSpecificConditionInfo();\n\t\t}\n\t\tvar moduleName = this.getModuleName();\n\t\tvar fieldModel = Vtiger_Field_Js.getInstance(fieldInfo, moduleName);\n\t\tthis.fieldModelInstance = fieldModel;\n\t\tvar fieldSpecificUi = this.getFieldSpecificUi(fieldSelect);\n\n\t\t//remove validation since we dont need validations for all eleements\n\t\t// Both filter and find is used since we dont know whether the element is enclosed in some conainer like currency\n\t\tvar fieldName = fieldModel.getName();\n\n\t\tif ($.inArray(fieldModel.getType(), ['multipicklist', 'sharedOwner', 'multiReferenceValue', 'taxes', 'categoryMultipicklist']) > -1) {\n\t\t\tfieldName = fieldName + \"[]\";\n\t\t} else if (($.inArray(fieldModel.getType(), ['userCreator', 'picklist', 'owner', 'languages', 'modules', 'inventoryLimit', 'currencyList', 'fileLocationType']) > -1) &&\n\t\t\tfieldSpecificUi.is('select') && (comparatorElementVal == 'e' || comparatorElementVal == 'n')) {\n\t\t\tfieldName = fieldName + \"[]\";\n\t\t}\n\n\t\tif (fieldSpecificUi.find('.input-group-addon').length > 0) {\n\t\t\tfieldSpecificUi.find('.input-group').addClass('row');\n\t\t\tfieldSpecificUi.find('.input-group').addClass('row');\n\t\t\tfieldSpecificUi.find('input[type=\"text\"]').css('width', '100%');\n\t\t\tfieldSpecificUi.find('input[type=\"text\"]').addClass('form-control');\n\t\t} else {\n\t\t\tfieldSpecificUi.filter('[name=\"' + fieldName + '\"]').addClass('form-control');\n\t\t}\n\n\t\tfieldSpecificUi.filter('[name=\"' + fieldName + '\"]').attr('data-value', 'value').removeAttr('data-validation-engine');\n\t\tfieldSpecificUi.find('[name=\"' + fieldName + '\"]').attr('data-value', 'value').removeAttr('data-validation-engine');\n\n\t\tif (fieldModel.getType() == 'currency') {\n\t\t\tfieldSpecificUi.filter('[name=\"' + fieldName + '\"]').attr('data-decimal-separator', fieldInfo.decimal_separator).attr('data-group-separator', fieldInfo.group_separator);\n\t\t\tfieldSpecificUi.find('[name=\"' + fieldName + '\"]').attr('data-decimal-separator', fieldInfo.decimal_separator).attr('data-group-separator', fieldInfo.group_separator);\n\t\t}\n\t\tif (valueType) {\n\t\t\tthis.fieldModelInstance.data.workflow_valuetype = valueType;\n\t\t}\n\t\tfieldUiHolder.html(fieldSpecificUi);\n\n\t\tif (fieldSpecificUi.is('select')) {\n\t\t\tApp.Fields.Picklist.showSelect2ElementView(fieldSpecificUi, {dropdownParent: row});\n\t\t} else if (fieldSpecificUi.has('input.dateField').length > 0) {\n\t\t\tApp.Fields.Date.register(fieldSpecificUi);\n\t\t} else if (fieldSpecificUi.has('input.dateRangeField').length > 0) {\n\t\t\tApp.Fields.Date.registerRange(fieldSpecificUi, {ranges: false});\n\t\t} else if (fieldSpecificUi.has('input.clockPicker').length > 0) {\n\t\t\tapp.registerEventForClockPicker(fieldSpecificUi);\n\t\t}\n\t\tthis.addValidationToFieldIfNeeded(fieldSelect);\n\n\t\t// Is Empty, today, tomorrow, yesterday conditions does not need any field input value - hide the UI\n\t\t// re-enable if condition element is chosen.\n\t\tvar specialConditions = [\"y\", \"today\", \"tomorrow\", \"yesterday\", \"smallerthannow\", \"greaterthannow\", \"ny\", \"om\", \"wr\", \"nwr\"];\n\t\tif (specialConditions.indexOf(conditionSelectElement.val()) != -1) {\n\t\t\tfieldUiHolder.hide();\n\t\t} else {\n\t\t\tfieldUiHolder.show();\n\t\t}\n\n\t\treturn this;\n\t},\n\t/**\n\t * Function to load field specific ui for all the select elements - this is used on load\n\t * to show field specific ui for all the fields\n\t */\n\tloadFieldSpecificUiForAll: function () {\n\t\tvar conditionsContainer = jQuery('.conditionList');\n\t\tvar fieldSelectElement = jQuery('select[name=\"columnname\"]', conditionsContainer);\n\t\tjQuery.each(fieldSelectElement, function (i, elem) {\n\t\t\tvar currentElement = jQuery(elem);\n\t\t\tif (currentElement.val() != 'none') {\n\t\t\t\tcurrentElement.trigger('change', {'_intialize': true});\n\t\t\t}\n\t\t});\n\t\treturn this;\n\t},\n\t/**\n\t * Function to add the validation if required\n\t * @prarms : selectFieldElement - select element which will represents field list\n\t */\n\taddValidationToFieldIfNeeded: function (selectFieldElement) {\n\t\tvar selectedOption = selectFieldElement.find('option:selected');\n\t\tvar row = selectFieldElement.closest('div.js-conditions-row');\n\t\tvar fieldSpecificElement = row.find('[data-value=\"value\"]');\n\t\tvar validator = selectedOption.attr('data-validator');\n\n\t\tif (this.isFieldSupportsValidation(selectFieldElement)) {\n\t\t\t//data attribute will not be present while attaching validation engine events . so we are\n\t\t\t//depending on the fallback option which is class\n\t\t\tfieldSpecificElement.addClass('validate[funcCall[Vtiger_Base_Validator_Js.invokeValidation]]')\n\t\t\t\t.attr('data-validation-engine', 'validate[funcCall[Vtiger_Base_Validator_Js.invokeValidation]]')\n\t\t\t\t.attr('data-fieldinfo', JSON.stringify(selectedOption.data('fieldinfo')));\n\t\t\tif (typeof validator !== \"undefined\") {\n\t\t\t\tfieldSpecificElement.attr('data-validator', validator);\n\t\t\t}\n\t\t} else {\n\t\t\tfieldSpecificElement.removeClass('validate[funcCall[Vtiger_Base_Validator_Js.invokeValidation]]')\n\t\t\t\t.removeAttr('data-validation-engine')\n\t\t\t\t.removeAttr('data-fieldinfo');\n\t\t}\n\t\treturn this;\n\t},\n\t/**\n\t * Check if field supports validation\n\t * @prarms : selectFieldElement - select element which will represents field list\n\t * @return - boolen true/false\n\t */\n\tisFieldSupportsValidation: function (fieldSelect) {\n\t\tvar fieldModel = this.fieldModelInstance;\n\t\tvar type = fieldModel.getType();\n\n\t\tif (jQuery.inArray(type, this.allConditionValidationNeededFieldList) >= 0) {\n\t\t\treturn true;\n\t\t}\n\n\t\tvar row = fieldSelect.closest('div.js-conditions-row');\n\t\tvar conditionSelectElement = row.find('select[name=\"comparator\"]');\n\n\t\tvar conditionValue = conditionSelectElement.val();\n\n\t\tif (type in this.validationSupportedFieldConditionMap) {\n\t\t\tif (jQuery.inArray(conditionValue, this.validationSupportedFieldConditionMap[type]) >= 0) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\t\treturn false;\n\t},\n\t/**\n\t * Function to retrieve the values of the filter\n\t * @return : object\n\t */\n\tgetValues: function () {\n\t\tconst thisInstance = this;\n\t\tlet fieldList = ['columnname', 'comparator', 'value', 'column_condition'],\n\t\t\tfilterContainer = this.getFilterContainer(),\n\t\t\tconditionGroups = $('.conditionGroup', filterContainer),\n\t\t\tvalues = {},\n\t\t\tcolumnIndex = 0;\n\t\t$('.conditionGroup', filterContainer).each(function (index, domElement) {\n\t\t\tlet groupElement = $(domElement);\n\t\t\tvalues[index + 1] = {};\n\t\t\tvalues[index + 1]['columns'] = {};\n\t\t\t$('.conditionList .js-conditions-row', groupElement).each(function (i, conditionDomElement) {\n\t\t\t\tlet rowElement = $(conditionDomElement),\n\t\t\t\t\tfieldSelectElement = $('[name=\"columnname\"]', rowElement),\n\t\t\t\t\tvalueSelectElement = $('[data-value=\"value\"]', rowElement);\n\t\t\t\t//To not send empty fields to server\n\t\t\t\tif (thisInstance.isEmptyFieldSelected(fieldSelectElement)) {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t\tlet fieldDataInfo = fieldSelectElement.find('option:selected').data('fieldinfo'),\n\t\t\t\t\tfieldType = fieldDataInfo.type,\n\t\t\t\t\trowValues = {},\n\t\t\t\t\tkey,\n\t\t\t\t\tfield;\n\t\t\t\tif (fieldType === 'owner' || fieldType === 'userCreator') {\n\t\t\t\t\tfor (key in fieldList) {\n\t\t\t\t\t\tfield = fieldList[key];\n\t\t\t\t\t\tif (field === 'value' && valueSelectElement.is('select')) {\n\t\t\t\t\t\t\tlet newValuesArr = valueSelectElement.val();\n\t\t\t\t\t\t\tif (!newValuesArr) {\n\t\t\t\t\t\t\t\trowValues[field] = '';\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\trowValues[field] = newValuesArr.join(',');\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else if (field === 'value' && valueSelectElement.is('input')) {\n\t\t\t\t\t\t\trowValues[field] = valueSelectElement.attr('type') === 'checkbox' && valueSelectElement.prop('checked') ? 1 : valueSelectElement.val();\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\trowValues[field] = $('[name=\"' + field + '\"]', rowElement).val();\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} else if ($.inArray(fieldType, ['picklist', 'multipicklist', 'modules', 'sharedOwner', 'multiReferenceValue', 'inventoryLimit', 'languages', 'currencyList', 'taxes', 'fileLocationType', 'categoryMultipicklist']) > -1) {\n\t\t\t\t\tfor (key in fieldList) {\n\t\t\t\t\t\tfield = fieldList[key];\n\t\t\t\t\t\tif (field === 'value' && valueSelectElement.attr('type') === 'checkbox') {\n\t\t\t\t\t\t\trowValues[field] = valueSelectElement.prop('checked') ? 1 : valueSelectElement.val();\n\t\t\t\t\t\t} else if (field === 'value' && valueSelectElement.is('input')) {\n\t\t\t\t\t\t\tlet pickListValues = valueSelectElement.data('picklistvalues'),\n\t\t\t\t\t\t\t\tvaluesArr = valueSelectElement.val().split(','),\n\t\t\t\t\t\t\t\tnewValuesArr = [];\n\t\t\t\t\t\t\tfor (i = 0; i < valuesArr.length; i++) {\n\t\t\t\t\t\t\t\tif (typeof pickListValues[valuesArr[i]] !== \"undefined\") {\n\t\t\t\t\t\t\t\t\tnewValuesArr.push(pickListValues[valuesArr[i]]);\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tnewValuesArr.push(valuesArr[i]);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\trowValues[field] = newValuesArr.join(',');\n\t\t\t\t\t\t} else if (field === 'value' && valueSelectElement.is('select') && ($.inArray(fieldType, ['picklist', 'multipicklist', 'modules', 'sharedOwner', 'multiReferenceValue', 'inventoryLimit', 'languages', 'currencyList', 'taxes', 'fileLocationType', 'categoryMultipicklist']) > -1)) {\n\t\t\t\t\t\t\tlet value = valueSelectElement.val();\n\t\t\t\t\t\t\tif (value == null) {\n\t\t\t\t\t\t\t\trowValues[field] = value;\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\trowValues[field] = value.join(',');\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\trowValues[field] = $('[name=\"' + field + '\"]', rowElement).val();\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\t\t\t\t\tfor (key in fieldList) {\n\t\t\t\t\t\tfield = fieldList[key];\n\t\t\t\t\t\tif (field === 'value') {\n\t\t\t\t\t\t\trowValues[field] = valueSelectElement.attr('type') === 'checkbox' && valueSelectElement.prop('checked') ? 1 : valueSelectElement.val();\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\trowValues[field] = $('[name=\"' + field + '\"]', rowElement).val();\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (rowElement.is(\":last-child\")) {\n\t\t\t\t\trowValues['column_condition'] = '';\n\t\t\t\t}\n\t\t\t\tvalues[index + 1]['columns'][columnIndex] = rowValues;\n\t\t\t\tcolumnIndex++;\n\t\t\t});\n\t\t\tif (groupElement.find('div.groupCondition').length > 0) {\n\t\t\t\tvalues[index + 1]['condition'] = conditionGroups.find('div.groupCondition [name=\"condition\"]').val();\n\t\t\t}\n\t\t});\n\t\treturn values;\n\n\t},\n\t/**\n\t * Event handle which will be triggred on deletion of a condition row\n\t */\n\tdeleteConditionHandler: function (e) {\n\t\tvar element = jQuery(e.currentTarget);\n\t\tvar row = element.closest('.js-conditions-row');\n\t\trow.remove();\n\t},\n\t/**\n\t * Event handler which is invoked on add condition\n\t */\n\tregisterAddCondition: function () {\n\t\tvar thisInstance = this;\n\t\tthis.getAddConditionElement().on('click', function (e) {\n\t\t\tthisInstance.addConditionHandler(e);\n\t\t});\n\t},\n\t/**\n\t * Function which will register field change event\n\t */\n\tregisterFieldChange: function () {\n\t\tvar filterContainer = this.getFilterContainer();\n\t\tvar thisInstance = this;\n\t\tfilterContainer.on('change', 'select[name=\"columnname\"]', function (e, data) {\n\t\t\tvar currentElement = jQuery(e.currentTarget);\n\t\t\tif (typeof data === \"undefined\" || data._intialize != true) {\n\t\t\t\tvar row = currentElement.closest('div.js-conditions-row');\n\t\t\t\tvar conditionSelectElement = row.find('select[name=\"comparator\"]');\n\t\t\t\tconditionSelectElement.empty();\n\t\t\t}\n\t\t\tthisInstance.loadConditions(currentElement);\n\t\t\tthisInstance.loadFieldSpecificUi(currentElement);\n\t\t});\n\t},\n\t/**\n\t * Function which will register condition change\n\t */\n\tregisterConditionChange: function () {\n\t\tvar filterContainer = this.getFilterContainer();\n\t\tvar thisInstance = this;\n\t\tfilterContainer.on('change', 'select[name=\"comparator\"]', function (e) {\n\t\t\tvar comparatorSelectElement = jQuery(e.currentTarget);\n\t\t\tvar row = comparatorSelectElement.closest('div.js-conditions-row');\n\t\t\tvar fieldSelectElement = row.find('select[name=\"columnname\"]');\n\t\t\t//To handle the validation depending on condtion\n\t\t\tthisInstance.loadFieldSpecificUi(fieldSelectElement);\n\t\t\tthisInstance.addValidationToFieldIfNeeded(fieldSelectElement);\n\t\t});\n\t},\n\t/**\n\t * Function to regisgter delete condition event\n\t */\n\tregisterDeleteCondition: function () {\n\t\tvar thisInstance = this;\n\t\tvar filterContainer = this.getFilterContainer();\n\t\tfilterContainer.on('click', '.js-condition-delete', function (e) {\n\t\t\tthisInstance.deleteConditionHandler(e);\n\t\t});\n\t},\n\t/**\n\t * Function which will regiter all events for this page\n\t */\n\tregisterEvents: function () {\n\t\tthis.registerAddCondition();\n\t\tthis.registerFieldChange();\n\t\tthis.registerDeleteCondition();\n\t\tthis.registerConditionChange();\n\t}\n});\n\nVtiger_Field_Js('AdvanceFilter_Field_Js', {}, {\n\tgetUiTypeSpecificHtml: function () {\n\t\tvar uiTypeModel = this.getUiTypeModel();\n\t\treturn uiTypeModel.getUi();\n\t},\n\tgetModuleName: function () {\n\t\tvar currentModule = app.getModuleName();\n\n\t\tvar type = this.getType();\n\t\tif ($.inArray(type, ['picklist', 'userCreator', 'multipicklist', 'owner', 'userCreator', 'modules', 'date', 'datetime', 'sharedOwner', 'multiReferenceValue', 'inventoryLimit', 'languages', 'currencyList', 'taxes', 'fileLocationType', 'categoryMultipicklist']) > -1) {\n\t\t\tcurrentModule = 'AdvanceFilter';\n\t\t}\n\t\treturn currentModule;\n\t}\n});\n\nVtiger_Picklist_Field_Js('AdvanceFilter_Picklist_Field_Js', {}, {\n\tgetUi: function () {\n\t\tvar html = '<select class=\"select2\" multiple name=\"' + this.getName() + '[]\">';\n\t\tvar pickListValues = this.getPickListValues();\n\t\tvar selectedOption = app.htmlDecode(this.getValue());\n\t\tvar selectedOptionsArray = selectedOption.split(',');\n\t\tfor (var option in pickListValues) {\n\t\t\thtml += '<option value=\"' + option + '\" ';\n\t\t\tif (jQuery.inArray(option, selectedOptionsArray) != -1) {\n\t\t\t\thtml += ' selected ';\n\t\t\t}\n\t\t\thtml += '>' + pickListValues[option] + '</option>';\n\t\t}\n\t\thtml += '</select>';\n\t\tvar selectContainer = jQuery(html);\n\t\tthis.addValidationToElement(selectContainer);\n\t\treturn selectContainer;\n\t}\n});\n\nAdvanceFilter_Picklist_Field_Js('AdvanceFilter_Modules_Field_Js', {}, {});\n\nAdvanceFilter_Picklist_Field_Js('AdvanceFilter_Inventorylimit_Field_Js', {}, {});\n\nAdvanceFilter_Picklist_Field_Js('AdvanceFilter_Filelocationtype_Field_Js', {}, {});\n\nVtiger_Multipicklist_Field_Js('AdvanceFilter_Multipicklist_Field_Js', {}, {});\n\nVtiger_Multipicklist_Field_Js('AdvanceFilter_Categorymultipicklist_Field_Js', {}, {});\n\nAdvanceFilter_Picklist_Field_Js('AdvanceFilter_Languages_Field_Js', {}, {});\n\nAdvanceFilter_Picklist_Field_Js('AdvanceFilter_Currencylist_Field_Js', {}, {});\n\nAdvanceFilter_Multipicklist_Field_Js('AdvanceFilter_Taxes_Field_Js', {}, {});\n\nVtiger_Owner_Field_Js('AdvanceFilter_Owner_Field_Js', {}, {\n\tgetUi: function () {\n\t\tlet comparatorSelectedOptionVal = this.get('comparatorElementVal'),\n\t\t\thtml = '',\n\t\t\tselectContainer;\n\t\tif ((comparatorSelectedOptionVal === 'e' || comparatorSelectedOptionVal === 'n') || (this.getName() === 'shownerid' && $.inArray(comparatorSelectedOptionVal, ['c', 'k']) != -1)) {\n\t\t\thtml = '<select class=\"select2\" multiple name=\"' + this.getName() + '[]\">';\n\t\t\tlet pickListValues = this.getPickListValues(),\n\t\t\t\tselectedOption = app.htmlDecode(this.getValue()),\n\t\t\t\toptGroup;\n\t\t\tfor (optGroup in pickListValues) {\n\t\t\t\thtml += '<optgroup label=\"' + optGroup + '\">';\n\t\t\t\tlet optionGroupValues = pickListValues[optGroup],\n\t\t\t\t\toption;\n\t\t\t\tfor (option in optionGroupValues) {\n\t\t\t\t\thtml += '<option value=\"' + option + '\" ';\n\t\t\t\t\tif ($.inArray(option, selectedOption.split(',')) != -1) {\n\t\t\t\t\t\thtml += ' selected ';\n\t\t\t\t\t}\n\t\t\t\t\thtml += '>' + optionGroupValues[option] + '</option>';\n\t\t\t\t}\n\t\t\t\thtml += '</optgroup>';\n\t\t\t}\n\t\t\thtml += '</select>';\n\t\t\tselectContainer = $(html);\n\t\t\tthis.addValidationToElement(selectContainer);\n\t\t\treturn selectContainer;\n\t\t} else {\n\t\t\tlet tagsArray = [];\n\t\t\t$.each(this.getPickListValues(), function (groups, blocks) {\n\t\t\t\t$.each(blocks, function (i, e) {\n\t\t\t\t\ttagsArray.push($.trim(e));\n\t\t\t\t});\n\t\t\t});\n\t\t\thtml = '<input data-tags=\"' + tagsArray + '\" type=\"hidden\" class=\"row select2\" name=\"' + this.getName() + '\">';\n\t\t\tselectContainer = $(html).val(this.getValue());\n\t\t\tselectContainer.data('tags', tagsArray);\n\t\t\tthis.addValidationToElement(selectContainer);\n\t\t\treturn selectContainer;\n\t\t}\n\t}\n});\n\nVtiger_Multireferencevalue_Field_Js('AdvanceFilter_Multireferencevalue_Field_Js', {}, {});\n\nAdvanceFilter_Owner_Field_Js('AdvanceFilter_Sharedowner_Field_Js', {}, {});\n\nAdvanceFilter_Owner_Field_Js('AdvanceFilter_Usercreator_Field_Js', {}, {});\nVtiger_Date_Field_Js('AdvanceFilter_Date_Field_Js', {}, {\n\t/**\n\t * Function to get the ui\n\t * @return - input text field\n\t */\n\tgetUi: function () {\n\t\tlet comparatorSelectedOptionVal = this.get('comparatorElementVal'),\n\t\t\tdateSpecificConditions = this.get('dateSpecificConditions'),\n\t\t\thtml = '';\n\t\tif (comparatorSelectedOptionVal === 'bw' || comparatorSelectedOptionVal === 'custom') {\n\t\t\thtml = '<div class=\"date\"><input class=\"dateRangeField form-control\" data-calendar-type=\"range\" name=\"' + this.getName() + '\" data-date-format=\"' + this.getDateFormat() + '\" type=\"text\" ReadOnly=\"true\" value=\"' + this.getValue() + '\"></div>';\n\t\t\tlet element = $(html),\n\t\t\t\tdateFieldUi = element.find('.dateRangeField');\n\t\t\tif (dateFieldUi.val().indexOf(',') !== -1) {\n\t\t\t\tlet valueArray = this.getValue().split(','),\n\t\t\t\t\tstartDateTime = valueArray[0],\n\t\t\t\t\tendDateTime = valueArray[1];\n\t\t\t\tif (startDateTime.indexOf(' ') !== -1) {\n\t\t\t\t\tlet dateTime = startDateTime.split(' ');\n\t\t\t\t\tstartDateTime = dateTime[0];\n\t\t\t\t}\n\t\t\t\tif (endDateTime.indexOf(' ') !== -1) {\n\t\t\t\t\tlet dateTimeValue = endDateTime.split(' ');\n\t\t\t\t\tendDateTime = dateTimeValue[0];\n\t\t\t\t}\n\t\t\t\tdateFieldUi.val(startDateTime + ',' + endDateTime);\n\t\t\t} else {\n\t\t\t\t// while changing to between/custom from equal/notequal/... we'll only have one value\n\t\t\t\tlet value = this.getValue().split(' '),\n\t\t\t\t\tstartDate = value[0],\n\t\t\t\t\tendDate = value[0];\n\t\t\t\tif (startDate !== '' && endDate !== '') {\n\t\t\t\t\tdateFieldUi.val(startDate + ',' + endDate);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn this.addValidationToElement(element);\n\t\t} else if (comparatorSelectedOptionVal in dateSpecificConditions) {\n\t\t\tlet startValue = dateSpecificConditions[comparatorSelectedOptionVal]['startdate'],\n\t\t\t\tendValue = dateSpecificConditions[comparatorSelectedOptionVal]['enddate'];\n\t\t\tif (comparatorSelectedOptionVal === 'today' || comparatorSelectedOptionVal === 'tomorrow' || comparatorSelectedOptionVal === 'yesterday') {\n\t\t\t\thtml = '<input name=\"' + this.getName() + '\" type=\"text\" ReadOnly=\"true\" value=\"' + startValue + '\">';\n\t\t\t} else {\n\t\t\t\thtml = '<input name=\"' + this.getName() + '\" type=\"text\" ReadOnly=\"true\" value=\"' + startValue + ',' + endValue + '\">';\n\t\t\t}\n\t\t\treturn $(html);\n\t\t} else {\n\t\t\tlet fieldUi = this._super(),\n\t\t\t\tdateTimeFieldValue = fieldUi.find('.dateField').val(),\n\t\t\t\tdateValue = dateTimeFieldValue.split(' ');\n\t\t\tif (dateValue[1] === '00:00:00') {\n\t\t\t\tdateTimeFieldValue = dateValue[0];\n\t\t\t} else if (comparatorSelectedOptionVal === 'e' || comparatorSelectedOptionVal === 'n' ||\n\t\t\t\tcomparatorSelectedOptionVal === 'b' || comparatorSelectedOptionVal === 'a') {\n\t\t\t\tlet dateTimeArray = dateTimeFieldValue.split(' ');\n\t\t\t\tdateTimeFieldValue = dateTimeArray[0];\n\t\t\t}\n\t\t\tfieldUi.find('.dateField').val(dateTimeFieldValue);\n\t\t\treturn fieldUi;\n\t\t}\n\t}\n});\n\n\nAdvanceFilter_Date_Field_Js('AdvanceFilter_Datetime_Field_Js', {}, {});\n"],"names":["jQuery","Class","getInstance","container","module","app","getModuleName","moduleClassName1","moduleClassName2","instance","filterContainer","fieldTypeConditionMapping","conditonOperatorLabelMapping","dateConditionInfo","fieldModelInstance","validationSupportedFieldConditionMap","allConditionValidationNeededFieldList","validationForControlsRegistered","init","is","setFilterContainer","initialize","registerEvents","initializeOperationMappingDetails","loadFieldSpecificUiForAll","getFilterContainer","data","element","getDateSpecificConditionInfo","getConditionListFromType","fieldType","fieldTypeConditions","concat","getDateConditions","keys","dateFilters","getConditionLabel","key","isEmptyFieldSelected","fieldSelect","find","val","getAddConditionElement","addNewCondition","conditionGroupElement","$","newRowElement","basicElement","clone","selectElement","addClass","conditionList","append","App","Fields","Picklist","showSelect2ElementView","dropdownParent","addConditionHandler","e","currentTarget","conditionGroup","closest","getFieldSpecificType","fieldSelected","type","fieldInfo","loadConditions","conditionSelectElement","row","group","conditionSelected","fieldSpecificType","inArray","hasOwnProperty","conditionLabel","conditionValue","options","empty","html","trigger","getFieldSpecificUi","fieldSelectElement","fieldModel","get","getName","getValue","vtranslate","getType","toLowerCase","getUiTypeSpecificHtml","loadFieldSpecificUi","fieldUiHolder","selectedOption","valueType","name","comparatorElementVal","dateSpecificConditions","Vtiger_Field_Js","moduleName","fieldName","fieldSpecificUi","length","css","filter","attr","removeAttr","decimal_separator","group_separator","workflow_valuetype","has","Date","register","registerRange","ranges","registerEventForClockPicker","addValidationToFieldIfNeeded","indexOf","show","hide","conditionsContainer","each","i","elem","currentElement","selectFieldElement","fieldSpecificElement","validator","isFieldSupportsValidation","JSON","stringify","removeClass","getValues","fieldList","conditionGroups","values","columnIndex","index","domElement","groupElement","conditionDomElement","rowElement","valueSelectElement","thisInstance","field","fieldDataInfo","rowValues","newValuesArr","join","prop","valuesArr","split","push","pickListValues","value","deleteConditionHandler","remove","registerAddCondition","on","registerFieldChange","_intialize","registerConditionChange","comparatorSelectElement","registerDeleteCondition","getUiTypeModel","getUi","currentModule","Vtiger_Picklist_Field_Js","getPickListValues","htmlDecode","selectedOptionsArray","option","addValidationToElement","selectContainer","AdvanceFilter_Picklist_Field_Js","Vtiger_Multipicklist_Field_Js","AdvanceFilter_Multipicklist_Field_Js","Vtiger_Owner_Field_Js","comparatorSelectedOptionVal","optGroup","optionGroupValues","groups","blocks","tagsArray","trim","Vtiger_Multireferencevalue_Field_Js","AdvanceFilter_Owner_Field_Js","Vtiger_Date_Field_Js","getDateFormat","dateFieldUi","startDateTime","valueArray","endDateTime","dateTime","dateTimeValue","startDate","endDate","endValue","startValue","_super","dateTimeFieldValue","fieldUi","dateValue","dateTimeArray","AdvanceFilter_Date_Field_Js"],"mappings":";;AAWAA,OAAOC,KAAP,CAAa,yBAAb,CAAwC,CACvCC,YAAa,qBAAUC,SAAV,CAAqB,aAAA,CAC7BC,OAASC,IAAIC,aAAJ,EADoB,CAE7BC,iBAAmBH,OAAS,qBAFC,CAG7BI,iBAAmBJ,OAAS,mBAHC,CAgBjC,eAAA,CATwC,WAApC,gBAAcG,gBAAP,CASX,CAP+C,WAApC,gBAAcC,gBAAP,CAOlB,CAL+C,WAApC,yCAKX,CAFY,kCAAA,CAA6BL,SAA7B,CAEZ,CAJY,oCAAA,CAA6BA,SAA7B,CAIZ,CANY,WAAWK,gBAAP,CAAJ,CAA6BL,SAA7B,CAMZ,CARY,WAAWI,gBAAP,CAAJ,CAA6BJ,SAA7B,CAQZ,CAAOM,QACP,CAlBsC,CAAxC,CAmBG,CACFC,kBADE,CAGFC,4BAHE,CAKFC,+BALE,CAMFC,oBANE,CAOFC,qBAPE,CASFC,qCAAsC,CACrC,MAAS,CAAC,GAAD,CAAM,GAAN,CAD4B,CATpC,CAaFC,sCAAuC,CAAC,QAAD,CAAW,SAAX,CAAsB,UAAtB,CAbrC,CAeFC,kCAfE,CAgBFC,KAAM,cAAUf,SAAV,CAAqB,CACD,WAArB,kBADsB,GAEzBA,UAAYH,OAAO,kBAAP,CAFa,EAKtBG,UAAUgB,EAAV,CAAa,kBAAb,CALsB,CAMzB,KAAKC,kBAAL,CAAwBjB,SAAxB,CANyB,CAQzB,KAAKiB,kBAAL,CAAwBpB,OAAO,kBAAP,CAA2BG,SAA3B,CAAxB,CARyB,CAU1B,KAAKkB,UAAL,GACA,CA3BC,CA4BFf,cAAe,wBAAY,CAC1B,OAAO,eACP,CA9BC,CAkCFe,WAAY,qBAAY,CACvB,KAAKC,cAAL,EADuB,CAEvB,KAAKC,iCAAL,EAFuB,CAGvB,KAAKC,yBAAL,GACA,CAtCC,CA0CFD,kCAAmC,4CAAY,CAC9C,oBAAsB,KAAKE,kBAAL,EAAtB,CAIA,YAHKd,yBAAL,CAAiCX,OAAO,6CAAP,CAAoDU,eAApD,EAAqEgB,IAArE,CAA0E,OAA1E,CAGjC,CAFA,KAAKd,4BAAL,CAAoCZ,OAAO,sCAAP,CAA6CU,eAA7C,EAA8DgB,IAA9D,CAAmE,OAAnE,CAEpC,CADA,KAAKb,iBAAL,CAAyBb,OAAO,yBAAP,EAAgC0B,IAAhC,CAAqC,OAArC,CACzB,CAAO,IACP,CAhDC,CAqDFD,mBAAoB,6BAAY,CAC/B,YAAYf,eACZ,CAvDC,CA6DFU,mBAAoB,4BAAUO,OAAV,CAAmB,CAEtC,YADKjB,eAAL,CAAuBiB,OACvB,CAAO,IACP,CAhEC,CAiEFC,6BAA8B,uCAAY,CACzC,YAAYf,iBACZ,CAnEC,CAwEFgB,yBAA0B,kCAAUC,SAAV,CAAqB,CAC9C,wBAA0B,KAAKnB,yBAAL,CAA+BmB,SAA/B,CAA1B,CAIA,QAHiB,GAAb,aAAiC,IAAb,WAGxB,IAFCC,oBAAsBA,oBAAoBC,MAApB,CAA2B,KAAKC,iBAAL,CAAuBH,SAAvB,CAA3B,CAEvB,EAAOC,mBACP,CA9EC,CA+EFE,kBAAmB,2BAAUH,SAAV,CAAqB,CACvC,GAAiB,GAAb,aAAiC,IAAb,WAAxB,CACC,OAAO,EAAP,CAED,gBAAkB,KAAKF,4BAAL,EAAlB,CACA,cAAcM,IAAP,CAAYC,WAAZ,CACP,CArFC,CA2FFC,kBAAmB,2BAAUC,GAAV,CAAe,oBACjBzB,4BADiB,CAEzB,KAAKA,4BAAL,CAAkCyB,GAAlC,CAFyB,CAI7BA,YAAYT,4BAAL,EAJsB,CAKzB,KAAKA,4BAAL,GAAoCS,GAApC,OALyB,CAO1BA,GACP,CAnGC,CAyGFC,qBAAsB,8BAAUC,WAAV,CAAuB,CAC5C,mBAAqBA,YAAYC,IAAZ,CAAiB,iBAAjB,CAArB,CAD4C,SAGhB,MAAxB,iBAAeC,GAAf,EAHwC,CAO5C,CAhHC,CAqHFC,uBAAwB,iCAAY,CACnC,oBAAsB,KAAKjB,kBAAL,EAAtB,CACA,cAAc,sBAAP,CAA+Bf,eAA/B,CACP,CAxHC,CA8HFiC,gBAAiB,yBAAUC,qBAAV,CAAiC,kBAC9BC,EAAE,QAAF,CAAYD,qBAAZ,CAD8B,CAE7CE,cAAgBC,aAAaP,IAAb,CAAkB,oBAAlB,EAAwCQ,KAAxC,OAF6B,CAG7CC,cAAgBH,cAAcN,IAAd,CAAmB,QAAnB,EAA6BU,QAA7B,CAAsC,SAAtC,CAH6B,CAI7CC,cAAgBN,EAAE,gBAAF,CAAoBD,qBAApB,CAJ6B,CAOjD,qBAFcQ,MAAd,CAAqBN,aAArB,CAEA,CADAO,IAAIC,MAAJ,CAAWC,QAAX,CAAoBC,sBAApB,CAA2CP,aAA3C,CAA0D,CAACQ,eAAgBb,qBAAjB,CAA1D,CACA,CAAO,IACP,CAtIC,CA0IFc,oBAAqB,6BAAUC,CAAV,CAAa,aACnB3D,OAAO2D,EAAEC,aAAT,CADmB,CAE7BC,eAAiBlC,QAAQmC,OAAR,CAAgB,oBAAhB,CAFY,CAGjC,KAAKnB,eAAL,CAAqBkB,cAArB,EACA,CA9IC,CA+IFE,qBAAsB,8BAAUC,aAAV,CAAyB,eAC9BA,cAActC,IAAd,CAAmB,WAAnB,CAD8B,CAE1CuC,KAAOC,UAAUD,IAFyB,QAGlC,WAAR,MAH0C,CAItC,GAJsC,CAMvCD,cAActC,IAAd,CAAmB,WAAnB,CACP,CAtJC,CA4JFyC,eAAgB,wBAAU5B,WAAV,CAAuB,SAC5BA,YAAYuB,OAAZ,CAAoB,uBAApB,CAD4B,CAElCM,uBAAyBC,IAAI7B,IAAJ,CAAS,6BAAT,CAFS,CAGlC8B,MAAQD,IAAI7B,IAAJ,CAAS,6BAAT,CAH0B,CAIlC+B,kBAAoBH,uBAAuB3B,GAAvB,EAJc,CAKlCuB,cAAgBzB,YAAYC,IAAZ,CAAiB,iBAAjB,CALkB,CAMlCgC,kBAAoB,KAAKT,oBAAL,CAA0BC,aAA1B,CANc,CAOlCb,cAAgB,KAAKtB,wBAAL,CAA8B2C,iBAA9B,CAPkB,CAQlCN,UAAYF,cAActC,IAAd,CAAmB,WAAnB,CARsB,CAUT,WAAzB,sBAVkC,GAWrCyB,cAAgB,EAXqB,CAYrCA,mBAAwB,MAZa,EActC,YAAc,EAAd,CACA,IAAK,OAAL,iBAAA,CACC,IAA8D,CAAC,CAA3D,SAAOsB,OAAP,CAAeP,UAAUD,IAAzB,CAA+B,CAAC,WAAD,CAAc,OAAd,CAA/B,GAAmH,CAAC,CAApD,SAAOQ,OAAP,CAAetB,cAAcd,GAAd,CAAf,CAAmC,CAAC,GAAD,CAAM,IAAN,CAAnC,CAApE,IAGkK,CAAC,CAA/J,SAAOoC,OAAP,CAAeP,UAAUD,IAAzB,CAA+B,CAAC,aAAD,CAAgB,OAAhB,CAAyB,UAAzB,CAAqC,SAArC,CAAgD,MAAhD,CAAwD,gBAAxD,CAA0E,WAA1E,CAAuF,cAAvF,CAAuG,kBAAvG,CAA/B,GAAiO,CAAC,CAA9D,SAAOQ,OAAP,CAAetB,cAAcd,GAAd,CAAf,CAAmC,CAAC,GAAD,CAAM,IAAN,CAAY,GAAZ,CAAiB,GAAjB,CAAnC,CAHxK,IAM2B,IAAvB,iBAAcA,GAAd,GAA0G,CAAC,CAA5E,SAAOoC,OAAP,CAAeP,UAAUD,IAAzB,CAA+B,CAAC,OAAD,CAAU,aAAV,CAAyB,aAAzB,CAA/B,CANnC,IASyD,CAAC,CAAtD,SAAOQ,OAAP,CAAetB,cAAcd,GAAd,CAAf,CAAmC,CAAC,IAAD,CAAO,KAAP,CAAnC,GAAwG,CAAC,CAA9C,SAAOoC,OAAP,CAAeP,UAAUD,IAAzB,CAA+B,CAAC,OAAD,CAA/B,CAT/D,IAYuD,CAAC,CAApD,SAAOQ,OAAP,CAAetB,cAAcd,GAAd,CAAf,CAAmC,CAAC,GAAD,CAAM,IAAN,CAAnC,GAA+J,CAAC,CAAvG,SAAOoC,OAAP,CAAeP,UAAUD,IAAzB,CAA+B,CAAC,OAAD,CAAU,eAAV,CAA2B,uBAA3B,CAAoD,aAApD,CAA/B,CAZ7D,IAe4D,CAAC,CAAzD,SAAOQ,OAAP,CAAetB,cAAcd,GAAd,CAAf,CAAmC,CAAC,IAAD,CAAO,GAAP,CAAY,GAAZ,CAAnC,GAA0G,CAAC,CAA7C,SAAOoC,OAAP,CAAeP,UAAUD,IAAzB,CAA+B,CAAC,MAAD,CAA/B,CAflE,IAkB2B,GAAvB,iBAAc5B,GAAd,GAA8C,KAAhB,SAAMI,GAAN,EAlBlC,GAsBIU,cAAcuB,cAAd,CAA6BrC,GAA7B,CAtBJ,CAsBuC,oBACjBc,cAAcd,GAAd,CADiB,CAElCsC,eAAiB,KAAKvC,iBAAL,CAAuBwC,cAAvB,CAFiB,CAGtCC,SAAW,mBAAoBD,cAApB,CAAqC,IAHV,CAIlCA,gBAAkBL,iBAJgB,GAKrCM,SAAW,yBAL0B,EAOtCA,SAAW,IAAMF,cAAN,CAAuB,YAClC,CAGF,8BADuBG,KAAvB,GAA+BC,IAA/B,CAAoCF,OAApC,EAA6CG,OAA7C,CAAqD,QAArD,CACA,CAAOZ,sBACP,CA9MC,CAoNFa,mBAAoB,4BAAUC,kBAAV,CAA8B,CACjD,QAAA,CAAIC,WAAa,KAAKrE,kBAAtB,CAEA,GAA+C,GAA3C,cAAWsE,GAAX,CAAe,sBAAf,CAAJ,CAMC,YALO,kEAA+DD,WAAWE,OAAX,EAA/D,CAAsF,iBAK7F,EAJ8B,CAA1B,cAAWC,QAAX,IAAyD,GAA1B,cAAWA,QAAX,EAInC,IAHCP,MAAQ,SAGT,EADAA,MAAQ,KAAO1E,IAAIkF,UAAJ,CAAe,wBAAf,CAAP,CAAkD,gBAC1D,CAAO1C,EAAEkC,IAAF,CAAP,CACM,GAA2C,SAAvC,cAAWS,OAAX,GAAqBC,WAArB,EAAJ,CAAsD,CAC5D,kBAAoBP,mBAAmBpB,OAAnB,CAA2B,oBAA3B,EAAiDtB,IAAjD,CAAsD,wBAAtD,EAA8EC,GAA9E,EAApB,CAcA,YAbO,oCAAmC0C,WAAWE,OAAX,EAAnC,CAA0D,KAajE,CAZAN,MAAQ,qBAYR,CAXsB,GAAlB,gBAWJ,GAVCA,MAAQ,yBAUT,EARAA,MAAQ,IAAM1E,IAAIkF,UAAJ,CAAe,gBAAf,CAAN,CAAyC,WAQjD,CANAR,MAAQ,qBAMR,CALsB,GAAlB,gBAKJ,GAJCA,MAAQ,yBAIT,EAFAA,MAAQ,IAAM1E,IAAIkF,UAAJ,CAAe,eAAf,CAAN,CAAwC,WAEhD,CADAR,MAAQ,WACR,CAAOlC,EAAEkC,IAAF,CACP,CACA,SAASI,WAAWO,qBAAX,EAAF,CAER,CAjPC,CAuPFC,oBAAqB,6BAAUpD,WAAV,CAAuB,oBACpBA,YAAYC,IAAZ,CAAiB,iBAAjB,CADoB,CAErC6B,IAAM9B,YAAYuB,OAAZ,CAAoB,uBAApB,CAF+B,CAGrC8B,cAAgBvB,IAAI7B,IAAJ,CAAS,gBAAT,CAHqB,CAIrC4B,uBAAyBC,IAAI7B,IAAJ,CAAS,6BAAT,CAJY,CAKvC0B,UAAY2B,eAAenE,IAAf,CAAoB,WAApB,CAL2B,CAMrCoE,UAAYF,cAAcpD,IAAd,YAA6B0B,UAAU6B,IAAvC,QAAiDrE,IAAjD,CAAsD,WAAtD,CANyB,CAOvCI,UAAY,QAP2B,CAQlB,WAArB,kBARuC,CAW1CoC,UAAY,EAX8B,CAS1CpC,UAAYoC,UAAUD,IAToB,CAc3C,yBAA2BC,UAAU8B,oBAAV,CAAiC5B,uBAAuB3B,GAAvB,EAA5D,CAd2C,CAe1B,MAAb,aAAoC,UAAb,WAfgB,IAgB1CyB,UAAU+B,sBAAV,CAAmC,KAAKrE,4BAAL,EAhBO,iBAkB1B,KAAKtB,aAAL,EAlB0B,CAmBvC6E,WAAae,gBAAgBhG,WAAhB,CAA4BgE,SAA5B,CAAuCiC,UAAvC,CAnB0B,CAoB3C,KAAKrF,kBAAL,CAA0BqE,UApBiB,qBAqBrB,KAAKF,kBAAL,CAAwB1C,WAAxB,CArBqB,CAyBvC6D,UAAYjB,WAAWE,OAAX,EAzB2B,CA2BsF,CAAC,CAA9H,GAAEZ,OAAF,CAAUU,WAAWK,OAAX,EAAV,CAAgC,CAAC,eAAD,CAAkB,aAAlB,CAAiC,qBAAjC,CAAwD,OAAxD,CAAiE,uBAAjE,CAAhC,CA3BuC,CA4B1CY,SA5B0C,EA4BlB,IA5BkB,CA6BuH,CAAC,CAAvJ,GAAE3B,OAAF,CAAUU,WAAWK,OAAX,EAAV,CAAgC,CAAC,aAAD,CAAgB,UAAhB,CAA4B,OAA5B,CAAqC,WAArC,CAAkD,SAAlD,CAA6D,gBAA7D,CAA+E,cAA/E,CAA+F,kBAA/F,CAAhC,CAAD,EACVa,gBAAgBlF,EAAhB,CAAmB,QAAnB,CADU,GAC+C,GAAxB,wBAAuD,GAAxB,sBADtD,CA7BgC,GA+B1CiF,SA/B0C,EA+BlB,IA/BkB,EAkCa,CAApD,iBAAgB5D,IAAhB,CAAqB,oBAArB,EAA2C8D,MAlCJ,EAmC1CD,gBAAgB7D,IAAhB,CAAqB,cAArB,EAAqCU,QAArC,CAA8C,KAA9C,CAnC0C,CAoC1CmD,gBAAgB7D,IAAhB,CAAqB,cAArB,EAAqCU,QAArC,CAA8C,KAA9C,CApC0C,CAqC1CmD,gBAAgB7D,IAAhB,CAAqB,sBAArB,EAA2C+D,GAA3C,CAA+C,OAA/C,CAAwD,MAAxD,CArC0C,CAsC1CF,gBAAgB7D,IAAhB,CAAqB,sBAArB,EAA2CU,QAA3C,CAAoD,cAApD,CAtC0C,EAwC1CmD,gBAAgBG,MAAhB,CAAuB,WAAYJ,SAAZ,CAAwB,KAA/C,EAAqDlD,QAArD,CAA8D,cAA9D,CAxC0C,CA2C3CmD,gBAAgBG,MAAhB,CAAuB,WAAYJ,SAAZ,CAAwB,KAA/C,EAAqDK,IAArD,CAA0D,YAA1D,CAAwE,OAAxE,EAAiFC,UAAjF,CAA4F,wBAA5F,CA3C2C,CA4C3CL,gBAAgB7D,IAAhB,CAAqB,WAAY4D,SAAZ,CAAwB,KAA7C,EAAmDK,IAAnD,CAAwD,YAAxD,CAAsE,OAAtE,EAA+EC,UAA/E,CAA0F,wBAA1F,CA5C2C,CA8Cf,UAAxB,aAAWlB,OAAX,EA9CuC,GA+C1Ca,gBAAgBG,MAAhB,CAAuB,WAAYJ,SAAZ,CAAwB,KAA/C,EAAqDK,IAArD,CAA0D,wBAA1D,CAAoFvC,UAAUyC,iBAA9F,EAAiHF,IAAjH,CAAsH,sBAAtH,CAA8IvC,UAAU0C,eAAxJ,CA/C0C,CAgD1CP,gBAAgB7D,IAAhB,CAAqB,WAAY4D,SAAZ,CAAwB,KAA7C,EAAmDK,IAAnD,CAAwD,wBAAxD,CAAkFvC,UAAUyC,iBAA5F,EAA+GF,IAA/G,CAAoH,sBAApH,CAA4IvC,UAAU0C,eAAtJ,CAhD0C,EAkDvCd,SAlDuC,GAmD1C,KAAKhF,kBAAL,CAAwBY,IAAxB,CAA6BmF,kBAA7B,CAAkDf,SAnDR,EAqD3CF,cAAcb,IAAd,CAAmBsB,eAAnB,CArD2C,CAuDvCA,gBAAgBlF,EAAhB,CAAmB,QAAnB,CAvDuC,CAwD1CkC,IAAIC,MAAJ,CAAWC,QAAX,CAAoBC,sBAApB,CAA2C6C,eAA3C,CAA4D,CAAC5C,eAAgBY,GAAjB,CAA5D,CAxD0C,CAyDgB,CAAhD,iBAAgByC,GAAhB,CAAoB,iBAApB,EAAuCR,MAzDP,CA0D1CjD,IAAIC,MAAJ,CAAWyD,IAAX,CAAgBC,QAAhB,CAAyBX,eAAzB,CA1D0C,CA2DqB,CAArD,iBAAgBS,GAAhB,CAAoB,sBAApB,EAA4CR,MA3DZ,CA4D1CjD,IAAIC,MAAJ,CAAWyD,IAAX,CAAgBE,aAAhB,CAA8BZ,eAA9B,CAA+C,CAACa,SAAD,CAA/C,CA5D0C,CA6DkB,CAAlD,iBAAgBJ,GAAhB,CAAoB,mBAApB,EAAyCR,MA7DT,EA8D1CjG,IAAI8G,2BAAJ,CAAgCd,eAAhC,CA9D0C,CAgE3C,KAAKe,4BAAL,CAAkC7E,WAAlC,CAhE2C,CA2E3C,OAN+D,CAAC,CAA5D,EADoB,CAAC,GAAD,CAAM,OAAN,CAAe,UAAf,CAA2B,WAA3B,CAAwC,gBAAxC,CAA0D,gBAA1D,CAA4E,IAA5E,CAAkF,IAAlF,CAAwF,IAAxF,CAA8F,KAA9F,CACpB,CAAkB8E,OAAlB,CAA0BjD,uBAAuB3B,GAAvB,EAA1B,CAMJ,CAHCmD,cAAc0B,IAAd,EAGD,CALC1B,cAAc2B,IAAd,EAKD,CAAO,IACP,CAnUC,CAwUF/F,0BAA2B,oCAAY,yBACZxB,OAAO,gBAAP,CADY,CAElCkF,mBAAqBlF,OAAO,6BAAP,CAAoCwH,mBAApC,CAFa,CAStC,cANOC,IAAP,CAAYvC,kBAAZ,CAAgC,SAAUwC,CAAV,CAAaC,IAAb,CAAmB,CAClD,mBAAqB3H,OAAO2H,IAAP,CAArB,CAC4B,MAAxB,iBAAelF,GAAf,EAF8C,EAGjDmF,eAAe5C,OAAf,CAAuB,QAAvB,CAAiC,CAAC,aAAD,CAAjC,EAED,CALD,CAMA,CAAO,IACP,CAlVC,CAuVFoC,6BAA8B,sCAAUS,kBAAV,CAA8B,oBACtCA,mBAAmBrF,IAAnB,CAAwB,iBAAxB,CADsC,CAEvD6B,IAAMwD,mBAAmB/D,OAAnB,CAA2B,uBAA3B,CAFiD,CAGvDgE,qBAAuBzD,IAAI7B,IAAJ,CAAS,wBAAT,CAHgC,CAIvDuF,UAAYlC,eAAeY,IAAf,CAAoB,gBAApB,CAJ2C,CAoB3D,YAdSuB,yBAAL,CAA+BH,kBAA/B,CAcJ,EAXCC,qBAAqB5E,QAArB,CAA8B,+DAA9B,EACEuD,IADF,CACO,wBADP,CACiC,+DADjC,EAEEA,IAFF,CAEO,gBAFP,CAEyBwB,KAAKC,SAAL,CAAerC,eAAenE,IAAf,CAAoB,WAApB,CAAf,CAFzB,CAWD,CAR0B,WAArB,kBAQL,EAPEoG,qBAAqBrB,IAArB,CAA0B,gBAA1B,CAA4CsB,SAA5C,CAOF,EAJCD,qBAAqBK,WAArB,CAAiC,+DAAjC,EACEzB,UADF,CACa,wBADb,EAEEA,UAFF,CAEa,gBAFb,CAID,CAAO,IACP,CA5WC,CAkXFsB,0BAA2B,mCAAUzF,WAAV,CAAuB,gBAChC,KAAKzB,kBAD2B,CAE7CmD,KAAOkB,WAAWK,OAAX,EAFsC,CAIjD,GAAwE,CAApE,SAAOf,OAAP,CAAeR,IAAf,CAAqB,KAAKjD,qCAA1B,CAAJ,CACC,UALgD,QAQvCuB,YAAYuB,OAAZ,CAAoB,uBAApB,CARuC,CAS7CM,uBAAyBC,IAAI7B,IAAJ,CAAS,6BAAT,CAToB,CAW7CoC,eAAiBR,uBAAuB3B,GAAvB,EAX4B,WAa7CwB,aAAalD,oCAbgC,EAcuC,CAAnF,SAAO0D,OAAP,CAAeG,cAAf,CAA+B,KAAK7D,oCAAL,CAA0CkD,IAA1C,CAA/B,CAd4C,CAmBjD,CArYC,CA0YFmE,UAAW,oBAAY,kBACD,IADC,CAElBC,UAAY,CAAC,YAAD,CAAe,YAAf,CAA6B,OAA7B,CAAsC,kBAAtC,CAFM,CAGrB3H,gBAAkB,KAAKe,kBAAL,EAHG,CAIrB6G,gBAAkBzF,EAAE,iBAAF,CAAqBnC,eAArB,CAJG,CAKrB6H,OAAS,EALY,CAMrBC,YAAc,CANO,CA0FtB,SAnFE,iBAAF,CAAqB9H,eAArB,EAAsC+G,IAAtC,CAA2C,SAAUgB,KAAV,CAAiBC,UAAjB,CAA6B,CACvE,iBAAmB7F,EAAE6F,UAAF,CAAnB,CACAH,OAAOE,MAAQ,CAAf,EAAoB,EAFmD,CAGvEF,OAAOE,MAAQ,CAAf,UAA+B,EAHwC,CAIvE5F,EAAE,mCAAF,CAAuC8F,YAAvC,EAAqDlB,IAArD,CAA0D,SAAUC,CAAV,CAAakB,mBAAb,CAAkC,CAC3F,eAAiB/F,EAAE+F,mBAAF,CAAjB,CACC1D,mBAAqBrC,EAAE,uBAAF,CAAyBgG,UAAzB,CADtB,CAECC,mBAAqBjG,EAAE,wBAAF,CAA0BgG,UAA1B,CAFtB,CAIA,GAAIE,aAAazG,oBAAb,CAAkC4C,kBAAlC,CAAJ,CACC,UAED,OAAA,CAIC8D,KAJD,CAAIC,cAAgB/D,mBAAmB1C,IAAnB,CAAwB,iBAAxB,EAA2Cd,IAA3C,CAAgD,WAAhD,CAApB,CACCI,UAAYmH,cAAchF,IAD3B,CAECiF,UAAY,EAFb,CAKA,GAAkB,OAAd,cAAuC,aAAd,YAA7B,EACC,IAAK7G,GAAL,aAAA,CAEC,GADA2G,MAAQX,UAAUhG,GAAV,CACR,CAAc,OAAV,UAAqByG,mBAAmB3H,EAAnB,CAAsB,QAAtB,CAAzB,CAA0D,CACzD,iBAAmB2H,mBAAmBrG,GAAnB,EAAnB,CAICyG,UAAUF,KAAV,CALwD,CAEpDG,YAFoD,CAKrCA,aAAaC,IAAb,CAAkB,GAAlB,CALqC,CAGrC,GAIpB,CAPD,eAQWJ,KAAV,CARD,CAOqB,OAAV,UAAqBF,mBAAmB3H,EAAnB,CAAsB,OAAtB,CAPhC,CAQwD,UAApC,sBAAmBsF,IAAnB,CAAwB,MAAxB,GAAkDqC,mBAAmBO,IAAnB,CAAwB,SAAxB,CAAlD,CAAuF,CAAvF,CAA2FP,mBAAmBrG,GAAnB,EAR/G,CAUoBI,EAAE,WAAYmG,KAAZ,CAAoB,KAAtB,CAA4BH,UAA5B,EAAwCpG,GAAxC,EAVpB,CAHF,SAgBuN,CAAC,CAA7M,GAAEgC,OAAF,CAAU3C,SAAV,CAAqB,CAAC,UAAD,CAAa,eAAb,CAA8B,SAA9B,CAAyC,aAAzC,CAAwD,qBAAxD,CAA+E,gBAA/E,CAAiG,WAAjG,CAA8G,cAA9G,CAA8H,OAA9H,CAAuI,kBAAvI,CAA2J,uBAA3J,CAArB,CAAJ,EACN,IAAKO,GAAL,aAAA,CAEC,GADA2G,MAAQX,UAAUhG,GAAV,CACR,CAAc,OAAV,UAAyD,UAApC,sBAAmBoE,IAAnB,CAAwB,MAAxB,CAAzB,CACCyC,UAAUF,KAAV,EAAmBF,mBAAmBO,IAAnB,CAAwB,SAAxB,EAAqC,CAArC,CAAyCP,mBAAmBrG,GAAnB,EAD7D,SAEqB,OAAV,UAAqBqG,mBAAmB3H,EAAnB,CAAsB,OAAtB,CAAzB,CAAyD,CAC/D,mBAAqB2H,mBAAmBpH,IAAnB,CAAwB,gBAAxB,CAArB,CACC4H,UAAYR,mBAAmBrG,GAAnB,GAAyB8G,KAAzB,CAA+B,GAA/B,CADb,CAECJ,cAAe,EAFhB,CAGA,IAAKzB,EAAI,CAAT,CAAYA,EAAI4B,UAAUhD,MAA1B,CAAkCoB,GAAlC,CAC6C,WAAxC,wBAAsB4B,UAAU5B,CAAV,CAAf,CADZ,CAIEyB,cAAaK,IAAb,CAAkBF,UAAU5B,CAAV,CAAlB,CAJF,CAEEyB,cAAaK,IAAb,CAAkBC,eAAeH,UAAU5B,CAAV,CAAf,CAAlB,CAFF,CAOAwB,UAAUF,KAAV,EAAmBG,cAAaC,IAAb,CAAkB,GAAlB,EACnB,CAZM,QAYc,OAAV,UAAqBN,mBAAmB3H,EAAnB,CAAsB,QAAtB,CAArB,EAAqQ,CAAC,CAA7M,GAAEsD,OAAF,CAAU3C,SAAV,CAAqB,CAAC,UAAD,CAAa,eAAb,CAA8B,SAA9B,CAAyC,aAAzC,CAAwD,qBAAxD,CAA+E,gBAA/E,CAAiG,WAAjG,CAA8G,cAA9G,CAA8H,OAA9H,CAAuI,kBAAvI,CAA2J,uBAA3J,CAArB,CAA7D,CAA8Q,CACpR,UAAYgH,mBAAmBrG,GAAnB,EAAZ,CAECyG,UAAUF,KAAV,CAHmR,CAEvQ,IAAT,OAFgR,CAGhQU,KAHgQ,CAKhQA,MAAMN,IAAN,CAAW,GAAX,EAEpB,CAPM,eAQIJ,KAAV,EAAmBnG,EAAE,WAAYmG,KAAZ,CAAoB,KAAtB,CAA4BH,UAA5B,EAAwCpG,GAAxC,EARb,CAjBF,UA8BDJ,GAAL,aAAA,CACC2G,MAAQX,UAAUhG,GAAV,CADT,CAGE6G,UAAUF,KAAV,CAHF,CAEe,OAAV,QAFL,CAGyD,UAApC,sBAAmBvC,IAAnB,CAAwB,MAAxB,GAAkDqC,mBAAmBO,IAAnB,CAAwB,SAAxB,CAAlD,CAAuF,CAAvF,CAA2FP,mBAAmBrG,GAAnB,EAHhH,CAKqBI,EAAE,WAAYmG,KAAZ,CAAoB,KAAtB,CAA4BH,UAA5B,EAAwCpG,GAAxC,EALrB,CAUGoG,WAAW1H,EAAX,CAAc,aAAd,CArEuF,GAsE1F+H,2BAAgC,EAtE0D,EAwE3FX,OAAOE,MAAQ,CAAf,UAA6BD,WAA7B,EAA4CU,SAxE+C,CAyE3FV,cACA,CA1ED,CAJuE,CA+ElB,CAAjD,cAAahG,IAAb,CAAkB,oBAAlB,EAAwC8D,MA/E2B,GAgFtEiC,OAAOE,MAAQ,CAAf,YAAiCH,gBAAgB9F,IAAhB,CAAqB,yCAArB,EAA8DC,GAA9D,EAhFqC,EAkFvE,CAlFD,CAmFA,CAAO8F,MAEP,CAteC,CA0eFoB,uBAAwB,gCAAUhG,CAAV,CAAa,aACtB3D,OAAO2D,EAAEC,aAAT,CADsB,CAEhCS,IAAM1C,QAAQmC,OAAR,CAAgB,oBAAhB,CAF0B,CAGpCO,IAAIuF,MAAJ,GACA,CA9eC,CAkfFC,qBAAsB,+BAAY,CACjC,iBAAmB,IAAnB,CACA,KAAKnH,sBAAL,GAA8BoH,EAA9B,CAAiC,OAAjC,CAA0C,SAAUnG,CAAV,CAAa,CACtDoF,aAAarF,mBAAb,CAAiCC,CAAjC,EACA,CAFD,EAGA,CAvfC,CA2fFoG,oBAAqB,8BAAY,qBACV,KAAKtI,kBAAL,EADU,CAE5BsH,aAAe,IAFa,CAGhCrI,gBAAgBoJ,EAAhB,CAAmB,QAAnB,CAA6B,6BAA7B,CAA0D,SAAUnG,CAAV,CAAajC,IAAb,CAAmB,CAC5E,mBAAqB1B,OAAO2D,EAAEC,aAAT,CAArB,CACA,GAAoB,WAAhB,aAAA,EAA+B,SAAKoG,UAAxC,CAA4D,SACjDpC,eAAe9D,OAAf,CAAuB,uBAAvB,CADiD,CAEvDM,uBAAyBC,IAAI7B,IAAJ,CAAS,6BAAT,CAF8B,CAG3D4B,uBAAuBU,KAAvB,GACA,CACDiE,aAAa5E,cAAb,CAA4ByD,cAA5B,CAP4E,CAQ5EmB,aAAapD,mBAAb,CAAiCiC,cAAjC,EACA,CATD,EAUA,CAxgBC,CA4gBFqC,wBAAyB,kCAAY,qBACd,KAAKxI,kBAAL,EADc,CAEhCsH,aAAe,IAFiB,CAGpCrI,gBAAgBoJ,EAAhB,CAAmB,QAAnB,CAA6B,6BAA7B,CAA0D,SAAUnG,CAAV,CAAa,6BACxC3D,OAAO2D,EAAEC,aAAT,CADwC,CAElES,IAAM6F,wBAAwBpG,OAAxB,CAAgC,uBAAhC,CAF4D,CAGlEoB,mBAAqBb,IAAI7B,IAAJ,CAAS,6BAAT,CAH6C,CAKtEuG,aAAapD,mBAAb,CAAiCT,kBAAjC,CALsE,CAMtE6D,aAAa3B,4BAAb,CAA0ClC,kBAA1C,EACA,CAPD,EAQA,CAvhBC,CA2hBFiF,wBAAyB,kCAAY,kBACjB,IADiB,CAEhCzJ,gBAAkB,KAAKe,kBAAL,EAFc,CAGpCf,gBAAgBoJ,EAAhB,CAAmB,OAAnB,CAA4B,sBAA5B,CAAoD,SAAUnG,CAAV,CAAa,CAChEoF,aAAaY,sBAAb,CAAoChG,CAApC,EACA,CAFD,EAGA,CAjiBC,CAqiBFrC,eAAgB,yBAAY,CAC3B,KAAKuI,oBAAL,EAD2B,CAE3B,KAAKE,mBAAL,EAF2B,CAG3B,KAAKI,uBAAL,EAH2B,CAI3B,KAAKF,uBAAL,GACA,CA1iBC,CAnBH,EAgkBA/D,gBAAgB,wBAAhB,CAA0C,EAA1C,CAA8C,CAC7CR,sBAAuB,gCAAY,CAClC,gBAAkB,KAAK0E,cAAL,EAAlB,CACA,mBAAmBC,KAAZ,EACP,CAJ4C,CAK7C/J,cAAe,wBAAY,mBACND,IAAIC,aAAJ,EADM,CAGtB2D,KAAO,KAAKuB,OAAL,EAHe,CAO1B,OAHsQ,CAAC,CAAnQ,GAAEf,OAAF,CAAUR,IAAV,CAAgB,CAAC,UAAD,CAAa,aAAb,CAA4B,eAA5B,CAA6C,OAA7C,CAAsD,aAAtD,CAAqE,SAArE,CAAgF,MAAhF,CAAwF,UAAxF,CAAoG,aAApG,CAAmH,qBAAnH,CAA0I,gBAA1I,CAA4J,WAA5J,CAAyK,cAAzK,CAAyL,OAAzL,CAAkM,kBAAlM,CAAsN,uBAAtN,CAAhB,CAGJ,GAFCqG,cAAgB,eAEjB,EAAOA,aACP,CAb4C,CAA9C,EAgBAC,yBAAyB,iCAAzB,CAA4D,EAA5D,CAAgE,CAC/DF,MAAO,gBAAY,UACP,6CAA4C,KAAKhF,OAAL,EAA5C,CAA6D,OADtD,CAEdoE,eAAiB,KAAKe,iBAAL,EAFH,CAGd3E,eAAiBxF,IAAIoK,UAAJ,CAAe,KAAKnF,QAAL,EAAf,CAHH,CAIdoF,qBAAuB7E,eAAe0D,KAAf,CAAqB,GAArB,CAJT,CAKlB,IAAK,UAAL,kBAAA,CACCxE,MAAQ,mBAAoB4F,MAApB,CAA6B,KADtC,CAEqD,CAAC,CAAjD,SAAOlG,OAAP,CAAekG,MAAf,CAAuBD,oBAAvB,CAFL,GAGE3F,MAAQ,YAHV,EAKCA,MAAQ,IAAM0E,eAAekB,MAAf,CAAN,CAA+B,WALxC,CAOA5F,MAAQ,WAZU,CAalB,oBAAsB/E,OAAO+E,IAAP,CAAtB,CAEA,YADK6F,sBAAL,CAA4BC,eAA5B,CACA,CAAOA,eACP,CAjB8D,CAAhE,EAoBAC,gCAAgC,gCAAhC,CAAkE,EAAlE,CAAsE,EAAtE,EAEAA,gCAAgC,uCAAhC,CAAyE,EAAzE,CAA6E,EAA7E,EAEAA,gCAAgC,yCAAhC,CAA2E,EAA3E,CAA+E,EAA/E,EAEAC,8BAA8B,sCAA9B,CAAsE,EAAtE,CAA0E,EAA1E,EAEAA,8BAA8B,8CAA9B,CAA8E,EAA9E,CAAkF,EAAlF,EAEAD,gCAAgC,kCAAhC,CAAoE,EAApE,CAAwE,EAAxE,EAEAA,gCAAgC,qCAAhC,CAAuE,EAAvE,CAA2E,EAA3E,EAEAE,qCAAqC,8BAArC,CAAqE,EAArE,CAAyE,EAAzE,EAEAC,sBAAsB,8BAAtB,CAAsD,EAAtD,CAA0D,CACzDZ,MAAO,gBAAY,CAClB,mBAAA,CAAIa,4BAA8B,KAAK9F,GAAL,CAAS,sBAAT,CAAlC,CACCL,KAAO,EADR,CAGA,GAAqC,GAAhC,gCAAuE,GAAhC,8BAAxC,EAAoG,WAAnB,QAAKM,OAAL,IAAwF,CAAC,CAAvD,IAAEZ,OAAF,CAAUyG,2BAAV,CAAuC,CAAC,GAAD,CAAM,GAAN,CAAvC,CAAvH,CAAkL,CACjLnG,KAAO,6CAA4C,KAAKM,OAAL,EAA5C,CAA6D,OAD6G,CAEjL,YAAA,CAAIoE,eAAiB,KAAKe,iBAAL,EAArB,CACC3E,eAAiBxF,IAAIoK,UAAJ,CAAe,KAAKnF,QAAL,EAAf,CADlB,CAGA,IAAK6F,QAAL,kBAAA,CAAiC,CAChCpG,MAAQ,qBAAsBoG,QAAtB,CAAiC,KADT,CAEhC,sBAAwB1B,eAAe0B,QAAf,CAAxB,CACCR,aADD,CAEA,IAAKA,MAAL,qBAAA,CACC5F,MAAQ,mBAAoB4F,MAApB,CAA6B,KADtC,CAEqD,CAAC,CAAjD,IAAElG,OAAF,CAAUkG,MAAV,CAAkB9E,eAAe0D,KAAf,CAAqB,GAArB,CAAlB,CAFL,GAGExE,MAAQ,YAHV,EAKCA,MAAQ,IAAMqG,kBAAkBT,MAAlB,CAAN,CAAkC,WAL3C,CAOA5F,MAAQ,cACR,CAID,aAHQ,WAGR,CAFA8F,gBAAkBhI,EAAEkC,IAAF,CAElB,CADA,KAAK6F,sBAAL,CAA4BC,eAA5B,CACA,CAAOA,eACP,CACA,cAAgB,EAAhB,CAUA,SATEpD,IAAF,CAAO,KAAK+C,iBAAL,EAAP,CAAiC,SAAUa,MAAV,CAAkBC,MAAlB,CAA0B,CAC1DzI,EAAE4E,IAAF,CAAO6D,MAAP,CAAe,SAAU5D,CAAV,CAAa/D,CAAb,CAAgB,CAC9B4H,UAAU/B,IAAV,CAAe3G,EAAE2I,IAAF,CAAO7H,CAAP,CAAf,EACA,CAFD,EAGA,CAJD,CASA,CAJAoB,KAAO,sEAAkF,KAAKM,OAAL,EAAlF,CAAmG,KAI1G,CAHAwF,gBAAkBhI,EAAEkC,IAAF,EAAQtC,GAAR,CAAY,KAAK6C,QAAL,EAAZ,CAGlB,CAFAuF,gBAAgBnJ,IAAhB,CAAqB,MAArB,CAA6B6J,SAA7B,CAEA,CADA,KAAKX,sBAAL,CAA4BC,eAA5B,CACA,CAAOA,eAER,CAxCwD,CAA1D,EA2CAY,oCAAoC,4CAApC,CAAkF,EAAlF,CAAsF,EAAtF,EAEAC,6BAA6B,oCAA7B,CAAmE,EAAnE,CAAuE,EAAvE,EAEAA,6BAA6B,oCAA7B,CAAmE,EAAnE,CAAuE,EAAvE,EACAC,qBAAqB,6BAArB,CAAoD,EAApD,CAAwD,CAKvDtB,MAAO,gBAAY,CAClB,gCAAkC,KAAKjF,GAAL,CAAS,sBAAT,CAAlC,CACCa,uBAAyB,KAAKb,GAAL,CAAS,wBAAT,CAD1B,CAECL,KAAO,EAFR,CAGA,GAAoC,IAAhC,gCAAwE,QAAhC,8BAA5C,CAAsF,CACrFA,KAAO,wGAAmG,KAAKM,OAAL,EAAnG,CAAoH,wBAApH,CAA6I,KAAKuG,aAAL,EAA7I,CAAoK,6CAApK,CAA8M,KAAKtG,QAAL,EAA9M,CAAgO,WADlJ,CAErF,YAAczC,EAAEkC,IAAF,CAAd,CACC8G,YAAclK,QAAQa,IAAR,CAAa,iBAAb,CADf,CAEA,GAAuC,CAAC,CAApC,eAAYC,GAAZ,GAAkB4E,OAAlB,CAA0B,GAA1B,CAAJ,CAA2C,CAC1C,eAAiB,KAAK/B,QAAL,GAAgBiE,KAAhB,CAAsB,GAAtB,CAAjB,CACCuC,cAAgBC,WAAW,CAAX,CADjB,CAECC,YAAcD,WAAW,CAAX,CAFf,CAGA,GAAmC,CAAC,CAAhC,iBAAc1E,OAAd,CAAsB,GAAtB,CAAJ,CAAuC,CACtC,aAAeyE,cAAcvC,KAAd,CAAoB,GAApB,CAAf,CACAuC,cAAgBG,SAAS,CAAT,EAChB,CACD,GAAiC,CAAC,CAA9B,eAAY5E,OAAZ,CAAoB,GAApB,CAAJ,CAAqC,CACpC,kBAAoB2E,YAAYzC,KAAZ,CAAkB,GAAlB,CAApB,CACAyC,YAAcE,cAAc,CAAd,EACd,CACDL,YAAYpJ,GAAZ,CAAgBqJ,cAAgB,GAAhB,CAAsBE,WAAtC,EACA,CAbD,IAaO,CAEN,UAAY,KAAK1G,QAAL,GAAgBiE,KAAhB,CAAsB,GAAtB,CAAZ,CACC4C,UAAYzC,MAAM,CAAN,CADb,CAEC0C,QAAU1C,MAAM,CAAN,CAFX,CAGkB,EAAd,cAAgC,EAAZ,UALlB,EAMLmC,YAAYpJ,GAAZ,CAAgB0J,UAAY,GAAZ,CAAkBC,OAAlC,EAED,CACD,YAAYxB,sBAAL,CAA4BjJ,OAA5B,CACP,CAAM,GAAIuJ,qDAAJ,CAA2D,CACjE,eAAiBjF,uBAAuBiF,2BAAvB,WAAjB,CACCmB,SAAWpG,uBAAuBiF,2BAAvB,SADZ,CAOA,WAAA,CALoC,OAAhC,gCAA2E,UAAhC,8BAA3C,EAAyH,WAAhC,8BAK7F,CAJQ,iBAAkB,KAAK7F,OAAL,EAAlB,CAAmC,6CAAnC,CAA6EiH,UAA7E,CAA0F,KAIlG,CAFQ,iBAAkB,KAAKjH,OAAL,EAAlB,CAAmC,6CAAnC,CAA6EiH,UAA7E,CAA0F,GAA1F,CAAgGD,QAAhG,CAA2G,KAEnH,CAAOxJ,EAAEkC,IAAF,CACP,CACA,YAAc,KAAKwH,MAAL,EAAd,CACCC,mBAAqBC,QAAQjK,IAAR,CAAa,YAAb,EAA2BC,GAA3B,EADtB,CAECiK,UAAYF,mBAAmBjD,KAAnB,CAAyB,GAAzB,CAFb,CAGA,GAAqB,UAAjB,aAAU,CAAV,CAAJ,CACCiD,mBAAqBE,UAAU,CAAV,CADtB,SAE2C,GAAhC,gCAAuE,GAAhC,8BAAvC,EACsB,GAAhC,8BADU,EAC6D,GAAhC,8BADjC,CACsE,CAC5E,kBAAoBF,mBAAmBjD,KAAnB,CAAyB,GAAzB,CAApB,CACAiD,mBAAqBG,cAAc,CAAd,EACrB,CAED,eADQnK,IAAR,CAAa,YAAb,EAA2BC,GAA3B,CAA+B+J,kBAA/B,CACA,CAAOC,OAER,CA3DsD,CAAxD,EA+DAG,4BAA4B,iCAA5B,CAA+D,EAA/D,CAAmE,EAAnE"}