{"version":3,"file":"Detail.min.js","sources":["Detail.js"],"sourcesContent":["/*+***********************************************************************************\n * The contents of this file are subject to the vtiger CRM Public License Version 1.0\n * (\"License\"); You may not use this file except in compliance with the License\n * The Original Code is:  vtiger CRM Open Source\n * The Initial Developer of the Original Code is vtiger.\n * Portions created by vtiger are Copyright (C) vtiger.\n * All Rights Reserved.\n * Contributor(s): YetiForce.com\n *************************************************************************************/\n'use strict';\n\njQuery.Class(\"Vtiger_Detail_Js\", {\n\tdetailInstance: false,\n\tgetInstance: function () {\n\t\tif (Vtiger_Detail_Js.detailInstance == false) {\n\t\t\tlet moduleClassName = app.getModuleName() + \"_\" + app.getViewName() + \"_Js\",\n\t\t\t\tinstance;\n\t\t\tif (typeof window[moduleClassName] !== \"undefined\") {\n\t\t\t\tinstance = new window[moduleClassName]();\n\t\t\t} else {\n\t\t\t\tinstance = new Vtiger_Detail_Js();\n\t\t\t}\n\t\t\tVtiger_Detail_Js.detailInstance = instance;\n\t\t}\n\t\treturn Vtiger_Detail_Js.detailInstance;\n\t},\n\t/*\n\t * function to trigger Detail view actions\n\t * @params: Action url , callback function.\n\t */\n\ttriggerDetailViewAction: function (detailActionUrl, callBackFunction) {\n\t\tvar detailInstance = Vtiger_Detail_Js.getInstance();\n\t\tvar selectedIds = [];\n\t\tselectedIds.push(detailInstance.getRecordId());\n\t\tvar postData = {\n\t\t\t\"selected_ids\": JSON.stringify(selectedIds)\n\t\t};\n\t\tvar actionParams = {\n\t\t\t\"type\": \"POST\",\n\t\t\t\"url\": detailActionUrl,\n\t\t\t\"dataType\": \"html\",\n\t\t\t\"data\": postData\n\t\t};\n\n\t\tAppConnector.request(actionParams).done(function (data) {\n\t\t\tif (data) {\n\t\t\t\tapp.showModalWindow(data, {'text-align': 'left'});\n\t\t\t\tif (typeof callBackFunction == 'function') {\n\t\t\t\t\tcallBackFunction(data);\n\t\t\t\t}\n\t\t\t}\n\t\t}).fail(function (error, err) {\n\t\t});\n\t},\n\t/*\n\t * function to trigger send Sms\n\t * @params: send sms url , module name.\n\t */\n\ttriggerSendSms: function (detailActionUrl, module) {\n\t\tVtiger_Detail_Js.triggerDetailViewAction(detailActionUrl);\n\t},\n\ttriggerTransferOwnership: function (massActionUrl) {\n\t\tvar thisInstance = this;\n\t\tthisInstance.getRelatedModulesContainer = false;\n\t\tvar actionParams = {\n\t\t\t\"type\": \"POST\",\n\t\t\t\"url\": massActionUrl,\n\t\t\t\"dataType\": \"html\",\n\t\t\t\"data\": {}\n\t\t};\n\t\tAppConnector.request(actionParams).done(function (data) {\n\t\t\t\tif (data) {\n\t\t\t\t\tvar callback = function (data) {\n\t\t\t\t\t\tvar params = app.validationEngineOptions;\n\t\t\t\t\t\tparams.onValidationComplete = function (form, valid) {\n\t\t\t\t\t\t\tif (valid) {\n\t\t\t\t\t\t\t\tif (form.attr(\"name\") == \"changeOwner\") {\n\t\t\t\t\t\t\t\t\tthisInstance.transferOwnershipSave(form)\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tjQuery('#changeOwner').validationEngine(app.validationEngineOptions);\n\t\t\t\t\t}\n\t\t\t\t\tapp.showModalWindow(data, function (data) {\n\t\t\t\t\t\tvar selectElement = thisInstance.getRelatedModuleContainer();\n\t\t\t\t\t\tApp.Fields.Picklist.changeSelectElementView(selectElement, 'select2');\n\t\t\t\t\t\tif (typeof callback == 'function') {\n\t\t\t\t\t\t\tcallback(data);\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t);\n\t},\n\ttransferOwnershipSave: function (form) {\n\t\tvar transferOwner = jQuery('#transferOwnerId').val();\n\t\tvar relatedModules = jQuery('#related_modules').val();\n\t\tvar recordId = jQuery('#recordId').val();\n\t\tvar params = {\n\t\t\t'module': app.getModuleName(),\n\t\t\t'action': 'TransferOwnership',\n\t\t\t'record': recordId,\n\t\t\t'transferOwnerId': transferOwner,\n\t\t\t'related_modules': relatedModules\n\t\t}\n\t\tAppConnector.request(params).done(function (data) {\n\t\t\t\tif (data.success) {\n\t\t\t\t\tapp.hideModalWindow();\n\t\t\t\t\tvar params = {\n\t\t\t\t\t\ttitle: app.vtranslate('JS_MESSAGE'),\n\t\t\t\t\t\ttext: app.vtranslate('JS_RECORDS_TRANSFERRED_SUCCESSFULLY'),\n\t\t\t\t\t\ttype: 'info'\n\t\t\t\t\t};\n\t\t\t\t\tvar oldvalue = jQuery('.assigned_user_id').val();\n\t\t\t\t\tvar element = jQuery(\".assigned_user_id \");\n\n\t\t\t\t\telement.find('option[value=\"' + oldvalue + '\"]').removeAttr(\"selected\");\n\t\t\t\t\telement.find('option[value=\"' + transferOwner + '\"]').attr('selected', 'selected');\n\t\t\t\t\telement.trigger(\"liszt:updated\");\n\t\t\t\t\tvar Fieldname = element.find('option[value=\"' + transferOwner + '\"]').data(\"picklistvalue\");\n\t\t\t\t\telement.closest(\".row-fluid\").find(\".value\").html('<a href=\"index.php?module=Users&amp;parent=Settings&amp;view=Detail&amp;record=' + transferOwner + '\">' + Fieldname + '</a>');\n\n\t\t\t\t\tVtiger_Helper_Js.showPnotify(params);\n\t\t\t\t}\n\t\t\t}\n\t\t);\n\t},\n\t/*\n\t * Function to get the related module container\n\t */\n\tgetRelatedModuleContainer: function () {\n\t\tif (this.getRelatedModulesContainer == false) {\n\t\t\tthis.getRelatedModulesContainer = jQuery('#related_modules');\n\t\t}\n\t\treturn this.getRelatedModulesContainer;\n\t},\n\treloadRelatedList: function () {\n\t\tvar detailInstance = Vtiger_Detail_Js.getInstance();\n\t\tvar params = {};\n\t\tif (jQuery('[name=\"currentPageNum\"]').length > 0) {\n\t\t\tparams.page = jQuery('[name=\"currentPageNum\"]').val();\n\t\t}\n\t\tdetailInstance.loadRelatedList(params);\n\t},\n\tshowWorkflowTriggerView: function (instance) {\n\t\t$(instance).popover('hide');\n\t\tconst detailInstance = Vtiger_Detail_Js.getInstance(),\n\t\t\tcallback = function (data) {\n\t\t\t\tdata.find('[type=\"submit\"]').on('click', function () {\n\t\t\t\t\tlet ids = [];\n\t\t\t\t\tdata.find('input[type=\"checkbox\"]:checked').each(function () {\n\t\t\t\t\t\tids.push($(this).val());\n\t\t\t\t\t});\n\t\t\t\t\tif (ids.length === 0) {\n\t\t\t\t\t\tVtiger_Helper_Js.showPnotify({\n\t\t\t\t\t\t\ttitle: app.vtranslate('JS_INFORMATION'),\n\t\t\t\t\t\t\ttext: app.vtranslate('JS_NOT_SELECTED_WORKFLOW_TRIGGER'),\n\t\t\t\t\t\t\ttype: 'error',\n\t\t\t\t\t\t});\n\t\t\t\t\t} else {\n\t\t\t\t\t\tVtiger_Helper_Js.showPnotify({\n\t\t\t\t\t\t\ttitle: app.vtranslate('JS_MESSAGE'),\n\t\t\t\t\t\t\ttext: app.vtranslate('JS_STARTED_PERFORM_WORKFLOW'),\n\t\t\t\t\t\t\ttype: 'info',\n\t\t\t\t\t\t});\n\t\t\t\t\t\tAppConnector.request({\n\t\t\t\t\t\t\tmodule: app.getModuleName(),\n\t\t\t\t\t\t\taction: 'Workflow',\n\t\t\t\t\t\t\tmode: 'execute',\n\t\t\t\t\t\t\tuser: data.find('[name=\"user\"]').val(),\n\t\t\t\t\t\t\trecord: detailInstance.getRecordId(),\n\t\t\t\t\t\t\tids: ids\n\t\t\t\t\t\t}).done(function () {\n\t\t\t\t\t\t\tVtiger_Helper_Js.showPnotify({\n\t\t\t\t\t\t\t\ttitle: app.vtranslate('JS_MESSAGE'),\n\t\t\t\t\t\t\t\ttext: app.vtranslate('JS_COMPLETED_PERFORM_WORKFLOW'),\n\t\t\t\t\t\t\t\ttype: 'success',\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\tapp.hideModalWindow();\n\t\t\t\t\t\t\tdetailInstance.loadWidgets();\n\t\t\t\t\t\t}).fail(function () {\n\t\t\t\t\t\t\tVtiger_Helper_Js.showPnotify({\n\t\t\t\t\t\t\t\ttitle: app.vtranslate('JS_ERROR'),\n\t\t\t\t\t\t\t\ttext: app.vtranslate('JS_ERROR_DURING_TRIGGER_OF_WORKFLOW'),\n\t\t\t\t\t\t\t\ttype: 'error',\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\tapp.hideModalWindow();\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t};\n\t\tAppConnector.request({\n\t\t\tmodule: app.getModuleName(),\n\t\t\tview: 'WorkflowTrigger',\n\t\t\trecord: detailInstance.getRecordId()\n\t\t}).done(function (data) {\n\t\t\tif (data) {\n\t\t\t\tapp.showModalWindow(data, '', callback);\n\t\t\t}\n\t\t});\n\t}\n}, {\n\ttargetPicklistChange: false,\n\ttargetPicklist: false,\n\tdetailViewContentHolder: false,\n\tdetailViewForm: false,\n\tdetailViewDetailsTabLabel: 'LBL_RECORD_DETAILS',\n\tdetailViewSummaryTabLabel: 'LBL_RECORD_SUMMARY',\n\tdetailViewRecentCommentsTabLabel: 'ModComments',\n\tdetailViewRecentActivitiesTabLabel: 'Activities',\n\tdetailViewRecentUpdatesTabLabel: 'LBL_UPDATES',\n\tdetailViewRecentDocumentsTabLabel: 'Documents',\n\tfieldUpdatedEvent: 'Vtiger.Field.Updated',\n\t//Filels list on updation of which we need to upate the detailview header\n\tupdatedFields: ['company', 'designation', 'title'],\n\t//Event that will triggered before saving the ajax edit of fields\n\tfieldPreSave: 'Vtiger.Field.PreSave',\n\ttempData: [],\n\treferenceFieldNames: {\n\t\t'Calendar': {\n\t\t\t'Accounts': 'link',\n\t\t\t'Leads': 'link',\n\t\t\t'Vendors': 'link',\n\t\t\t'OSSEmployees': 'link',\n\t\t\t'Contacts': 'linkextend',\n\t\t\t'Campaigns': 'process',\n\t\t\t'HelpDesk': 'process',\n\t\t\t'Projects': 'process',\n\t\t\t'ServiceContracts': 'process',\n\t\t},\n\t\t'OutsourcedProducts': {\n\t\t\t'Leads': 'parent_id',\n\t\t\t'Accounts': 'parent_id',\n\t\t\t'Contacts': 'parent_id'\n\t\t},\n\t\t'Assets': {\n\t\t\t'Accounts': 'parent_id',\n\t\t\t'Contacts': 'parent_id'\n\t\t},\n\t\t'OSSOutsourcedServices': {\n\t\t\t'Leads': 'parent_id',\n\t\t\t'Accounts': 'parent_id',\n\t\t\t'Contacts': 'parent_id'\n\t\t},\n\t\t'OSSSoldServices': {\n\t\t\t'Accounts': 'parent_id',\n\t\t\t'Contacts': 'parent_id'\n\t\t},\n\t},\n\t//constructor\n\tinit: function () {\n\n\t},\n\tloadWidgetsEvents: function () {\n\t\tconst thisInstance = this;\n\t\tapp.event.on(\"DetailView.Widget.AfterLoad\", function (e, widgetContent, relatedModuleName, instance) {\n\t\t\tif (relatedModuleName === 'Calendar') {\n\t\t\t\tthisInstance.reloadWidgetActivitesStats(widgetContent.closest('.activityWidgetContainer'));\n\t\t\t}\n\t\t\tif (relatedModuleName === 'ModComments') {\n\t\t\t\tthisInstance.registerCommentEventsInDetail(widgetContent.closest('.updatesWidgetContainer'));\n\t\t\t}\n\t\t\tif (widgetContent.find('[name=\"relatedModule\"]').length) {\n\t\t\t\tthisInstance.registerShowSummary(widgetContent);\n\t\t\t}\n\t\t\tif (relatedModuleName === 'OSSMailView') {\n\t\t\t\tVtiger_Index_Js.registerMailButtons(widgetContent);\n\t\t\t\twidgetContent.find('.showMailModal').on('click', function (e) {\n\t\t\t\t\tlet progressIndicatorElement = jQuery.progressIndicator();\n\t\t\t\t\tapp.showModalWindow(\"\", $(e.currentTarget).data('url') + '&noloadlibs=1', function (data) {\n\t\t\t\t\t\tVtiger_Index_Js.registerMailButtons(data);\n\t\t\t\t\t\tprogressIndicatorElement.progressIndicator({'mode': 'hide'});\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t}\n\t\t\tthisInstance.registerEmailEvents(widgetContent);\n\t\t\tif (relatedModuleName === 'DetailView') {\n\t\t\t\tthisInstance.registerBlockStatusCheckOnLoad();\n\t\t\t}\n\t\t});\n\t},\n\tloadWidgets: function () {\n\t\tvar thisInstance = this;\n\t\tvar widgetList = jQuery('[class^=\"widgetContainer_\"]');\n\t\twidgetList.each(function (index, widgetContainerELement) {\n\t\t\tvar widgetContainer = jQuery(widgetContainerELement);\n\t\t\tthisInstance.loadWidget(widgetContainer);\n\t\t});\n\t\tthisInstance.registerRelatedModulesRecordCount();\n\t},\n\tloadWidget: function (widgetContainer, params) {\n\t\tconst thisInstance = this,\n\t\t\tcontentContainer = $('.js-detail-widget-content', widgetContainer);\n\t\tlet relatedModuleName;\n\t\tif (widgetContainer.find('[name=\"relatedModule\"]').length) {\n\t\t\trelatedModuleName = widgetContainer.find('[name=\"relatedModule\"]').val();\n\t\t} else {\n\t\t\trelatedModuleName = widgetContainer.data('name');\n\t\t}\n\t\tif (params === undefined) {\n\t\t\tlet urlParams = widgetContainer.data('url');\n\t\t\tif (urlParams == undefined) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tlet queryParameters = urlParams.split('&'),\n\t\t\t\tkeyValueMap = {},\n\t\t\t\tindex;\n\t\t\tfor (index = 0; index < queryParameters.length; index++) {\n\t\t\t\tlet queryParamComponents = queryParameters[index].split('=');\n\t\t\t\tkeyValueMap[queryParamComponents[0]] = queryParamComponents[1];\n\t\t\t}\n\t\t\tparams = keyValueMap;\n\t\t}\n\t\tlet aDeferred = $.Deferred();\n\t\tcontentContainer.progressIndicator({});\n\t\tAppConnector.request({\n\t\t\ttype: 'POST',\n\t\t\tasync: false,\n\t\t\tdataType: 'html',\n\t\t\tdata: params\n\t\t}).done(function (data) {\n\t\t\tcontentContainer.progressIndicator({mode: 'hide'});\n\t\t\tcontentContainer.html(data);\n\t\t\tApp.Fields.Picklist.showSelect2ElementView(widgetContainer.find('.select2'));\n\t\t\tapp.registerModal(contentContainer);\n\t\t\tapp.registerMoreContent(contentContainer.find('button.moreBtn'));\n\t\t\tif (relatedModuleName) {\n\t\t\t\tlet relatedController = Vtiger_RelatedList_Js.getInstance(thisInstance.getRecordId(), app.getModuleName(), thisInstance.getSelectedTab(), relatedModuleName);\n\t\t\t\trelatedController.setRelatedContainer(contentContainer);\n\t\t\t\trelatedController.registerRelatedEvents();\n\t\t\t\tthisInstance.widgetRelatedRecordView(widgetContainer, true);\n\t\t\t}\n\t\t\tapp.event.trigger(\"DetailView.Widget.AfterLoad\", contentContainer, relatedModuleName, thisInstance);\n\t\t\taDeferred.resolve(params);\n\t\t}).fail(function () {\n\t\t\tcontentContainer.progressIndicator({mode: 'hide'});\n\t\t\taDeferred.reject();\n\t\t});\n\t\treturn aDeferred.promise();\n\t},\n\twidgetRelatedRecordView: function (container, load) {\n\t\tvar cacheKey = this.getRecordId() + '_' + container.data('id');\n\t\tvar relatedRecordCacheID = app.moduleCacheGet(cacheKey);\n\t\tif (relatedRecordCacheID !== null) {\n\t\t\tvar newActive = container.find(\".js-carousel-item[data-id = '\" + relatedRecordCacheID + \"']\");\n\t\t\tif (newActive.length) {\n\t\t\t\tcontainer.find('.js-carousel-item.active').removeClass('active');\n\t\t\t\tcontainer.find(\".js-carousel-item[data-id = '\" + relatedRecordCacheID + \"']\").addClass('active');\n\t\t\t}\n\t\t}\n\t\tvar controlBox = container.find('.control-widget');\n\t\tvar prev = controlBox.find('.prev');\n\t\tvar next = controlBox.find('.next');\n\t\tvar active = container.find('.js-carousel-item.active');\n\t\tif (container.find('.js-carousel-item').length <= 1 || !active.next().length) {\n\t\t\tnext.addClass('disabled');\n\t\t} else {\n\t\t\tnext.removeClass('disabled');\n\t\t}\n\t\tif (container.find('.js-carousel-item').length <= 1 || !active.prev().length) {\n\t\t\tprev.addClass('disabled');\n\t\t} else {\n\t\t\tprev.removeClass('disabled');\n\t\t}\n\t\tif (load) {\n\t\t\tnext.on('click', function () {\n\t\t\t\tif ($(this).hasClass('disabled')) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tvar active = container.find('.js-carousel-item.active');\n\t\t\t\tactive.removeClass('active');\n\t\t\t\tvar nextElement = active.next();\n\t\t\t\tnextElement.addClass('active');\n\t\t\t\tif (!nextElement.next().length) {\n\t\t\t\t\tnext.addClass('disabled');\n\t\t\t\t}\n\t\t\t\tif (active.prev()) {\n\t\t\t\t\tprev.removeClass('disabled');\n\t\t\t\t}\n\t\t\t\tapp.moduleCacheSet(cacheKey, nextElement.data('id'));\n\t\t\t});\n\t\t\tprev.on('click', function () {\n\t\t\t\tif ($(this).hasClass('disabled')) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tvar active = container.find('.js-carousel-item.active');\n\t\t\t\tactive.removeClass('active');\n\t\t\t\tvar prevElement = active.prev();\n\t\t\t\tprevElement.addClass('active');\n\t\t\t\tif (!prevElement.prev().length) {\n\t\t\t\t\tprev.addClass('disabled');\n\t\t\t\t}\n\t\t\t\tif (active.next()) {\n\t\t\t\t\tnext.removeClass('disabled');\n\t\t\t\t}\n\t\t\t\tapp.moduleCacheSet(cacheKey, prevElement.data('id'));\n\t\t\t});\n\t\t}\n\t},\n\n\tloadContents: function (url, data) {\n\t\tvar thisInstance = this;\n\t\tvar aDeferred = jQuery.Deferred();\n\n\t\tvar detailContentsHolder = this.getContentHolder();\n\t\tvar params = url;\n\t\tif (typeof data !== \"undefined\") {\n\t\t\tparams = {};\n\t\t\tparams.url = url;\n\t\t\tparams.data = data;\n\t\t}\n\t\tAppConnector.requestPjax(params).done(function (responseData) {\n\t\t\tdetailContentsHolder.html(responseData);\n\t\t\tresponseData = detailContentsHolder.html();\n\t\t\t//thisInstance.triggerDisplayTypeEvent();\n\t\t\tthisInstance.registerBlockStatusCheckOnLoad();\n\t\t\t//Make select box more usability\n\t\t\tApp.Fields.Picklist.changeSelectElementView(detailContentsHolder);\n\t\t\t//Attach date picker event to date fields\n\t\t\tApp.Fields.Date.register(detailContentsHolder);\n\t\t\tthisInstance.getForm().validationEngine();\n\t\t\tapp.event.trigger(\"DetailView.LoadContents.AfterLoad\", responseData);\n\t\t\taDeferred.resolve(responseData);\n\t\t});\n\t\treturn aDeferred.promise();\n\t},\n\tgetUpdatefFieldsArray: function () {\n\t\treturn this.updatedFields;\n\t},\n\t/**\n\t * Function to return related tab.\n\t * @return : jQuery Object.\n\t */\n\tgetTabByLabel: function (tabLabel) {\n\t\tvar tabs = this.getTabs();\n\t\tvar targetTab = false;\n\t\ttabs.each(function (index, element) {\n\t\t\tvar tab = jQuery(element);\n\t\t\tvar labelKey = tab.data('labelKey');\n\t\t\tif (labelKey == tabLabel) {\n\t\t\t\ttargetTab = tab;\n\t\t\t\treturn false;\n\t\t\t}\n\t\t});\n\t\treturn targetTab;\n\t},\n\tgetTabByModule: function (moduleName) {\n\t\tvar tabs = this.getTabs();\n\t\tvar targetTab = false;\n\t\ttabs.each(function (index, element) {\n\t\t\tvar tab = jQuery(element);\n\t\t\tif (tab.data('reference') == moduleName) {\n\t\t\t\ttargetTab = tab;\n\t\t\t\treturn false;\n\t\t\t}\n\t\t});\n\t\treturn targetTab;\n\t},\n\tselectModuleTab: function () {\n\t\tvar relatedTabContainer = this.getTabContainer();\n\t\tvar moduleTab = relatedTabContainer.find('li.module-tab');\n\t\tthis.deSelectAllrelatedTabs();\n\t\tthis.markTabAsSelected(moduleTab);\n\t},\n\tdeSelectAllrelatedTabs: function () {\n\t\tthis.getTabs().removeClass('active');\n\t},\n\tmarkTabAsSelected: function (tabElement) {\n\t\ttabElement.addClass('active');\n\t\tjQuery('.related .dropdown [data-reference=\"' + tabElement.data('reference') + '\"]').addClass('active');\n\t},\n\treloadTabContent: function () {\n\t\tthis.getSelectedTab().trigger('click');\n\t},\n\tgetSelectedTab: function () {\n\t\tvar tabContainer = this.getTabContainer();\n\t\treturn tabContainer.find('.js-detail-tab.active:not(.d-none)');\n\t},\n\tgetTabContainer: function () {\n\t\treturn jQuery('div.related');\n\t},\n\tgetTabs: function () {\n\t\tvar topTabs = this.getTabContainer().find('li.baseLink:not(.d-none)');\n\t\tvar dropdownMenuTabs = this.getTabContainer().find('li:not(.baseLink)');\n\t\tdropdownMenuTabs.each(function (n, e) {\n\t\t\tvar currentTarget = jQuery(this);\n\t\t\tvar iteration = currentTarget.data('iteration');\n\t\t\tvar className = currentTarget.hasClass('mainNav') ? 'mainNav' : 'relatedNav';\n\t\t\tif (iteration != undefined && topTabs.filter('.' + className + '[data-iteration=\"' + iteration + '\"]').length < 1) {\n\t\t\t\ttopTabs.push(currentTarget.get(0));\n\t\t\t}\n\t\t})\n\t\treturn topTabs;\n\t},\n\tgetContentHolder: function () {\n\t\tif (this.detailViewContentHolder == false) {\n\t\t\tthis.detailViewContentHolder = jQuery('div.details div.contents');\n\t\t}\n\t\treturn this.detailViewContentHolder;\n\t},\n\t/**\n\t * Function which will give the detail view form\n\t * @return : jQuery element\n\t */\n\tgetForm: function () {\n\t\tif (this.detailViewForm == false) {\n\t\t\tthis.detailViewForm = jQuery('#detailView');\n\t\t}\n\t\treturn this.detailViewForm;\n\t},\n\tgetRecordId: function () {\n\t\treturn app.getRecordId();\n\t},\n\tgetRelatedModuleName: function () {\n\t\tif (jQuery('.relatedModuleName', this.getContentHolder()).length == 1) {\n\t\t\treturn jQuery('.relatedModuleName', this.getContentHolder()).val();\n\t\t}\n\t},\n\tsaveFieldValues: function (fieldDetailList) {\n\t\tvar aDeferred = jQuery.Deferred();\n\n\t\tvar recordId = this.getRecordId();\n\n\t\tvar data = {};\n\t\tif (typeof fieldDetailList !== \"undefined\") {\n\t\t\tdata = fieldDetailList;\n\t\t}\n\t\tdata['record'] = recordId;\n\t\tdata['module'] = app.getModuleName();\n\t\tdata['action'] = 'SaveAjax';\n\n\t\tvar params = {};\n\t\tparams.data = data;\n\t\tparams.async = false;\n\t\tparams.dataType = 'json';\n\t\tAppConnector.request(params).done(function (reponseData) {\n\t\t\t\taDeferred.resolve(reponseData);\n\t\t\t}\n\t\t);\n\n\t\treturn aDeferred.promise();\n\t},\n\tgetRelatedListCurrentPageNum: function () {\n\t\treturn jQuery('input[name=\"currentPageNum\"]', this.getContentHolder()).val();\n\t},\n\t/**\n\t * function to remove comment block if its exists.\n\t */\n\tremoveCommentBlockIfExists: function () {\n\t\t$('.js-add-comment-block', $('.js-comments-body', this.getContentHolder())).remove();\n\t},\n\t/**\n\t * function to get the Comment thread for the given parent.\n\t * params: Url to get the Comment thread\n\t */\n\tgetCommentThread: function (url) {\n\t\tvar aDeferred = jQuery.Deferred();\n\t\tAppConnector.request(url).done(function (data) {\n\t\t\taDeferred.resolve(data);\n\t\t}).fail(function (error, err) {\n\t\t})\n\t\treturn aDeferred.promise();\n\t},\n\t/**\n\t * Function to save comment\n\t */\n\tsaveCommentAjax: function (element, commentMode, commentContentValue, editCommentReason, commentId, parentCommentId, aDeferred) {\n\t\tvar thisInstance = this;\n\t\tvar progressIndicatorElement = jQuery.progressIndicator({});\n\t\tvar commentInfoBlock = element.closest('.js-comment-single');\n\t\tvar relatedTo = commentInfoBlock.find('.related_to').val()\n\t\tif (!relatedTo) {\n\t\t\trelatedTo = thisInstance.getRecordId();\n\t\t}\n\t\tvar postData = {\n\t\t\t'commentcontent': commentContentValue,\n\t\t\t'related_to': relatedTo,\n\t\t\t'module': 'ModComments'\n\t\t};\n\n\t\tif (commentMode == \"edit\") {\n\t\t\tpostData['record'] = commentId;\n\t\t\tpostData['reasontoedit'] = editCommentReason;\n\t\t\tpostData['parent_comments'] = parentCommentId;\n\t\t\tpostData['mode'] = 'edit';\n\t\t\tpostData['action'] = 'Save';\n\t\t} else if (commentMode == \"add\") {\n\t\t\tpostData['parent_comments'] = commentId;\n\t\t\tpostData['action'] = 'SaveAjax';\n\t\t}\n\t\tAppConnector.request(postData).done(function (data) {\n\t\t\tprogressIndicatorElement.progressIndicator({'mode': 'hide'});\n\t\t\tif (commentMode == 'add') {\n\t\t\t\tthisInstance.addRelationBetweenRecords('ModComments', data.result.id, thisInstance.getTabByLabel(thisInstance.detailViewRecentCommentsTabLabel))\n\t\t\t}\n\t\t\tapp.event.trigger(\"DetailView.SaveComment.AfterAjax\", commentInfoBlock, postData, data);\n\t\t\taDeferred.resolve(data);\n\t\t}).fail(function (textStatus, errorThrown) {\n\t\t\tprogressIndicatorElement.progressIndicator({'mode': 'hide'});\n\t\t\telement.removeAttr('disabled');\n\t\t\taDeferred.reject(textStatus, errorThrown);\n\t\t});\n\t},\n\tsaveComment: function (e) {\n\t\tlet aDeferred = jQuery.Deferred(),\n\t\t\tcurrentTarget = jQuery(e.currentTarget),\n\t\t\tcommentMode = currentTarget.data('mode'),\n\t\t\tclosestCommentBlock = currentTarget.closest('.js-add-comment-block'),\n\t\t\tcommentContent = closestCommentBlock.find('.js-comment-content'),\n\t\t\tcommentContentValue = commentContent.html(),\n\t\t\terrorMsg, editCommentReason;\n\t\tif (\"\" === commentContentValue) {\n\t\t\terrorMsg = app.vtranslate('JS_LBL_COMMENT_VALUE_CANT_BE_EMPTY')\n\t\t\tcommentContent.validationEngine('showPrompt', errorMsg, 'error', 'bottomLeft', true);\n\t\t\taDeferred.reject(errorMsg);\n\t\t\treturn aDeferred.promise();\n\t\t}\n\t\tif (\"edit\" === commentMode) {\n\t\t\teditCommentReason = closestCommentBlock.find('[name=\"reasonToEdit\"]').val();\n\t\t}\n\t\tlet element = jQuery(e.currentTarget),\n\t\t\tcommentInfoHeader = closestCommentBlock.closest('.js-comment-details').find('.js-comment-info-header'),\n\t\t\tcommentId = commentInfoHeader.data('commentid'),\n\t\t\tparentCommentId = commentInfoHeader.data('parentcommentid');\n\t\tthis.saveCommentAjax(element, commentMode, commentContentValue, editCommentReason, commentId, parentCommentId, aDeferred);\n\t\treturn aDeferred.promise();\n\t},\n\t/**\n\t * function to return the UI of the comment.\n\t * return html\n\t */\n\tgetCommentUI: function (commentId) {\n\t\tvar aDeferred = jQuery.Deferred();\n\t\tvar postData = {\n\t\t\t'view': 'DetailAjax',\n\t\t\t'module': 'ModComments',\n\t\t\t'record': commentId\n\t\t}\n\t\tAppConnector.request(postData).done(function (data) {\n\t\t\taDeferred.resolve(data);\n\t\t}).fail(function (error, err) {\n\t\t});\n\t\treturn aDeferred.promise();\n\t},\n\t/**\n\t * function to return cloned add comment block\n\t * return jQuery Obj.\n\t */\n\tgetCommentBlock: function () {\n\t\tlet clonedCommentBlock = jQuery('.basicAddCommentBlock', this.getContentHolder()).clone(true, true).removeClass('basicAddCommentBlock d-none').addClass('js-add-comment-block');\n\t\tclonedCommentBlock.find('.commentcontenthidden').removeClass('commentcontenthidden').addClass('js-comment-content');\n\t\treturn clonedCommentBlock;\n\t},\n\t/**\n\t * function to return cloned edit comment block\n\t * return jQuery Obj.\n\t */\n\tgetEditCommentBlock: function () {\n\t\tlet clonedCommentBlock = jQuery('.basicEditCommentBlock', this.getContentHolder()).clone(true, true).removeClass('basicEditCommentBlock d-none').addClass('js-add-comment-block');\n\t\tclonedCommentBlock.find('.commentcontenthidden').removeClass('commentcontenthidden').addClass('js-comment-content');\n\t\tnew App.Fields.Text.Completions(clonedCommentBlock.find('.js-completions'));\n\t\treturn clonedCommentBlock;\n\t},\n\t/*\n\t * Function to register the submit event for Send Sms\n\t */\n\tregisterSendSmsSubmitEvent: function () {\n\t\tvar thisInstance = this;\n\t\tjQuery('body').on('submit', '#massSave', function (e) {\n\t\t\tvar form = jQuery(e.currentTarget);\n\t\t\tvar smsTextLength = form.find('#message').html().length;\n\t\t\tif (smsTextLength > 160) {\n\t\t\t\tvar params = {\n\t\t\t\t\ttitle: app.vtranslate('JS_MESSAGE'),\n\t\t\t\t\ttext: app.vtranslate('LBL_SMS_MAX_CHARACTERS_ALLOWED'),\n\t\t\t\t\ttype: 'error'\n\t\t\t\t};\n\t\t\t\tVtiger_Helper_Js.showPnotify(params);\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tvar submitButton = form.find(':submit');\n\t\t\tsubmitButton.attr('disabled', 'disabled');\n\t\t\tthisInstance.SendSmsSave(form);\n\t\t\te.preventDefault();\n\t\t});\n\t},\n\t/*\n\t * Function to Save and sending the Sms and hide the modal window of send sms\n\t */\n\tSendSmsSave: function (form) {\n\t\tvar progressInstance = jQuery.progressIndicator({\n\t\t\t'position': 'html',\n\t\t\t'blockInfo': {\n\t\t\t\t'enabled': true\n\t\t\t}\n\t\t});\n\t\tvar SendSmsUrl = form.serializeFormData();\n\t\tAppConnector.request(SendSmsUrl).done(function (data) {\n\t\t\tapp.hideModalWindow();\n\t\t\tprogressInstance.progressIndicator({\n\t\t\t\t'mode': 'hide'\n\t\t\t});\n\t\t}).fail(function (error, err) {\n\t\t});\n\t},\n\t/**\n\t * Function which will register events to update the record name in the detail view when any of\n\t * the name field is changed\n\t */\n\tregisterNameAjaxEditEvent: function () {\n\t\tvar thisInstance = this;\n\t\tvar detailContentsHolder = thisInstance.getContentHolder();\n\t\tdetailContentsHolder.on(thisInstance.fieldUpdatedEvent, '.nameField', function (e, params) {\n\t\t\tvar form = thisInstance.getForm();\n\t\t\tvar nameFields = form.data('nameFields');\n\t\t\tvar recordLabel = '';\n\t\t\tfor (var index in nameFields) {\n\t\t\t\tif (index != 0) {\n\t\t\t\t\trecordLabel += ' '\n\t\t\t\t}\n\n\t\t\t\tvar nameFieldName = nameFields[index];\n\t\t\t\trecordLabel += form.find('[name=\"' + nameFieldName + '\"]').val();\n\t\t\t}\n\t\t\tvar recordLabelElement = detailContentsHolder.closest('.contentsDiv').find('.recordLabel');\n\t\t\trecordLabelElement.text(recordLabel);\n\t\t});\n\t},\n\tupdateHeaderNameFields: function () {\n\t\tvar thisInstance = this;\n\t\tvar detailContentsHolder = thisInstance.getContentHolder();\n\t\tvar form = thisInstance.getForm();\n\t\tvar nameFields = form.data('nameFields');\n\t\tvar recordLabelElement = detailContentsHolder.closest('.contentsDiv').find('.recordLabel');\n\t\tvar title = '';\n\t\tfor (var index in nameFields) {\n\t\t\tvar nameFieldName = nameFields[index];\n\t\t\tvar nameField = form.find('[name=\"' + nameFieldName + '\"]');\n\t\t\tif (nameField.length > 0) {\n\t\t\t\tvar recordLabel = nameField.val();\n\t\t\t\ttitle += recordLabel + \" \";\n\t\t\t\trecordLabelElement.find('[class=\"' + nameFieldName + '\"]').text(recordLabel);\n\t\t\t}\n\t\t}\n\t\tvar salutatioField = recordLabelElement.find('.salutation');\n\t\tif (salutatioField.length > 0) {\n\t\t\tvar salutatioValue = salutatioField.text();\n\t\t\ttitle = salutatioValue + title;\n\t\t}\n\t\trecordLabelElement.attr('title', title);\n\t},\n\tregisterAjaxEditEvent: function () {\n\t\tvar thisInstance = this;\n\t\tvar detailContentsHolder = thisInstance.getContentHolder();\n\t\tdetailContentsHolder.on(thisInstance.fieldUpdatedEvent, 'input,select,textarea', function (e) {\n\t\t\tthisInstance.updateHeaderValues(jQuery(e.currentTarget));\n\t\t});\n\t},\n\tupdateHeaderValues: function (currentElement) {\n\t\tvar thisInstance = this;\n\t\tif (currentElement.hasClass('nameField')) {\n\t\t\tthisInstance.updateHeaderNameFields();\n\t\t\treturn true;\n\t\t}\n\n\t\tvar name = currentElement.attr('name');\n\t\tvar updatedFields = this.getUpdatefFieldsArray();\n\t\tvar detailContentsHolder = thisInstance.getContentHolder();\n\t\tif (jQuery.inArray(name, updatedFields) != '-1') {\n\t\t\tvar recordLabel = currentElement.val();\n\t\t\tvar recordLabelElement = detailContentsHolder.closest('.contentsDiv').find('.' + name + '_label');\n\t\t\trecordLabelElement.text(recordLabel);\n\t\t}\n\t},\n\t/*\n\t * Function to register the click event of email field\n\t */\n\tregisterEmailFieldClickEvent: function () {\n\t\tvar detailContentsHolder = this.getContentHolder();\n\t\tdetailContentsHolder.on('click', '.emailField', function (e) {\n\t\t\te.stopPropagation();\n\t\t})\n\t},\n\t/*\n\t * Function to register the click event of phone field\n\t */\n\tregisterPhoneFieldClickEvent: function () {\n\t\tvar detailContentsHolder = this.getContentHolder();\n\t\tdetailContentsHolder.on('click', '.phoneField', function (e) {\n\t\t\te.stopPropagation();\n\t\t})\n\t},\n\t/*\n\t * Function to register the click event of url field\n\t */\n\tregisterUrlFieldClickEvent: function () {\n\t\tvar detailContentsHolder = this.getContentHolder();\n\t\tdetailContentsHolder.on('click', '.urlField', function (e) {\n\t\t\te.stopPropagation();\n\t\t})\n\t},\n\t/**\n\t * Function to register event for related list row click\n\t */\n\tregisterRelatedRowClickEvent: function () {\n\t\tvar detailContentsHolder = this.getContentHolder();\n\t\tdetailContentsHolder.on('click', '.listViewEntries', function (e) {\n\t\t\tvar targetElement = jQuery(e.target, jQuery(e.currentTarget));\n\t\t\tif (targetElement.is('td:first-child') && (targetElement.children('input[type=\"checkbox\"]').length > 0))\n\t\t\t\treturn;\n\t\t\tif (jQuery(e.target).is('input[type=\"checkbox\"]'))\n\t\t\t\treturn;\n\t\t\tvar elem = jQuery(e.currentTarget);\n\t\t\tvar recordUrl = elem.data('recordurl');\n\t\t\tif (typeof recordUrl !== \"undefined\") {\n\t\t\t\twindow.location.href = recordUrl;\n\t\t\t}\n\t\t});\n\n\t},\n\tloadRelatedList: function (params) {\n\t\tvar aDeferred = jQuery.Deferred();\n\t\tif (params == undefined) {\n\t\t\tparams = {};\n\t\t}\n\t\tvar relatedListInstance = Vtiger_RelatedList_Js.getInstance(this.getRecordId(), app.getModuleName(), this.getSelectedTab(), this.getRelatedModuleName());\n\t\trelatedListInstance.loadRelatedList(params).done(function (data) {\n\t\t\t\taDeferred.resolve(data);\n\t\t\t}, function (textStatus, errorThrown) {\n\t\t\t\taDeferred.reject(textStatus, errorThrown);\n\t\t\t}\n\t\t);\n\t\treturn aDeferred.promise();\n\t},\n\t/**\n\t * Function to register Event for Sorting\n\t */\n\tregisterEventForRelatedList: function () {\n\t\tvar thisInstance = this;\n\t\tvar detailContentsHolder = this.getContentHolder();\n\t\tvar relatedModuleName = thisInstance.getRelatedModuleName();\n\t\tif (relatedModuleName) {\n\t\t\tvar relatedController = Vtiger_RelatedList_Js.getInstance(thisInstance.getRecordId(), app.getModuleName(), thisInstance.getSelectedTab(), relatedModuleName);\n\t\t\trelatedController.setRelatedContainer(detailContentsHolder);\n\t\t\trelatedController.registerRelatedEvents();\n\t\t}\n\t\tdetailContentsHolder.find('.detailViewBlockLink').each(function (n, block) {\n\t\t\tblock = $(block);\n\t\t\tvar blockContent = block.find('.blockContent');\n\t\t\tif (blockContent.is(':visible')) {\n\t\t\t\tAppConnector.request({\n\t\t\t\t\ttype: 'GET',\n\t\t\t\t\tdataType: 'html',\n\t\t\t\t\tdata: block.data('url')\n\t\t\t\t}).done(function (response) {\n\t\t\t\t\tblockContent.html(response);\n\t\t\t\t\tvar relatedController = Vtiger_RelatedList_Js.getInstance(thisInstance.getRecordId(), app.getModuleName(), thisInstance.getSelectedTab(), block.data('reference'));\n\t\t\t\t\trelatedController.setRelatedContainer(blockContent);\n\t\t\t\t\trelatedController.registerRelatedEvents();\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\t\tdetailContentsHolder.find('.detailViewBlockLink .blockHeader').on('click', function (e) {\n\t\t\tconst target = $(e.target);\n\t\t\tif (target.is('input') || target.is('button') || target.parents().is('button') || target.hasClass('js-stop-propagation') || target.parents().hasClass('js-stop-propagation')) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tconst block = $(this).closest('.js-toggle-panel');\n\t\t\tconst blockContent = block.find('.blockContent');\n\t\t\tconst isEmpty = blockContent.is(':empty');\n\t\t\tif (!blockContent.is(':visible')) {\n\t\t\t\tblockContent.progressIndicator();\n\t\t\t\tAppConnector.request({\n\t\t\t\t\ttype: 'GET',\n\t\t\t\t\tdataType: 'html',\n\t\t\t\t\tdata: block.data('url')\n\t\t\t\t}).done(function (response) {\n\t\t\t\t\tblockContent.html(response);\n\t\t\t\t\tconst relatedController = Vtiger_RelatedList_Js.getInstance(thisInstance.getRecordId(), app.getModuleName(), thisInstance.getSelectedTab(), block.data('reference'));\n\t\t\t\t\trelatedController.setRelatedContainer(blockContent);\n\t\t\t\t\tif (isEmpty) {\n\t\t\t\t\t\trelatedController.registerRelatedEvents();\n\t\t\t\t\t} else {\n\t\t\t\t\t\trelatedController.registerPostLoadEvents();\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\t},\n\tregisterBlockAnimationEvent: function () {\n\t\tvar thisInstance = this;\n\t\tvar detailContentsHolder = this.getContentHolder();\n\t\tdetailContentsHolder.find(\".blockHeader\").on('click', function (e) {\n\t\t\tconst target = $(e.target);\n\t\t\tif (target.is('input') || target.is('button') || target.parents().is('button') || target.hasClass('js-stop-propagation') || target.parents().hasClass('js-stop-propagation')) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tvar currentTarget = $(this).find(\".js-block-toggle\").not(\".d-none\");\n\t\t\tvar blockId = currentTarget.data(\"id\");\n\t\t\tvar closestBlock = currentTarget.closest(\".js-toggle-panel\");\n\t\t\tvar bodyContents = closestBlock.find(\".blockContent\");\n\t\t\tvar data = currentTarget.data();\n\t\t\tvar module = app.getModuleName();\n\t\t\tif (data.mode === \"show\") {\n\t\t\t\tbodyContents.addClass(\"d-none\");\n\t\t\t\tapp.cacheSet(module + \".\" + blockId, 0);\n\t\t\t\tcurrentTarget.addClass(\"d-none\");\n\t\t\t\tclosestBlock.find('[data-mode=\"hide\"]').removeClass(\"d-none\");\n\t\t\t} else {\n\t\t\t\tbodyContents.removeClass(\"d-none\");\n\t\t\t\tapp.cacheSet(module + \".\" + blockId, 1);\n\t\t\t\tcurrentTarget.addClass(\"d-none\");\n\t\t\t\tclosestBlock.find('[data-mode=\"show\"]').removeClass(\"d-none\");\n\t\t\t}\n\t\t\tapp.event.trigger(\"DetailView.js-block-toggle.PostLoad\", bodyContents, data, thisInstance);\n\t\t});\n\t},\n\tregisterBlockStatusCheckOnLoad: function () {\n\t\tlet blocks = this.getContentHolder().find('.js-toggle-panel');\n\t\tlet module = app.getModuleName();\n\t\tblocks.each(function (index, block) {\n\t\t\tlet currentBlock = jQuery(block);\n\t\t\tlet dynamicAttr = currentBlock.attr('data-dynamic');\n\t\t\tif (typeof dynamicAttr !== typeof undefined && dynamicAttr !== false) {\n\t\t\t\tlet headerAnimationElement = currentBlock.find('.js-block-toggle').not('.d-none');\n\t\t\t\tlet bodyContents = currentBlock.closest('.js-toggle-panel').find('.blockContent');\n\t\t\t\tlet blockId = headerAnimationElement.data('id');\n\t\t\t\tlet cacheKey = module + '.' + blockId;\n\t\t\t\tlet value = app.cacheGet(cacheKey, null);\n\t\t\t\tif (value != null) {\n\t\t\t\t\tif (value == 1) {\n\t\t\t\t\t\theaderAnimationElement.addClass('d-none');\n\t\t\t\t\t\tcurrentBlock.find(\"[data-mode='show']\").removeClass('d-none');\n\t\t\t\t\t\tbodyContents.removeClass('d-none');\n\t\t\t\t\t} else {\n\t\t\t\t\t\theaderAnimationElement.addClass('d-none');\n\t\t\t\t\t\tcurrentBlock.find(\"[data-mode='hide']\").removeClass('d-none');\n\t\t\t\t\t\tbodyContents.addClass('d-none');\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t},\n\t/**\n\t * Function to handle the ajax edit for detailview and summary view fields\n\t * which will expects the currentTdElement\n\t */\n\tajaxEditHandling: function (currentTdElement) {\n\t\tvar thisInstance = this;\n\t\tvar readRecord = jQuery('.setReadRecord');\n\t\treadRecord.prop('disabled', true);\n\t\tvar detailViewValue = jQuery('.value', currentTdElement);\n\t\tvar editElement = jQuery('.edit', currentTdElement);\n\t\tvar actionElement = jQuery('.js-detail-quick-edit', currentTdElement);\n\t\tvar fieldElement = jQuery('.fieldname', editElement);\n\t\tjQuery(fieldElement).each(function (index, element) {\n\t\t\tvar fieldName = jQuery(element).val();\n\t\t\tvar elementTarget = jQuery(element);\n\t\t\tvar elementName = jQuery.inArray(elementTarget.data('type'), ['taxes', 'sharedOwner', 'multipicklist']) != -1 ? fieldName + '[]' : fieldName;\n\t\t\tvar fieldElement = jQuery('[name=\"' + elementName + '\"]:not([type=\"hidden\"])', editElement);\n\t\t\tif (fieldElement.attr('disabled') == 'disabled') {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (editElement.length <= 0) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (editElement.is(':visible')) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (fieldElement.attr('data-inputmask')) {\n\t\t\t\tfieldElement.inputmask();\n\t\t\t}\n\t\t\tdetailViewValue.addClass('d-none');\n\t\t\tactionElement.addClass('d-none');\n\t\t\teditElement.removeClass('d-none').children().filter('input[type!=\"hidden\"]input[type!=\"image\"],select').filter(':first').focus();\n\t\t\tvar saveHandler = function (e) {\n\t\t\t\tthisInstance.registerNameAjaxEditEvent();\n\t\t\t\tvar element = jQuery(e.target);\n\t\t\t\tif (element.closest('.fieldValue').is(currentTdElement) || element.hasClass('select2-selection__choice__remove')) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tcurrentTdElement.removeAttr('tabindex');\n\t\t\t\tcurrentTdElement.removeClass('is-edit-active');\n\t\t\t\tvar previousValue = elementTarget.data('prevValue');\n\t\t\t\tvar formElement = thisInstance.getForm();\n\t\t\t\tvar formData = formElement.serializeFormData();\n\t\t\t\tvar ajaxEditNewValue = formData[fieldName] ? formData[fieldName] : formData[elementName];\n\t\t\t\t//value that need to send to the server\n\t\t\t\tvar fieldValue = ajaxEditNewValue;\n\t\t\t\tvar fieldInfo = Vtiger_Field_Js.getInstance(fieldElement.data('fieldinfo'));\n\t\t\t\tvar dateTimeField = [];\n\t\t\t\tvar dateTime = false;\n\t\t\t\tif (editElement.find('[data-fieldinfo]').length == 2) {\n\t\t\t\t\teditElement.find('[data-fieldinfo]').each(function () {\n\t\t\t\t\t\tvar field = {\n\t\t\t\t\t\t\tname: jQuery(this).attr('name'),\n\t\t\t\t\t\t\ttype: jQuery(this).data('fieldinfo').type\n\t\t\t\t\t\t};\n\t\t\t\t\t\tif (field['type'] == 'datetime') {\n\t\t\t\t\t\t\tdateTime = true;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tdateTimeField.push(field);\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t\t// Since checkbox will be sending only on and off and not 1 or 0 as currrent value\n\t\t\t\tif (fieldElement.is('input:checkbox')) {\n\t\t\t\t\tif (fieldElement.is(':checked')) {\n\t\t\t\t\t\tajaxEditNewValue = '1';\n\t\t\t\t\t} else {\n\t\t\t\t\t\tajaxEditNewValue = '0';\n\t\t\t\t\t}\n\t\t\t\t\tfieldElement = fieldElement.filter('[type=\"checkbox\"]');\n\t\t\t\t}\n\t\t\t\t//If validation fails\n\t\t\t\tif (fieldElement.validationEngine('validate')) {\n\t\t\t\t\tif (fieldElement.attr('data-inputmask')) {\n\t\t\t\t\t\tfieldElement.inputmask();\n\t\t\t\t\t}\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tfunction toStr(v) {\n\t\t\t\t\treturn v === undefined || v === null ? '' : (v + '');\n\t\t\t\t}\n\n\t\t\t\tfieldElement.validationEngine('hide');\n\t\t\t\t//Before saving ajax edit values we need to check if the value is changed then only we have to save\n\t\t\t\tif (toStr(previousValue) === toStr(ajaxEditNewValue)) {\n\t\t\t\t\teditElement.addClass('d-none');\n\t\t\t\t\tdetailViewValue.removeClass('d-none');\n\t\t\t\t\tactionElement.removeClass('d-none');\n\t\t\t\t\treadRecord.prop('disabled', false);\n\t\t\t\t\teditElement.off('clickoutside');\n\t\t\t\t} else {\n\t\t\t\t\tvar preFieldSaveEvent = jQuery.Event(thisInstance.fieldPreSave);\n\t\t\t\t\tfieldElement.trigger(preFieldSaveEvent, {\n\t\t\t\t\t\t'fieldValue': fieldValue,\n\t\t\t\t\t\t'recordId': thisInstance.getRecordId()\n\t\t\t\t\t});\n\t\t\t\t\tif (preFieldSaveEvent.isDefaultPrevented()) {\n\t\t\t\t\t\t//Stop the save\n\t\t\t\t\t\treadRecord.prop('disabled', false);\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\tcurrentTdElement.progressIndicator();\n\t\t\t\t\teditElement.addClass('d-none');\n\t\t\t\t\tvar fieldNameValueMap = {};\n\n\t\t\t\t\tfieldNameValueMap[\"value\"] = fieldValue;\n\t\t\t\t\tfieldNameValueMap[\"field\"] = fieldName;\n\t\t\t\t\tfieldNameValueMap = thisInstance.getCustomFieldNameValueMap(fieldNameValueMap);\n\t\t\t\t\tthisInstance.saveFieldValues(fieldNameValueMap).done(function (response) {\n\t\t\t\t\t\teditElement.off('clickoutside');\n\t\t\t\t\t\treadRecord.prop('disabled', false);\n\t\t\t\t\t\tcurrentTdElement.progressIndicator({'mode': 'hide'});\n\t\t\t\t\t\tdetailViewValue.removeClass('d-none');\n\t\t\t\t\t\tactionElement.removeClass('d-none');\n\t\t\t\t\t\tif (!response.success) {\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tconst postSaveRecordDetails = response.result;\n\t\t\t\t\t\tlet displayValue = postSaveRecordDetails[fieldName].display_value;\n\t\t\t\t\t\tlet prevDisplayValue = postSaveRecordDetails[fieldName].prev_display_value;\n\t\t\t\t\t\tif (dateTimeField.length && dateTime) {\n\t\t\t\t\t\t\tdisplayValue = postSaveRecordDetails[dateTimeField[0].name].display_value + ' ' + postSaveRecordDetails[dateTimeField[1].name].display_value;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tdetailViewValue.html(displayValue);\n\t\t\t\t\t\tVtiger_Helper_Js.showPnotify({\n\t\t\t\t\t\t\ttitle: app.vtranslate('JS_SAVE_NOTIFY_OK'),\n\t\t\t\t\t\t\ttext: '<b>' + fieldInfo.data.label + '</b><br>' +\n\t\t\t\t\t\t\t\t'<b>' + app.vtranslate('JS_SAVED_FROM') + '</b>: ' +\n\t\t\t\t\t\t\t\tprevDisplayValue + '<br> ' +\n\t\t\t\t\t\t\t\t'<b>' + app.vtranslate('JS_SAVED_TO') + '</b>: ' + displayValue,\n\t\t\t\t\t\t\ttype: 'info',\n\t\t\t\t\t\t\ttextTrusted: true\n\t\t\t\t\t\t});\n\t\t\t\t\t\tif (postSaveRecordDetails['isEditable'] === false) {\n\t\t\t\t\t\t\tjQuery.progressIndicator({\n\t\t\t\t\t\t\t\t'position': 'html',\n\t\t\t\t\t\t\t\t'blockInfo': {\n\t\t\t\t\t\t\t\t\t'enabled': true\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\tif (window !== window.parent) {\n\t\t\t\t\t\t\t\twindow.location.href = window.location.href.replace(\"view=Detail\", \"view=DetailPreview\");\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\twindow.location.reload();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tfieldElement.trigger(thisInstance.fieldUpdatedEvent, {'old': previousValue, 'new': fieldValue});\n\t\t\t\t\t\tajaxEditNewValue = ajaxEditNewValue === undefined ? '' : ajaxEditNewValue; //data cannot be undefined\n\t\t\t\t\t\telementTarget.data('prevValue', ajaxEditNewValue);\n\t\t\t\t\t\tfieldElement.data('selectedValue', ajaxEditNewValue);\n\t\t\t\t\t\t//After saving source field value, If Target field value need to change by user, show the edit view of target field.\n\t\t\t\t\t\tif (thisInstance.targetPicklistChange) {\n\t\t\t\t\t\t\tif (jQuery('.js-widget-general-info', thisInstance.getForm()).length > 0) {\n\t\t\t\t\t\t\t\tthisInstance.targetPicklist.find('.js-detail-quick-edit').trigger('click');\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tthisInstance.targetPicklist.trigger('click');\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tthisInstance.targetPicklistChange = false;\n\t\t\t\t\t\t\tthisInstance.targetPicklist = false;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tvar selectedTabElement = thisInstance.getSelectedTab();\n\t\t\t\t\t\tif (selectedTabElement.data('linkKey') == thisInstance.detailViewSummaryTabLabel) {\n\t\t\t\t\t\t\tvar detailContentsHolder = thisInstance.getContentHolder();\n\t\t\t\t\t\t\tthisInstance.reloadTabContent();\n\t\t\t\t\t\t\tthisInstance.registerSummaryViewContainerEvents(detailContentsHolder);\n\t\t\t\t\t\t\tthisInstance.registerEventForPicklistDependencySetup(thisInstance.getForm());\n\t\t\t\t\t\t\tthisInstance.registerEventForRelatedList();\n\t\t\t\t\t\t} else if (selectedTabElement.data('linkKey') == thisInstance.detailViewDetailsTabLabel) {\n\t\t\t\t\t\t\tthisInstance.registerEventForPicklistDependencySetup(thisInstance.getForm());\n\t\t\t\t\t\t}\n\t\t\t\t\t\tthisInstance.updateRecordsPDFTemplateBtn(thisInstance.getForm());\n\t\t\t\t\t}).fail(function (error) {\n\t\t\t\t\t\teditElement.addClass('d-none');\n\t\t\t\t\t\tdetailViewValue.removeClass('d-none');\n\t\t\t\t\t\tactionElement.removeClass('d-none');\n\t\t\t\t\t\teditElement.off('clickoutside');\n\t\t\t\t\t\treadRecord.prop('disabled', false);\n\t\t\t\t\t\tcurrentTdElement.progressIndicator({'mode': 'hide'});\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t\teditElement.on('clickoutside', saveHandler);\n\t\t})\n\t},\n\ttriggerDisplayTypeEvent: function () {\n\t\tvar widthType = app.cacheGet('widthType', 'narrowWidthType');\n\t\tif (widthType) {\n\t\t\tvar elements = jQuery('#detailView').find('td');\n\t\t\telements.addClass(widthType);\n\t\t}\n\t},\n\t/**\n\t * Function updates the hidden elements which is used for creating relations\n\t */\n\taddElementsToQuickCreateForCreatingRelation: function (container, customParams) {\n\t\tjQuery('<input type=\"hidden\" name=\"relationOperation\" value=\"true\" >').appendTo(container);\n\t\tjQuery.each(customParams, function (index, value) {\n\t\t\tjQuery('<input type=\"hidden\" name=\"' + index + '\" value=\"' + value + '\" >').appendTo(container);\n\t\t});\n\t},\n\t/**\n\t * Function to register event for activity widget for adding\n\t * event and task from the widget\n\t */\n\tregisterEventForActivityWidget: function () {\n\t\tvar thisInstance = this;\n\n\t\t/*\n\t\t * Register click event for add button in Related Activities widget\n\t\t */\n\t\tjQuery('.createActivity').on('click', function (e) {\n\t\t\tvar referenceModuleName = \"Calendar\";\n\t\t\tvar recordId = thisInstance.getRecordId();\n\t\t\tvar module = app.getModuleName();\n\t\t\tvar element = jQuery(e.currentTarget);\n\n\t\t\tlet customParams = {};\n\t\t\tcustomParams['sourceModule'] = module;\n\t\t\tcustomParams['sourceRecord'] = recordId;\n\t\t\tif (module != '' && referenceModuleName != '' && typeof thisInstance.referenceFieldNames[referenceModuleName] !== \"undefined\" && typeof thisInstance.referenceFieldNames[referenceModuleName][module] !== \"undefined\") {\n\t\t\t\tvar relField = thisInstance.referenceFieldNames[referenceModuleName][module];\n\t\t\t\tcustomParams[relField] = recordId;\n\n\t\t\t}\n\t\t\tvar fullFormUrl = element.data('url');\n\t\t\tvar preQuickCreateSave = function (data) {\n\t\t\t\tthisInstance.addElementsToQuickCreateForCreatingRelation(data, customParams);\n\t\t\t\tvar taskGoToFullFormButton = data.find('[class^=\"CalendarQuikcCreateContents\"]').find('.js-full-editlink');\n\t\t\t\tvar eventsGoToFullFormButton = data.find('[class^=\"EventsQuikcCreateContents\"]').find('.js-full-editlink');\n\t\t\t\tvar taskFullFormUrl = taskGoToFullFormButton.data('url') + \"&\" + fullFormUrl;\n\t\t\t\tvar eventsFullFormUrl = eventsGoToFullFormButton.data('url') + \"&\" + fullFormUrl;\n\t\t\t\ttaskGoToFullFormButton.data('url', taskFullFormUrl);\n\t\t\t\teventsGoToFullFormButton.data('url', eventsFullFormUrl);\n\t\t\t}\n\t\t\tvar callbackFunction = function () {\n\t\t\t\tvar widgetContainer = element.closest('.js-detail-widget');\n\t\t\t\tvar widgetContentBlock = widgetContainer.find('.widgetContentBlock');\n\t\t\t\tvar urlParams = widgetContentBlock.data('url');\n\t\t\t\tvar params = {\n\t\t\t\t\t'type': 'GET',\n\t\t\t\t\t'dataType': 'html',\n\t\t\t\t\t'data': urlParams\n\t\t\t\t};\n\t\t\t\tAppConnector.request(params).done(function (data) {\n\t\t\t\t\tvar activitiesWidget = widgetContainer.find('.js-detail-widget-content');\n\t\t\t\t\tactivitiesWidget.html(data);\n\t\t\t\t\tApp.Fields.Picklist.changeSelectElementView(activitiesWidget);\n\t\t\t\t\tthisInstance.loadWidget($('.widgetContentBlock[data-type=\"Updates\"]'));\n\t\t\t\t\tthisInstance.loadWidget($('.widgetContentBlock[data-name=\"Calendar\"]'));\n\t\t\t\t});\n\t\t\t}\n\t\t\tlet QuickCreateParams = {};\n\t\t\tQuickCreateParams['callbackPostShown'] = preQuickCreateSave;\n\t\t\tQuickCreateParams['callbackFunction'] = callbackFunction;\n\t\t\tQuickCreateParams['data'] = Object.assign({}, customParams);\n\t\t\tQuickCreateParams['noCache'] = false;\n\t\t\tVtiger_Header_Js.getInstance().quickCreateModule(referenceModuleName, QuickCreateParams);\n\t\t});\n\t},\n\tgetEndDate: function (startDate) {\n\t\tvar dateTab = startDate.split('-');\n\t\tvar date = new Date(dateTab[0], dateTab[1], dateTab[2]);\n\t\tvar newDate = new Date();\n\n\t\tnewDate.setDate(date.getDate() + 2);\n\t\treturn app.getStringDate(newDate);\n\t},\n\tgetSingleEventType: function (modDay, id, type) {\n\t\tvar dateStartEl = jQuery('[name=\"date_start\"]');\n\t\tvar dateStartVal = jQuery(dateStartEl).val();\n\t\tvar dateStartFormat = jQuery(dateStartEl).data('date-format');\n\t\tvar validDateFromat = Vtiger_Helper_Js.convertToDateString(dateStartVal, dateStartFormat, modDay, type);\n\t\tvar map = jQuery.extend({}, ['#b6a996,black'])\n\n\t\tvar params = {\n\t\t\tmodule: 'Calendar',\n\t\t\taction: 'Feed',\n\t\t\tstart: validDateFromat,\n\t\t\tend: this.getEndDate(validDateFromat),\n\t\t\ttype: type,\n\t\t\tmapping: map\n\t\t}\n\n\t\tAppConnector.request(params).done(function (events) {\n\t\t\tvar testDate = Vtiger_Helper_Js.convertToDateString(dateStartVal, dateStartFormat, modDay);\n\t\t\tif (!jQuery.isEmptyObject(events)) {\n\t\t\t\tif (events[0]['activitytype'] === 'Task') {\n\t\t\t\t\tfor (var ev in events) {\n\t\t\t\t\t\tif (events[ev]['start'].indexOf(testDate) > -1) {\n\t\t\t\t\t\t\tjQuery('#' + id + ' .table').append('<tr><td><a target=\"_blank\" href=\"' + events[ev]['url'] + '\">' + events[ev]['title'] + '</a></td></tr>')\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\t\t\t\t\tfor (var i = 0; i < events[0].length; i++) {\n\t\t\t\t\t\tif (events[0][i]['start'].indexOf(testDate) > -1) {\n\t\t\t\t\t\t\tjQuery('#' + id + ' .table').append('<tr><td><a target=\"_blank\" href=\"' + events[0][i]['url'] + '\">' + events[0][i]['title'] + '</a></td></tr>')\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t})\n\t},\n\t/**\n\t * Function to add module related record from summary widget\n\t */\n\tregisterFilterForAddingModuleRelatedRecordFromSummaryWidget: function () {\n\t\tvar thisInstance = this;\n\t\tjQuery('.createRecordFromFilter').on('click', function (e) {\n\t\t\tvar currentElement = jQuery(e.currentTarget);\n\t\t\tvar summaryWidgetContainer = currentElement.closest('.js-detail-widget');\n\t\t\tvar widgetDataContainer = summaryWidgetContainer.find('.js-detail-widget-content');\n\t\t\tvar referenceModuleName = widgetDataContainer.find('[name=\"relatedModule\"]').val();\n\t\t\tvar quickcreateUrl = currentElement.data('url');\n\t\t\tvar parentId = thisInstance.getRecordId();\n\t\t\tvar quickCreateParams = {};\n\t\t\tvar relatedField = currentElement.data('prf');\n\t\t\tvar autoCompleteFields = currentElement.data('acf');\n\t\t\tvar moduleName = currentElement.closest('.js-detail-widget-header').find('[name=\"relatedModule\"]').val();\n\t\t\tvar relatedParams = {};\n\t\t\tvar postQuickCreateSave = function (data) {\n\t\t\t\tthisInstance.postSummaryWidgetAddRecord(data, currentElement);\n\t\t\t\tif (referenceModuleName == \"ProjectTask\") {\n\t\t\t\t\tthisInstance.loadModuleSummary();\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (typeof relatedField !== \"undefined\") {\n\t\t\t\trelatedParams[relatedField] = parentId;\n\t\t\t}\n\t\t\tif (typeof autoCompleteFields !== \"undefined\") {\n\t\t\t\t$.each(autoCompleteFields, function (index, value) {\n\t\t\t\t\trelatedParams[index] = value;\n\t\t\t\t});\n\t\t\t}\n\t\t\tif (Object.keys(relatedParams).length > 0) {\n\t\t\t\tquickCreateParams['data'] = relatedParams;\n\t\t\t}\n\t\t\tquickCreateParams['noCache'] = true;\n\t\t\tquickCreateParams['callbackFunction'] = postQuickCreateSave;\n\t\t\tvar progress = jQuery.progressIndicator();\n\t\t\tlet headerInstance;\n\t\t\tif (window !== window.parent) {\n\t\t\t\theaderInstance = window.parent.Vtiger_Header_Js.getInstance();\n\t\t\t} else {\n\t\t\t\theaderInstance = Vtiger_Header_Js.getInstance();\n\t\t\t}\n\t\t\theaderInstance.getQuickCreateForm(quickcreateUrl, moduleName, quickCreateParams).done(function (data) {\n\t\t\t\theaderInstance.handleQuickCreateData(data, quickCreateParams);\n\t\t\t\tprogress.progressIndicator({'mode': 'hide'});\n\t\t\t});\n\t\t});\n\t\t$('.js-detail-widget button.selectRelation').on('click', function (e) {\n\t\t\tlet summaryWidgetContainer = jQuery(e.currentTarget).closest('.js-detail-widget');\n\t\t\tlet referenceModuleName = summaryWidgetContainer.find('.js-detail-widget-content [name=\"relatedModule\"]').val();\n\t\t\tlet restrictionsField = $(this).data('rf');\n\t\t\tlet params = {\n\t\t\t\tmodule: referenceModuleName,\n\t\t\t\tsrc_module: app.getModuleName(),\n\t\t\t\tsrc_record: thisInstance.getRecordId(),\n\t\t\t\tmulti_select: true\n\t\t\t};\n\t\t\tif (restrictionsField && Object.keys(restrictionsField).length > 0) {\n\t\t\t\tparams['search_key'] = restrictionsField.key;\n\t\t\t\tparams['search_value'] = restrictionsField.name;\n\t\t\t}\n\t\t\tapp.showRecordsList(params, (modal, instance) => {\n\t\t\t\tinstance.setSelectEvent((responseData) => {\n\t\t\t\t\tthisInstance.addRelationBetweenRecords(referenceModuleName, Object.keys(responseData)).done(function (data) {\n\t\t\t\t\t\tthisInstance.loadWidget(summaryWidgetContainer.find('.widgetContentBlock'));\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t});\n\t\t});\n\t},\n\tregisterAddingInventoryRecords: function () {\n\t\tjQuery('.createInventoryRecordFromFilter').on('click', function (e) {\n\t\t\tvar currentElement = jQuery(e.currentTarget);\n\t\t\tvar createUrl = currentElement.data('url');\n\t\t\tvar autoCompleteFields = currentElement.data('acf');\n\t\t\tvar addidtionalParams = ''\n\t\t\tif (typeof autoCompleteFields !== \"undefined\") {\n\t\t\t\t$.each(autoCompleteFields, function (index, value) {\n\t\t\t\t\taddidtionalParams = '&' + index + '=' + value;\n\t\t\t\t\tcreateUrl = createUrl.concat(addidtionalParams);\n\n\t\t\t\t});\n\t\t\t}\n\t\t\twindow.location.href = createUrl;\n\t\t});\n\t},\n\tregisterEmailEvent: function () {\n\t\tthis.getContentHolder().find('.resetRelationsEmail').on('click', function (e) {\n\t\t\tVtiger_Helper_Js.showConfirmationBox({'message': app.vtranslate('JS_EMAIL_RESET_RELATIONS_CONFIRMATION')}).done(function (data) {\n\t\t\t\tAppConnector.request({\n\t\t\t\t\tmodule: 'OSSMailView',\n\t\t\t\t\taction: 'Relation',\n\t\t\t\t\tmoduleName: app.getModuleName(),\n\t\t\t\t\trecord: app.getRecordId()\n\t\t\t\t}).done(function (d) {\n\t\t\t\t\tVtiger_Helper_Js.showMessage({text: d.result});\n\t\t\t\t})\n\t\t\t});\n\t\t})\n\t},\n\tgetFiltersDataAndLoad: function (e, params) {\n\t\tvar data = this.getFiltersData(e, params);\n\t\tthis.loadWidget(data['container'], data['params']);\n\t},\n\tgetFiltersData: function (e, params) {\n\t\tif (e.currentTarget) {\n\t\t\tvar currentElement = jQuery(e.currentTarget);\n\t\t} else {\n\t\t\tcurrentElement = e;\n\t\t}\n\t\tvar summaryWidgetContainer = currentElement.closest('.js-detail-widget');\n\t\tvar widget = summaryWidgetContainer.find('.widgetContentBlock');\n\t\tvar url = '&' + widget.data('url');\n\t\tvar urlParams = {};\n\t\turl.replace(/[?&]+([^=&]+)=([^&]*)/gi, function (m, key, value) {\n\t\t\turlParams[key] = value;\n\t\t});\n\t\tvar urlNewParams = [];\n\t\tsummaryWidgetContainer.find('.js-detail-widget-header .js-switch, .js-detail-widget-header .js-filter_field').each(function (n, item) {\n\t\t\tvar value = '';\n\t\t\tvar element = jQuery(item);\n\t\t\tvar name = element.data('urlparams');\n\t\t\tif (element.attr('type') == 'radio') {\n\t\t\t\tif (element.prop('checked')) {\n\t\t\t\t\tvalue = typeof element.data('on-val') !== \"undefined\" ? element.data('on-val') : element.data('off-val')\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tvar selectedFilter = element.find('option:selected').val();\n\t\t\t\tvar fieldlable = element.data('fieldlable');\n\t\t\t\tvar filter = element.data('filter');\n\t\t\t\tif (selectedFilter != fieldlable) {\n\t\t\t\t\tvalue = [[filter, 'e', selectedFilter]];\n\t\t\t\t} else {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (name && value) {\n\t\t\t\tif (name in urlNewParams) {\n\t\t\t\t\turlNewParams[name].push(value);\n\t\t\t\t} else {\n\t\t\t\t\turlNewParams[name] = [value];\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t\tif (params != undefined) {\n\t\t\t$.extend(urlNewParams, params);\n\t\t}\n\t\treturn {'container': $(widget), 'params': $.extend(urlParams, urlNewParams)};\n\t},\n\tregisterChangeFilterForWidget: function () {\n\t\tvar thisInstance = this;\n\t\tjQuery('.js-switch').on('change', function (e, state) {\n\t\t\tthisInstance.getFiltersDataAndLoad(e);\n\t\t})\n\t\tjQuery('.js-filter_field').on('select2:select', function (e, state) {\n\t\t\tthisInstance.getFiltersDataAndLoad(e);\n\t\t})\n\t},\n\tregisterChangeSwitchForWidget: function (summaryViewContainer) {\n\t\tvar thisInstance = this;\n\t\tsummaryViewContainer.find('.activityWidgetContainer').on('change', '.js-switch', function (e) {\n\t\t\tvar currentElement = jQuery(e.currentTarget);\n\t\t\tvar summaryWidgetContainer = currentElement.closest('.js-detail-widget');\n\t\t\tvar widget = summaryWidgetContainer.find('.widgetContentBlock');\n\t\t\tvar url = widget.data('url');\n\t\t\turl = url.replace('&type=current', '').replace('&type=history', '');\n\t\t\turl += '&type=';\n\t\t\tif (typeof currentElement.data('on-val') !== \"undefined\") {\n\t\t\t\tsummaryWidgetContainer.find('.ativitiesPagination').removeClass('d-none');\n\t\t\t\turl += 'current';\n\t\t\t\turl = url.replace('&sortorder=DESC', '&sortorder=ASC');\n\t\t\t} else if (typeof currentElement.data('off-val') !== \"undefined\") {\n\t\t\t\tsummaryWidgetContainer.find('.ativitiesPagination').addClass('d-none');\n\t\t\t\turl += 'history';\n\t\t\t\turl = url.replace('&sortorder=ASC', '&sortorder=DESC');\n\t\t\t}\n\t\t\twidget.data('url', url);\n\t\t\tthisInstance.loadWidget($(widget));\n\t\t});\n\t},\n\t/**\n\t * Function to register all the events related to summary view widgets\n\t */\n\tregisterSummaryViewContainerEvents: function (summaryViewContainer) {\n\t\tvar thisInstance = this;\n\t\tthis.registerEventForActivityWidget();\n\t\tthis.registerChangeFilterForWidget();\n\t\tthis.registerChangeSwitchForWidget(summaryViewContainer);\n\t\tthis.registerFilterForAddingModuleRelatedRecordFromSummaryWidget();\n\t\tthis.registerAddingInventoryRecords();\n\t\tthis.registerEmailEvent();\n\t\t/**\n\t\t * Function to handle the ajax edit for summary view fields\n\t\t */\n\t\tsummaryViewContainer.off('click').on('click', '.row .js-detail-quick-edit', function (e) {\n\t\t\tvar currentTarget = jQuery(e.currentTarget);\n\t\t\tcurrentTarget.addClass('d-none');\n\t\t\tvar currentTdElement = currentTarget.closest('.fieldValue');\n\t\t\tthisInstance.ajaxEditHandling(currentTdElement);\n\t\t});\n\t\t/**\n\t\t * Function to handle actions after ajax save in summary view\n\t\t */\n\t\tsummaryViewContainer.on(thisInstance.fieldUpdatedEvent, '.js-widget-general-info', function () {\n\t\t\tlet updatesWidget = summaryViewContainer.find(\"[data-type='Updates']\"),\n\t\t\t\tparams;\n\t\t\tif (updatesWidget.length) {\n\t\t\t\tparams = thisInstance.getFiltersData(updatesWidget);\n\t\t\t\tupdatesWidget.find('.btnChangesReviewedOn').parent().remove();\n\t\t\t\tthisInstance.loadWidget(updatesWidget, params['params']);\n\t\t\t}\n\t\t});\n\n\t\tsummaryViewContainer.on('click', '.editDefaultStatus', function (e) {\n\t\t\tvar currentTarget = jQuery(e.currentTarget);\n\t\t\tcurrentTarget.popover('hide');\n\t\t\tvar url = currentTarget.data('url');\n\t\t\tif (url) {\n\t\t\t\tif (currentTarget.hasClass('showEdit')) {\n\t\t\t\t\tvar headerInstance = Vtiger_Header_Js.getInstance();\n\t\t\t\t\tif (window !== window.parent) {\n\t\t\t\t\t\theaderInstance = window.parent.Vtiger_Header_Js.getInstance();\n\t\t\t\t\t}\n\t\t\t\t\theaderInstance.getQuickCreateForm(url, 'Calendar', {noCache: true}).done((data) => {\n\t\t\t\t\t\theaderInstance.handleQuickCreateData(data, {\n\t\t\t\t\t\t\tcallbackFunction: () => {\n\t\t\t\t\t\t\t\tlet widget = currentTarget.closest('.widgetContentBlock');\n\t\t\t\t\t\t\t\tif (widget.length) {\n\t\t\t\t\t\t\t\t\tthisInstance.loadWidget(widget);\n\t\t\t\t\t\t\t\t\tlet updatesWidget = thisInstance.getContentHolder().find(\"[data-type='Updates']\");\n\t\t\t\t\t\t\t\t\tif (updatesWidget.length > 0) {\n\t\t\t\t\t\t\t\t\t\tthisInstance.loadWidget(updatesWidget);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tthisInstance.loadRelatedList();\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tthisInstance.registerRelatedModulesRecordCount();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\tapp.showModalWindow(null, url);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t\t/*\n\t\t * Register the event to edit Description for related activities\n\t\t */\n\t\tsummaryViewContainer.on('click', '.editDescription', function (e) {\n\t\t\tlet currentTarget = jQuery(e.currentTarget),\n\t\t\t\tcurrentDiv = currentTarget.closest('.activityDescription'),\n\t\t\t\teditElement = currentDiv.find('.edit'),\n\t\t\t\tdetailViewElement = currentDiv.find('.value'),\n\t\t\t\tdescriptionText = currentDiv.find('.js-description-text'),\n\t\t\t\tdescriptionEmpty = currentDiv.find('.js-no-description'),\n\t\t\t\tsaveButton = currentDiv.find('.js-save-description'),\n\t\t\t\tcloseButton = currentDiv.find('.js-close-description'),\n\t\t\t\tactivityButtonContainer = currentDiv.find('.js-activity-buttons__container'),\n\t\t\t\tfieldnameElement = jQuery('.fieldname', editElement),\n\t\t\t\tfieldName = fieldnameElement.val(),\n\t\t\t\tfieldElement = jQuery('[name=\"' + fieldName + '\"]', editElement),\n\t\t\t\tcallbackFunction = () => {\n\t\t\t\t\tlet previousValue = fieldnameElement.data('prevValue'),\n\t\t\t\t\t\tajaxEditNewValue = fieldElement.val(),\n\t\t\t\t\t\tajaxEditNewLable = fieldElement.val(),\n\t\t\t\t\t\tactivityDiv = currentDiv.closest('.activityEntries'),\n\t\t\t\t\t\tactivityId = activityDiv.find('.activityId').val(),\n\t\t\t\t\t\tmoduleName = activityDiv.find('.activityModule').val(),\n\t\t\t\t\t\tactivityType = activityDiv.find('.activityType').val();\n\t\t\t\t\tif (previousValue == ajaxEditNewValue) {\n\t\t\t\t\t\tcloseDescription();\n\t\t\t\t\t} else {\n\t\t\t\t\t\tcurrentDiv.progressIndicator();\n\t\t\t\t\t\teditElement.add(activityButtonContainer).addClass('d-none');\n\t\t\t\t\t\treturn new Promise(function (resolve, reject) {\n\t\t\t\t\t\t\tresolve(fieldElement.validationEngine('validate'))\n\t\t\t\t\t\t}).then((errorExists) => {\n\t\t\t\t\t\t\t//If validation fails\n\t\t\t\t\t\t\tif (errorExists) {\n\t\t\t\t\t\t\t\tVtiger_Helper_Js.addClickOutSideEvent(currentDiv, callbackFunction);\n\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tajaxEditNewValue = fieldElement.val(); //update editor value after conversion\n\t\t\t\t\t\t\t\tAppConnector.request({\n\t\t\t\t\t\t\t\t\taction: 'SaveAjax',\n\t\t\t\t\t\t\t\t\trecord: activityId,\n\t\t\t\t\t\t\t\t\tfield: fieldName,\n\t\t\t\t\t\t\t\t\tvalue: ajaxEditNewValue,\n\t\t\t\t\t\t\t\t\tmodule: moduleName,\n\t\t\t\t\t\t\t\t\tactivitytype: activityType\n\t\t\t\t\t\t\t\t}).done(() => {\n\t\t\t\t\t\t\t\t\tcurrentDiv.progressIndicator({'mode': 'hide'});\n\t\t\t\t\t\t\t\t\tdetailViewElement.removeClass('d-none');\n\t\t\t\t\t\t\t\t\tcurrentTarget.show();\n\t\t\t\t\t\t\t\t\tdescriptionText.html(ajaxEditNewLable);\n\t\t\t\t\t\t\t\t\tfieldnameElement.data('prevValue', ajaxEditNewValue);\n\t\t\t\t\t\t\t\t\tif (ajaxEditNewValue === '') {\n\t\t\t\t\t\t\t\t\t\tdescriptionEmpty.removeClass('d-none');\n\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\tdescriptionEmpty.addClass('d-none');\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tcloseDescription = function () {\n\t\t\t\t\tfieldElement.val(fieldnameElement.data('prevValue'));\n\t\t\t\t\teditElement.add(activityButtonContainer).addClass('d-none');\n\t\t\t\t\tdetailViewElement.removeClass('d-none');\n\t\t\t\t\tcurrentTarget.show();\n\t\t\t\t};\n\t\t\tcurrentTarget.hide();\n\t\t\tdetailViewElement.addClass('d-none');\n\t\t\tactivityButtonContainer.removeClass('d-none');\n\t\t\teditElement.removeClass('d-none').show();\n\t\t\tsaveButton.off('click').one('click', callbackFunction);\n\t\t\tcloseButton.off('click').one('click', closeDescription);\n\t\t});\n\n\t\t/*\n\t\t * Register click event for add button in Related widgets\n\t\t * to add record from widget\n\t\t */\n\n\t\tjQuery('.changeDetailViewMode').on('click', function (e) {\n\t\t\tthisInstance.getTabs().filter('[data-link-key=\"' + thisInstance.detailViewDetailsTabLabel + '\"]:not(.d-none)').trigger('click');\n\t\t});\n\n\t\t/*\n\t\t * Register click event for add button in Related widgets\n\t\t * to add record from widget\n\t\t */\n\t\tjQuery('.createRecord').on('click', function (e) {\n\t\t\tvar currentElement = jQuery(e.currentTarget);\n\t\t\tvar summaryWidgetContainer = currentElement.closest('.js-detail-widget');\n\t\t\tvar widgetHeaderContainer = summaryWidgetContainer.find('.js-detail-widget-header');\n\t\t\tvar referenceModuleName = widgetHeaderContainer.find('[name=\"relatedModule\"]').val();\n\t\t\tvar recordId = thisInstance.getRecordId();\n\t\t\tvar module = app.getModuleName();\n\t\t\tvar customParams = {};\n\t\t\tcustomParams['sourceModule'] = module;\n\t\t\tcustomParams['sourceRecord'] = recordId;\n\t\t\tif (module != '' && referenceModuleName != '' && typeof thisInstance.referenceFieldNames[referenceModuleName] !== \"undefined\" && typeof thisInstance.referenceFieldNames[referenceModuleName][module] !== \"undefined\") {\n\t\t\t\tvar fieldName = thisInstance.referenceFieldNames[referenceModuleName][module];\n\t\t\t\tcustomParams[fieldName] = recordId;\n\t\t\t}\n\n\t\t\tvar postQuickCreateSave = function (data) {\n\t\t\t\tthisInstance.postSummaryWidgetAddRecord(data, currentElement);\n\t\t\t}\n\n\t\t\tvar goToFullFormcallback = function (data) {\n\t\t\t\tthisInstance.addElementsToQuickCreateForCreatingRelation(data, customParams);\n\t\t\t}\n\n\t\t\tvar QuickCreateParams = {};\n\t\t\tQuickCreateParams['callbackFunction'] = postQuickCreateSave;\n\t\t\tQuickCreateParams['goToFullFormcallback'] = goToFullFormcallback;\n\t\t\tQuickCreateParams['data'] = customParams;\n\t\t\tQuickCreateParams['noCache'] = false;\n\t\t\tVtiger_Header_Js.getInstance().quickCreateModule(referenceModuleName, QuickCreateParams);\n\t\t});\n\t\tthis.registerFastEditingFiels();\n\t},\n\taddRelationBetweenRecords: function (relatedModule, relatedModuleRecordId, selectedTabElement) {\n\t\tvar aDeferred = jQuery.Deferred();\n\t\tvar thisInstance = this;\n\t\tif (selectedTabElement == undefined) {\n\t\t\tselectedTabElement = thisInstance.getSelectedTab();\n\t\t}\n\t\tvar relatedController = Vtiger_RelatedList_Js.getInstance(thisInstance.getRecordId(), app.getModuleName(), selectedTabElement, relatedModule);\n\t\trelatedController.addRelations(relatedModuleRecordId).done(function (data) {\n\t\t\tvar summaryViewContainer = thisInstance.getContentHolder();\n\t\t\tvar updatesWidget = summaryViewContainer.find(\"[data-type='Updates']\");\n\t\t\tif (updatesWidget.length > 0) {\n\t\t\t\tvar params = thisInstance.getFiltersData(updatesWidget);\n\t\t\t\tupdatesWidget.find('.btnChangesReviewedOn').parent().remove();\n\t\t\t\tthisInstance.loadWidget(updatesWidget, params['params']);\n\t\t\t}\n\t\t\taDeferred.resolve(data);\n\t\t}).fail(function (textStatus, errorThrown) {\n\t\t\t\taDeferred.reject(textStatus, errorThrown);\n\t\t\t}\n\t\t)\n\t\treturn aDeferred.promise();\n\t},\n\t/**\n\t * Function to handle Post actions after adding record from\n\t * summary view widget\n\t */\n\tpostSummaryWidgetAddRecord: function (data, currentElement) {\n\t\tvar thisInstance = this;\n\t\tvar summaryWidgetContainer = currentElement.closest('.js-detail-widget');\n\t\tvar widgetHeaderContainer = summaryWidgetContainer.find('.js-detail-widget-header');\n\t\tvar referenceModuleName = widgetHeaderContainer.find('[name=\"relatedModule\"]').val();\n\t\tvar idList = [];\n\t\tidList.push(data.result._recordId);\n\t\tthis.addRelationBetweenRecords(referenceModuleName, idList).done(function (data) {\n\t\t\tthisInstance.loadWidget(summaryWidgetContainer.find('[class^=\"widgetContainer_\"]'));\n\t\t});\n\t},\n\tregisterChangeEventForModulesList: function () {\n\t\tjQuery('#tagSearchModulesList').on('change', function (e) {\n\t\t\tvar modulesSelectElement = jQuery(e.currentTarget);\n\t\t\tif (modulesSelectElement.val() == 'all') {\n\t\t\t\tjQuery('[name=\"tagSearchModuleResults\"]').removeClass('d-none');\n\t\t\t} else {\n\t\t\t\tjQuery('[name=\"tagSearchModuleResults\"]').removeClass('d-none');\n\t\t\t\tvar selectedOptionValue = modulesSelectElement.val();\n\t\t\t\tjQuery('[name=\"tagSearchModuleResults\"]').filter(':not(#' + selectedOptionValue + ')').addClass('d-none');\n\t\t\t}\n\t\t});\n\t},\n\tregisterEventForRelatedTabClick: function () {\n\t\tvar thisInstance = this;\n\t\tvar detailContentsHolder = thisInstance.getContentHolder();\n\t\tvar detailContainer = detailContentsHolder.closest('div.detailViewInfo');\n\n\t\tjQuery('.related', detailContainer).on('click', 'li:not(.spaceRelatedList)', function (e, urlAttributes) {\n\t\t\tvar tabElement = jQuery(e.currentTarget);\n\t\t\tif (!tabElement.hasClass('dropdown')) {\n\t\t\t\tvar element = jQuery('<div></div>');\n\t\t\t\telement.progressIndicator({\n\t\t\t\t\t'position': 'html',\n\t\t\t\t\t'blockInfo': {\n\t\t\t\t\t\t'enabled': true,\n\t\t\t\t\t\t'elementToBlock': detailContainer\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\tvar url = tabElement.data('url');\n\t\t\t\tif (typeof urlAttributes !== \"undefined\") {\n\t\t\t\t\tvar callBack = urlAttributes.callback;\n\t\t\t\t\tdelete urlAttributes.callback;\n\t\t\t\t}\n\t\t\t\tthisInstance.loadContents(url, urlAttributes).done(function (data) {\n\t\t\t\t\tthisInstance.deSelectAllrelatedTabs();\n\t\t\t\t\tthisInstance.markTabAsSelected(tabElement);\n\t\t\t\t\tVtiger_Helper_Js.showHorizontalTopScrollBar();\n\t\t\t\t\telement.progressIndicator({'mode': 'hide'});\n\t\t\t\t\tthisInstance.registerHelpInfo();\n\t\t\t\t\tapp.registerModal(detailContentsHolder);\n\t\t\t\t\tapp.registerMoreContent(detailContentsHolder.find('button.moreBtn'));\n\t\t\t\t\tif (typeof callBack == 'function') {\n\t\t\t\t\t\tcallBack(data);\n\t\t\t\t\t}\n\t\t\t\t\t//Summary tab is clicked\n\t\t\t\t\tif (tabElement.data('linkKey') == thisInstance.detailViewSummaryTabLabel) {\n\t\t\t\t\t\tthisInstance.loadWidgets();\n\t\t\t\t\t}\n\t\t\t\t\tthisInstance.registerBasicEvents();\n\t\t\t\t\t// Let listeners know about page state change.\n\t\t\t\t\tapp.notifyPostAjaxReady();\n\t\t\t\t\tapp.event.trigger(\"DetailView.Tab.AfterLoad\", data, thisInstance);\n\t\t\t\t}).fail(function () {\n\t\t\t\t\telement.progressIndicator({mode: 'hide'});\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\t},\n\t/**\n\t * Function to register event for setting up picklistdependency\n\t * for a module if exist on change of picklist value\n\t */\n\tregisterEventForPicklistDependencySetup: function (container) {\n\t\tvar thisInstance = this;\n\t\tvar picklistDependcyElemnt = jQuery('[name=\"picklistDependency\"]', container);\n\t\tif (picklistDependcyElemnt.length <= 0) {\n\t\t\treturn;\n\t\t}\n\t\tvar picklistDependencyMapping = JSON.parse(picklistDependcyElemnt.val());\n\t\tvar sourcePicklists = Object.keys(picklistDependencyMapping);\n\t\tif (sourcePicklists.length <= 0) {\n\t\t\treturn;\n\t\t}\n\n\t\tvar sourcePickListNames = [];\n\t\tfor (var i = 0; i < sourcePicklists.length; i++) {\n\t\t\tsourcePickListNames.push('[name=\"' + sourcePicklists[i] + '\"]');\n\t\t}\n\t\tsourcePickListNames = sourcePickListNames.join(',');\n\t\tvar sourcePickListElements = container.find(sourcePickListNames);\n\t\tsourcePickListElements.on('change', function (e) {\n\t\t\tvar currentElement = jQuery(e.currentTarget);\n\t\t\tvar sourcePicklistname = currentElement.attr('name');\n\n\t\t\tvar configuredDependencyObject = picklistDependencyMapping[sourcePicklistname];\n\t\t\tvar selectedValue = currentElement.val();\n\t\t\tvar targetObjectForSelectedSourceValue = configuredDependencyObject[selectedValue];\n\t\t\tvar picklistmap = configuredDependencyObject[\"__DEFAULT__\"];\n\n\t\t\tif (typeof targetObjectForSelectedSourceValue === \"undefined\") {\n\t\t\t\ttargetObjectForSelectedSourceValue = picklistmap;\n\t\t\t}\n\t\t\tjQuery.each(picklistmap, function (targetPickListName, targetPickListValues) {\n\t\t\t\tvar targetPickListMap = targetObjectForSelectedSourceValue[targetPickListName];\n\t\t\t\tif (typeof targetPickListMap === \"undefined\") {\n\t\t\t\t\ttargetPickListMap = targetPickListValues;\n\t\t\t\t}\n\t\t\t\tvar targetPickList = jQuery('[name=\"' + targetPickListName + '\"]', container);\n\t\t\t\tif (targetPickList.length <= 0) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\t//On change of SourceField value, If TargetField value is not there in mapping, make user to select the new target value also.\n\t\t\t\tvar selectedValue = targetPickList.data('selectedValue');\n\t\t\t\tif (jQuery.inArray(selectedValue, targetPickListMap) == -1) {\n\t\t\t\t\tthisInstance.targetPicklistChange = true;\n\t\t\t\t\tthisInstance.targetPicklist = targetPickList.closest('td');\n\t\t\t\t} else {\n\t\t\t\t\tthisInstance.targetPicklistChange = false;\n\t\t\t\t\tthisInstance.targetPicklist = false;\n\t\t\t\t}\n\n\t\t\t\tvar listOfAvailableOptions = targetPickList.data('availableOptions');\n\t\t\t\tif (typeof listOfAvailableOptions === \"undefined\") {\n\t\t\t\t\tlistOfAvailableOptions = jQuery('option', targetPickList);\n\t\t\t\t\ttargetPickList.data('available-options', listOfAvailableOptions);\n\t\t\t\t}\n\n\t\t\t\tvar targetOptions = new jQuery();\n\t\t\t\tvar optionSelector = [];\n\t\t\t\toptionSelector.push('');\n\t\t\t\tfor (var i = 0; i < targetPickListMap.length; i++) {\n\t\t\t\t\toptionSelector.push(targetPickListMap[i]);\n\t\t\t\t}\n\n\t\t\t\tjQuery.each(listOfAvailableOptions, function (i, e) {\n\t\t\t\t\tvar picklistValue = jQuery(e).val();\n\t\t\t\t\tif (jQuery.inArray(picklistValue, optionSelector) != -1) {\n\t\t\t\t\t\ttargetOptions = targetOptions.add(jQuery(e));\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\tvar targetPickListSelectedValue = '';\n\t\t\t\ttargetPickListSelectedValue = targetOptions.filter('[selected]').val();\n\t\t\t\tif (targetPickListMap.length == 1) {\n\t\t\t\t\ttargetPickListSelectedValue = targetPickListMap[0]; // to automatically select picklist if only one picklistmap is present.\n\t\t\t\t}\n\t\t\t\ttargetPickList.html(targetOptions).val(targetPickListSelectedValue).trigger('change');\n\t\t\t})\n\n\t\t});\n\t\t//To Trigger the change on load\n\t\tsourcePickListElements.trigger('change');\n\t},\n\t/**\n\t * Function to get child comments\n\t */\n\tgetChildComments: function (commentId) {\n\t\tvar aDeferred = jQuery.Deferred();\n\t\tvar url = 'module=' + app.getModuleName() + '&view=Detail&record=' + this.getRecordId() + '&mode=showChildComments&commentid=' + commentId;\n\t\tvar dataObj = this.getCommentThread(url);\n\t\tdataObj.done(function (data) {\n\t\t\taDeferred.resolve(data);\n\t\t});\n\t\treturn aDeferred.promise();\n\t},\n\t/**\n\t * Function to get parent comment\n\t * @param {number} commentId\n\t * @returns {string}\n\t */\n\tgetParentComments(commentId) {\n\t\tlet aDeferred = $.Deferred(),\n\t\t\turl = 'module=' + app.getModuleName() + '&view=Detail&record=' + this.getRecordId() + '&mode=showParentComments&commentid=' + commentId;\n\t\tthis.getCommentThread(url).done(function (data) {\n\t\t\taDeferred.resolve(data);\n\t\t});\n\t\treturn aDeferred.promise();\n\t},\n\t/**\n\t * Function to show total records count in listview on hover\n\t * of pageNumber text\n\t */\n\tregisterEventForTotalRecordsCount: function () {\n\t\tvar thisInstance = this;\n\t\tvar detailContentsHolder = this.getContentHolder();\n\t\tdetailContentsHolder.on('click', '.totalNumberOfRecords', function (e) {\n\t\t\tvar element = jQuery(e.currentTarget);\n\t\t\tvar totalNumberOfRecords = jQuery('#totalCount').val();\n\t\t\telement.addClass('d-none');\n\t\t\telement.parent().progressIndicator({});\n\t\t\tif (totalNumberOfRecords == '') {\n\t\t\t\tvar selectedTabElement = thisInstance.getSelectedTab();\n\t\t\t\tvar relatedModuleName = thisInstance.getRelatedModuleName();\n\t\t\t\tvar relatedController = Vtiger_RelatedList_Js.getInstance(thisInstance.getRecordId(), app.getModuleName(), selectedTabElement, relatedModuleName);\n\t\t\t\trelatedController.getRelatedPageCount().done(function () {\n\t\t\t\t\tthisInstance.showPagingInfo();\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tthisInstance.showPagingInfo();\n\t\t\t}\n\t\t\telement.parent().progressIndicator({'mode': 'hide'});\n\t\t})\n\t},\n\tshowPagingInfo: function () {\n\t\tvar totalNumberOfRecords = jQuery('#totalCount').val();\n\t\tvar pageNumberElement = jQuery('.pageNumbersText');\n\t\tvar pageRange = pageNumberElement.text();\n\t\tvar newPagingInfo = pageRange + \" (\" + totalNumberOfRecords + \")\";\n\t\tvar listViewEntriesCount = parseInt(jQuery('#noOfEntries').val());\n\t\tif (listViewEntriesCount != 0) {\n\t\t\tjQuery('.pageNumbersText').html(newPagingInfo);\n\t\t} else {\n\t\t\tjQuery('.pageNumbersText').html(\"\");\n\t\t}\n\t},\n\tgetCustomFieldNameValueMap: function (fieldNameValueMap) {\n\t\treturn fieldNameValueMap;\n\t},\n\tregisterSetReadRecord: function (detailContentsHolder) {\n\t\tvar thisInstance = this;\n\t\tdetailContentsHolder.on('click', '.setReadRecord', function (e) {\n\t\t\tvar currentElement = jQuery(e.currentTarget);\n\t\t\tcurrentElement.closest('.btn-group').addClass('d-none');\n\t\t\tjQuery('#Accounts_detailView_fieldValue_was_read').find('.value').text(app.vtranslate('LBL_YES'));\n\t\t\tvar params = {\n\t\t\t\t'module': app.getModuleName(),\n\t\t\t\t'action': 'SaveAjax',\n\t\t\t\t'record': thisInstance.getRecordId(),\n\t\t\t\t'field': 'was_read',\n\t\t\t\t'value': 'on',\n\t\t\t}\n\t\t\tAppConnector.request(params).done(function (data) {\n\t\t\t\tvar params = {\n\t\t\t\t\ttext: app.vtranslate('JS_SET_READ_RECORD'),\n\t\t\t\t\ttitle: app.vtranslate('System'),\n\t\t\t\t\ttype: 'info',\n\t\t\t\t};\n\t\t\t\tVtiger_Helper_Js.showPnotify(params);\n\t\t\t\tvar relatedTabKey = jQuery('.related li.active');\n\t\t\t\tif (relatedTabKey.data('linkKey') == thisInstance.detailViewSummaryTabLabel || relatedTabKey.data('linkKey') == thisInstance.detailViewDetailsTabLabel) {\n\t\t\t\t\tthisInstance.reloadTabContent();\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\t},\n\tregisterFastEditingFiels: function () {\n\t\tvar thisInstance = this;\n\t\tvar fastEditingFiels = jQuery('.summaryWidgetFastEditing select');\n\t\tfastEditingFiels.on('change', function (e) {\n\t\t\tvar fieldElement = jQuery(e.currentTarget);\n\t\t\tvar fieldContainer = fieldElement.closest('.editField');\n\t\t\tvar progressIndicatorElement = jQuery.progressIndicator({\n\t\t\t\t'message': app.vtranslate('JS_SAVE_LOADER_INFO'),\n\t\t\t\t'position': 'summaryWidgetFastEditing',\n\t\t\t\t'blockInfo': {\n\t\t\t\t\t'enabled': true\n\t\t\t\t}\n\t\t\t});\n\t\t\tvar fieldName = fieldContainer.data('fieldname');\n\t\t\tfieldName = fieldName.replace(\"q_\", \"\");\n\t\t\tvar fieldValue = fieldElement.val();\n\t\t\tvar errorExists = fieldElement.validationEngine('validate');\n\t\t\tif (errorExists) {\n\t\t\t\tfieldContainer.progressIndicator({'mode': 'hide'});\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar preFieldSaveEvent = jQuery.Event(thisInstance.fieldPreSave);\n\t\t\tfieldElement.trigger(preFieldSaveEvent, {'fieldValue': fieldValue, 'recordId': thisInstance.getRecordId()});\n\t\t\tvar fieldNameValueMap = {};\n\t\t\tfieldNameValueMap[\"value\"] = fieldValue;\n\t\t\tfieldNameValueMap[\"field\"] = fieldName;\n\t\t\tfieldNameValueMap = thisInstance.getCustomFieldNameValueMap(fieldNameValueMap);\n\t\t\tthisInstance.saveFieldValues(fieldNameValueMap);\n\t\t\tprogressIndicatorElement.progressIndicator({'mode': 'hide'});\n\t\t\tvar params = {\n\t\t\t\ttitle: app.vtranslate('JS_SAVE_NOTIFY_OK'),\n\t\t\t\ttype: 'success',\n\t\t\t};\n\t\t\tVtiger_Helper_Js.showPnotify(params);\n\t\t\tthisInstance.reloadTabContent();\n\t\t});\n\t},\n\tregisterHelpInfo: function () {\n\t\tvar form = this.getForm();\n\t\tapp.showPopoverElementView(form.find('.js-help-info'));\n\t},\n\t/**\n\t * Register related modules record cound\n\t * @param {jQuery} tabContainer\n\t */\n\tregisterRelatedModulesRecordCount(tabContainer) {\n\t\tconst moreList = $('.related .nav .dropdown-menu');\n\t\tlet relationContainer = tabContainer;\n\t\tif (!relationContainer || (typeof relationContainer.length === \"undefined\")) {\n\t\t\trelationContainer = $('.related .nav > .relatedNav, .related .nav > .mainNav, .detailViewBlockLink, .related .nav .dropdown-menu > .relatedNav');\n\t\t}\n\t\trelationContainer.each((n, item) => {\n\t\t\titem = $(item);\n\t\t\tif (item.data('count') === 1 && !Array.isArray(item.data('reference'))) {\n\t\t\t\tAppConnector.request({\n\t\t\t\t\tmodule: app.getModuleName(),\n\t\t\t\t\taction: 'RelationAjax',\n\t\t\t\t\trecord: app.getRecordId(),\n\t\t\t\t\trelatedModule: item.data('reference'),\n\t\t\t\t\tmode: 'getRelatedListPageCount',\n\t\t\t\t\ttab_label: item.data('label-key'),\n\t\t\t\t}).done((response) => {\n\t\t\t\t\tif (response.success) {\n\t\t\t\t\t\tif (response.result.numberOfRecords === 0) {\n\t\t\t\t\t\t\tresponse.result.numberOfRecords = '';\n\t\t\t\t\t\t}\n\t\t\t\t\t\titem.find('.count').text(response.result.numberOfRecords);\n\t\t\t\t\t\tmoreList.find('[data-reference=\"' + item.data('reference') + '\"] .count').text(response.result.numberOfRecords);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\t},\n\t/**\n\t * Function to display a new comments\n\t */\n\taddComment: function (currentTarget, data) {\n\t\tconst self = this;\n\t\tlet mode = currentTarget.data('mode'),\n\t\t\tclosestAddCommentBlock = currentTarget.closest('.js-add-comment-block'),\n\t\t\tcommentTextAreaElement = closestAddCommentBlock.find('.js-comment-content'),\n\t\t\tcommentInfoBlock = currentTarget.closest('.js-comment-single');\n\t\tcommentTextAreaElement.val('');\n\t\tif (mode == \"add\") {\n\t\t\tlet commentId = data['result']['id'],\n\t\t\t\tcommentHtml = self.getCommentUI(commentId);\n\t\t\tcommentHtml.done(function (data) {\n\t\t\t\tlet commentBlock = closestAddCommentBlock.closest('.js-comment-details'),\n\t\t\t\t\tdetailContentsHolder = self.getContentHolder(),\n\t\t\t\t\tnoCommentsMsgContainer = $('.js-noCommentsMsgContainer', detailContentsHolder);\n\t\t\t\tnoCommentsMsgContainer.remove();\n\t\t\t\tif (commentBlock.length > 0) {\n\t\t\t\t\tclosestAddCommentBlock.remove();\n\t\t\t\t\tlet childComments = commentBlock.find('ul');\n\t\t\t\t\tif (childComments.length <= 0) {\n\t\t\t\t\t\tlet currentChildCommentsCount = commentInfoBlock.find('.js-view-thread-block').data('data-child-comments-count'),\n\t\t\t\t\t\t\tnewChildCommentCount = currentChildCommentsCount + 1;\n\t\t\t\t\t\tcommentInfoBlock.find('.js-child-comments-count').text(newChildCommentCount);\n\t\t\t\t\t\tlet parentCommentId = commentInfoBlock.find('.js-comment-info-header').data('commentid');\n\t\t\t\t\t\tself.getChildComments(parentCommentId).done(function (responsedata) {\n\t\t\t\t\t\t\t$(responsedata).appendTo(commentBlock);\n\t\t\t\t\t\t\tcommentInfoBlock.find('.js-view-thread-block').hide();\n\t\t\t\t\t\t\tcommentInfoBlock.find('.hideThreadBlock').show();\n\t\t\t\t\t\t});\n\t\t\t\t\t} else {\n\t\t\t\t\t\t$('<ul class=\"liStyleNone\"><li class=\"js-comment-details commentDetails\">' + data + '</li></ul>').appendTo(commentBlock);\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\t$('<ul class=\"liStyleNone\"><li class=\"js-comment-details commentDetails\">' + data + '</li></ul>').prependTo(closestAddCommentBlock.closest('.contents').find('.commentsList'));\n\t\t\t\t}\n\t\t\t\tcommentInfoBlock.find('.js-comment-container').show();\n\t\t\t\tapp.event.trigger(\"DetailView.SaveComment.AfterLoad\", commentInfoBlock, data);\n\t\t\t});\n\t\t} else if (mode == \"edit\") {\n\t\t\tlet modifiedTime = commentInfoBlock.find('.js-comment-modified-time'),\n\t\t\t\tcommentInfoContent = commentInfoBlock.find('.js-comment-info'),\n\t\t\t\tcommentEditStatus = commentInfoBlock.find('.js-edited-status'),\n\t\t\t\tcommentReason = commentInfoBlock.find('.js-edit-reason-span');\n\t\t\tcommentInfoContent.html(data.result.commentcontent);\n\t\t\tcommentReason.html(data.result.reasontoedit);\n\t\t\tmodifiedTime.html(data.result.modifiedtime);\n\t\t\tmodifiedTime.attr('title', data.result.modifiedtimetitle);\n\t\t\tif (commentEditStatus.hasClass('d-none')) {\n\t\t\t\tcommentEditStatus.removeClass('d-none');\n\t\t\t}\n\t\t\tif (data.result.reasontoedit != \"\") {\n\t\t\t\tcommentInfoBlock.find('.js-edit-reason').removeClass('d-none')\n\t\t\t}\n\t\t\tcommentInfoContent.show();\n\t\t\tcommentInfoBlock.find('.js-comment-container').show();\n\t\t\tclosestAddCommentBlock.remove();\n\t\t\tapp.event.trigger(\"DetailView.SaveComment.AfterUpdate\", commentInfoBlock, data);\n\t\t}\n\t},\n\t/**\n\t * Register all comment events\n\t * @param {jQuery} detailContentsHolder\n\t */\n\tregisterCommentEvents(detailContentsHolder) {\n\t\tconst self = this;\n\t\tdetailContentsHolder.on('click', '.js-close-comment-block', function (e) {\n\t\t\tlet commentInfoBlock = $(e.currentTarget.closest('.js-comment-single'));\n\t\t\tcommentInfoBlock.find('.js-comment-container').show();\n\t\t\tcommentInfoBlock.find('.js-comment-info').show();\n\t\t\tself.removeCommentBlockIfExists();\n\t\t});\n\t\tdetailContentsHolder.on('click', '.js-reply-comment', function (e) {\n\t\t\tself.removeCommentBlockIfExists();\n\t\t\tlet commentInfoBlock = $(e.currentTarget).closest('.js-comment-single');\n\t\t\tcommentInfoBlock.find('.js-comment-container').hide();\n\t\t\tself.getCommentBlock().appendTo(commentInfoBlock).show();\n\t\t});\n\t\tdetailContentsHolder.on('click', '.js-edit-comment', function (e) {\n\t\t\tself.removeCommentBlockIfExists();\n\t\t\tlet commentInfoBlock = $(e.currentTarget).closest('.js-comment-single'),\n\t\t\t\tcommentInfoContent = commentInfoBlock.find('.js-comment-info'),\n\t\t\t\teditCommentBlock = self.getEditCommentBlock();\n\t\t\teditCommentBlock.find('.js-comment-content').html(commentInfoContent.html());\n\t\t\teditCommentBlock.find('.js-reason-to-edit').html(commentInfoBlock.find('.js-edit-reason-span').text());\n\t\t\tcommentInfoContent.hide();\n\t\t\tcommentInfoBlock.find('.js-comment-container').hide();\n\t\t\teditCommentBlock.appendTo(commentInfoBlock).show();\n\t\t});\n\t\tdetailContentsHolder.on('click', '.js-detail-view-save-comment', function (e) {\n\t\t\tlet element = $(e.currentTarget);\n\t\t\tif (!element.is(\":disabled\")) {\n\t\t\t\tself.saveComment(e).done(function () {\n\t\t\t\t\tself.registerRelatedModulesRecordCount();\n\t\t\t\t\tself.loadWidget(detailContentsHolder.find(\"[data-type='Comments']\")).done(function () {\n\t\t\t\t\t\telement.removeAttr('disabled');\n\t\t\t\t\t});\n\t\t\t\t}).fail(function (error, err) {\n\t\t\t\t\telement.removeAttr('disabled');\n\t\t\t\t\tapp.errorLog(error, err);\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\t\tdetailContentsHolder.on('click', '.js-save-comment', function (e) {\n\t\t\tlet element = $(e.currentTarget);\n\t\t\tif (!element.is(\":disabled\")) {\n\t\t\t\tself.saveComment(e).done(function (data) {\n\t\t\t\t\tself.registerRelatedModulesRecordCount(self.getTabByLabel(self.detailViewRecentCommentsTabLabel));\n\t\t\t\t\tself.addComment(element, data);\n\t\t\t\t\telement.removeAttr('disabled');\n\t\t\t\t}).fail(function (error, err) {\n\t\t\t\t\telement.removeAttr('disabled');\n\t\t\t\t\tapp.errorLog(error, err);\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\t\tdetailContentsHolder.on('click', '.js-more-recent-comments ', function () {\n\t\t\tself.getTabByLabel(self.detailViewRecentCommentsTabLabel).trigger('click');\n\t\t});\n\t\tdetailContentsHolder.find('.js-detail-hierarchy-comments-btn').on('click', function (e) {\n\t\t\tif ($(this).hasClass('active') && detailContentsHolder.find('.js-detail-hierarchy-comments-btn.active').length < 2) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tlet recentCommentsTab = self.getTabByLabel(self.detailViewRecentCommentsTabLabel),\n\t\t\t\turl = recentCommentsTab.data('url'),\n\t\t\t\tregex = /&hierarchy=+([\\w,]+)/;\n\t\t\turl = url.replace(regex, \"\");\n\t\t\tlet hierarchy = [];\n\t\t\tif ($(this).hasClass('active')) {\n\t\t\t\t$(this).removeClass('active');\n\t\t\t} else {\n\t\t\t\t$(this).addClass('active');\n\t\t\t}\n\t\t\tdetailContentsHolder.find('.js-detail-hierarchy-comments-btn.active').each(function () {\n\t\t\t\thierarchy.push($(this).find('.js-detail-hierarchy-comments').val());\n\t\t\t});\n\t\t\tif (hierarchy.length !== 0) {\n\t\t\t\turl += '&hierarchy=' + hierarchy.join(',');\n\t\t\t}\n\t\t\trecentCommentsTab.data('url', url);\n\t\t\trecentCommentsTab.trigger('click');\n\t\t});\n\t\tdetailContentsHolder.on('keypress', '.js-comment-search', function (e) {\n\t\t\tif (13 === e.which) {\n\t\t\t\tself.submitSearchForm(detailContentsHolder);\n\t\t\t}\n\t\t});\n\t\tdetailContentsHolder.on('click', '.js-search-icon', function (e) {\n\t\t\tself.submitSearchForm(detailContentsHolder);\n\t\t});\n\t},\n\t/**\n\t * Submit search comment form\n\t * @param {jQuery} detailContentsHolder\n\t */\n\tsubmitSearchForm(detailContentsHolder) {\n\t\tlet searchTextDom = detailContentsHolder.find('.js-comment-search'),\n\t\t\twidgetContainer = searchTextDom.closest('[data-name=\"ModComments\"]'),\n\t\t\tprogressIndicatorElement = $.progressIndicator();\n\t\tif (searchTextDom.data('container') === 'widget' && !searchTextDom.val()) {\n\t\t\tlet request = widgetContainer.data('url');\n\t\t\tAppConnector.request(request).done(function (data) {\n\t\t\t\tprogressIndicatorElement.progressIndicator({'mode': 'hide'});\n\t\t\t\tdetailContentsHolder.find('.js-comments-container').html(data);\n\t\t\t});\n\t\t} else {\n\t\t\tlet hierarchy = [],\n\t\t\t\tlimit = '',\n\t\t\t\tisWidget = false;\n\t\t\tif (searchTextDom.data('container') === 'widget') {\n\t\t\t\tlimit = widgetContainer.data('limit'),\n\t\t\t\t\tisWidget = true;\n\t\t\t\twidgetContainer.find('.js-hierarchy-comments:checked').each(function () {\n\t\t\t\t\thierarchy.push($(this).val());\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tdetailContentsHolder.find('.js-detail-hierarchy-comments:checked').each(function () {\n\t\t\t\t\thierarchy.push($(this).val());\n\t\t\t\t});\n\t\t\t}\n\t\t\tAppConnector.request({\n\t\t\t\tmodule: app.getModuleName(),\n\t\t\t\tview: 'Detail',\n\t\t\t\tmode: 'showSearchComments',\n\t\t\t\thierarchy: hierarchy.join(','),\n\t\t\t\tlimit: limit,\n\t\t\t\trecord: app.getRecordId(),\n\t\t\t\tsearch_key: searchTextDom.val(),\n\t\t\t\tis_widget: isWidget,\n\t\t\t}).done(function (data) {\n\t\t\t\tprogressIndicatorElement.progressIndicator({'mode': 'hide'});\n\t\t\t\tif (!searchTextDom.val()) {\n\t\t\t\t\tdetailContentsHolder.html(data);\n\t\t\t\t} else {\n\t\t\t\t\tdetailContentsHolder.find('.js-comments-body').html(data);\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t},\n\t/**\n\t * Register hierarchy comments buttons\n\t * @param {jQuery} widgetContainer\n\t */\n\tregisterCommentEventsInDetail(widgetContainer) {\n\t\tnew App.Fields.Text.Completions();\n\t\twidgetContainer.on('change', '.js-hierarchy-comments', function (e) {\n\t\t\tlet hierarchy = [];\n\t\t\twidgetContainer.find('.js-hierarchy-comments').each(function () {\n\t\t\t\tif ($(this).is(':checked')) {\n\t\t\t\t\thierarchy.push($(this).val());\n\t\t\t\t}\n\t\t\t});\n\t\t\tlet progressIndicatorElement = $.progressIndicator();\n\t\t\tAppConnector.request({\n\t\t\t\tmodule: app.getModuleName(),\n\t\t\t\tview: 'Detail',\n\t\t\t\tmode: 'showRecentComments',\n\t\t\t\thierarchy: hierarchy.join(','),\n\t\t\t\trecord: app.getRecordId(),\n\t\t\t\tlimit: widgetContainer.find('.widgetContentBlock').data('limit'),\n\t\t\t}).done(function (data) {\n\t\t\t\tprogressIndicatorElement.progressIndicator({'mode': 'hide'});\n\t\t\t\tlet widgetDataContainer = widgetContainer.find('.js-detail-widget-content');\n\t\t\t\twidgetDataContainer.html(data);\n\t\t\t\tApp.Fields.Picklist.showSelect2ElementView(widgetDataContainer.find('.select2'));\n\t\t\t});\n\t\t});\n\t},\n\tregisterMailPreviewWidget: function (container) {\n\t\tconst self = this;\n\t\tcontainer.on('click', '.showMailBody', (e) => {\n\t\t\tlet row = $(e.currentTarget).closest('.row'),\n\t\t\t\tmailBody = row.find('.mailBody'),\n\t\t\t\tmailTeaser = row.find('.mailTeaser');\n\t\t\tmailBody.toggleClass('d-none');\n\t\t\tmailTeaser.toggleClass('d-none');\n\t\t});\n\t\tcontainer.find('[name=\"mail-type\"]').on('change', function (e) {\n\t\t\tself.loadMailPreviewWidget(container);\n\t\t});\n\t\tcontainer.find('[name=\"mailFilter\"]').on('change', function (e) {\n\t\t\tself.loadMailPreviewWidget(container);\n\t\t});\n\t\tcontainer.on('click', '.showMailsModal', (e) => {\n\t\t\tlet url = $(e.currentTarget).data('url');\n\t\t\turl += '&type=' + container.find('[name=\"mail-type\"]').val();\n\t\t\tif (container.find('[name=\"mailFilter\"]').length > 0) {\n\t\t\t\turl += '&mailFilter=' + container.find('[name=\"mailFilter\"]').val();\n\t\t\t}\n\t\t\tlet progressIndicatorElement = jQuery.progressIndicator();\n\t\t\tapp.showModalWindow(\"\", url, (data) => {\n\t\t\t\tprogressIndicatorElement.progressIndicator({'mode': 'hide'});\n\t\t\t\tself.registerMailPreviewWidget(data);\n\t\t\t\tVtiger_Index_Js.registerMailButtons(data);\n\t\t\t\tdata.find('.expandAllMails').click();\n\t\t\t});\n\t\t});\n\t\tcontainer.find('.expandAllMails').on('click', function (e) {\n\t\t\tcontainer.find('.mailBody').removeClass('d-none');\n\t\t\tcontainer.find('.mailTeaser').addClass('d-none');\n\t\t\tcontainer.find('.showMailBody .js-toggle-icon').removeClass('fa-caret-down').addClass('fa-caret-up');\n\t\t});\n\t\tcontainer.find('.collapseAllMails').on('click', function (e) {\n\t\t\tcontainer.find('.mailBody').addClass('d-none');\n\t\t\tcontainer.find('.mailTeaser').removeClass('d-none');\n\t\t\tcontainer.find('.showMailBody .js-toggle-icon').removeClass('fa-caret-up').addClass('fa-caret-down');\n\t\t});\n\t},\n\tloadMailPreviewWidget: function (widgetContent) {\n\t\tvar thisInstance = this;\n\t\tvar widgetDataContainer = widgetContent.find('.js-detail-widget-content');\n\t\tvar recordId = $('#recordId').val();\n\t\tvar progress = widgetDataContainer.progressIndicator();\n\t\tvar params = {};\n\t\tparams['module'] = 'OSSMailView';\n\t\tparams['view'] = 'Widget';\n\t\tparams['smodule'] = $('#module').val();\n\t\tparams['srecord'] = recordId;\n\t\tparams['mode'] = 'showEmailsList';\n\t\tparams['type'] = $('[name=\"mail-type\"]').val();\n\t\tparams['mailFilter'] = $('[name=\"mailFilter\"]').val();\n\t\tAppConnector.request(params).done(function (data) {\n\t\t\twidgetDataContainer.html(data);\n\t\t\tapp.event.trigger(\"DetailView.Widget.AfterLoad\", widgetDataContainer, params['module'], thisInstance);\n\t\t\tprogress.progressIndicator({'mode': 'hide'});\n\t\t});\n\t},\n\tregisterEmailEvents: function (detailContentsHolder) {\n\t\tVtiger_Index_Js.registerMailButtons(detailContentsHolder);\n\t},\n\tregisterMapsEvents: function (container) {\n\t\tif (container.find('#coordinates').length) {\n\t\t\tvar mapView = new OpenStreetMap_Map_Js();\n\t\t\tmapView.registerDetailView(container);\n\t\t}\n\t},\n\tregisterSocialMediaEvents(container) {\n\t\tlet socialMediaContainer = container.find('.tpl-Detail-SocialMedia');\n\t\tif (socialMediaContainer.length) {\n\t\t}\n\t},\n\tregisterShowSummary: function (container) {\n\t\tcontainer.on('click', '.showSummaryRelRecord', function (e) {\n\t\t\tvar currentTarget = $(e.currentTarget);\n\t\t\tvar id = currentTarget.data('id');\n\t\t\tvar summaryView = container.find('.summaryRelRecordView' + id);\n\t\t\tcontainer.find('.listViewEntriesTable').css('display', 'none');\n\t\t\tsummaryView.show();\n\t\t});\n\t\tcontainer.on('click', '.hideSummaryRelRecordView', function (e) {\n\t\t\tvar summaryView = container.find(\".summaryRelRecordView\");\n\t\t\tcontainer.find('.listViewEntriesTable').css('display', 'table');\n\t\t\tsummaryView.hide();\n\t\t});\n\t},\n\t/**\n\t * Show confirmation on event click\n\t * @param {jQuery} element\n\t * @param {string} picklistName\n\t */\n\tshowProgressConfirmation(element, picklistName) {\n\t\tconst self = this;\n\t\tlet picklistValue = $(element).data('picklistValue');\n\t\tVtiger_Helper_Js.showConfirmationBox({\n\t\t\ttitle: $(element).data('picklistLabel'),\n\t\t\tmessage: app.vtranslate('JS_CHANGE_VALUE_CONFIRMATION')\n\t\t}).done(() => {\n\t\t\tconst progressIndicatorElement = $.progressIndicator();\n\t\t\tself.saveFieldValues({\n\t\t\t\tvalue: picklistValue,\n\t\t\t\tfield: picklistName\n\t\t\t}).done(() => {\n\t\t\t\tprogressIndicatorElement.progressIndicator({'mode': 'hide'});\n\t\t\t\twindow.location.reload();\n\t\t\t}).fail(function (error, err) {\n\t\t\t\tprogressIndicatorElement.progressIndicator({'mode': 'hide'});\n\t\t\t\tapp.errorLog(error, err);\n\t\t\t});\n\t\t});\n\t},\n\t/**\n\t * Change status from progress\n\t */\n\tregisterProgress() {\n\t\tconst self = this;\n\t\t$('.js-header-progress-bar').each((index, element) => {\n\t\t\tlet picklistName = $(element).data('picklistName');\n\t\t\t$(element).find('.js-access').on('click', (e) => {\n\t\t\t\tself.showProgressConfirmation(e.currentTarget, picklistName);\n\t\t\t});\n\t\t});\n\t},\n\tregisterBasicEvents: function () {\n\t\tvar thisInstance = this;\n\t\tvar detailContentsHolder = thisInstance.getContentHolder();\n\t\tvar selectedTabElement = thisInstance.getSelectedTab();\n\t\t//register all the events for summary view container\n\t\tif (typeof Chat_JS !== 'undefined') {\n\t\t\tif (this.getSelectedTab().data('labelKey') === 'LBL_CHAT') {\n\t\t\t\tChat_JS.getInstance(detailContentsHolder, 'detail').registerBaseEvents();\n\t\t\t} else {\n\t\t\t\tChat_JS.getInstance(detailContentsHolder, 'detail').unregisterEvents();\n\t\t\t}\n\t\t}\n\t\tif (this.getSelectedTab().data('labelKey') === 'ModComments') {\n\t\t\tnew App.Fields.Text.Completions(detailContentsHolder.find('.js-completions'));\n\t\t}\n\t\tthisInstance.registerSummaryViewContainerEvents(detailContentsHolder);\n\t\tthisInstance.registerCommentEvents(detailContentsHolder);\n\t\tthisInstance.registerEmailEvents(detailContentsHolder);\n\t\tthisInstance.registerMapsEvents(detailContentsHolder);\n\t\tthisInstance.registerSocialMediaEvents(detailContentsHolder);\n\t\tthisInstance.registerSubProducts(detailContentsHolder);\n\t\tApp.Fields.Date.register(detailContentsHolder);\n\t\tApp.Fields.DateTime.register(detailContentsHolder);\n\t\tApp.Fields.MultiImage.register(detailContentsHolder);\n\t\t//Attach time picker event to time fields\n\t\tapp.registerEventForClockPicker();\n\t\tApp.Fields.Picklist.showSelect2ElementView(detailContentsHolder.find('select.select2'));\n\t\tdetailContentsHolder.on('click', '#detailViewNextRecordButton', function (e) {\n\t\t\tvar url = selectedTabElement.data('url');\n\t\t\tvar currentPageNum = thisInstance.getRelatedListCurrentPageNum();\n\t\t\tvar requestedPage = parseInt(currentPageNum) + 1;\n\t\t\tvar nextPageUrl = url + '&page=' + requestedPage;\n\t\t\tthisInstance.loadContents(nextPageUrl);\n\t\t});\n\t\tdetailContentsHolder.on('click', '#detailViewPreviousRecordButton', function (e) {\n\t\t\tvar url = selectedTabElement.data('url');\n\t\t\tvar currentPageNum = thisInstance.getRelatedListCurrentPageNum();\n\t\t\tvar requestedPage = parseInt(currentPageNum) - 1;\n\t\t\tvar params = {};\n\t\t\tvar nextPageUrl = url + '&page=' + requestedPage;\n\t\t\tthisInstance.loadContents(nextPageUrl);\n\t\t});\n\t\tdetailContentsHolder.on('click', 'div.detailViewTable div.fieldValue:not(.is-edit-active)', function (e) {\n\t\t\tif (jQuery(e.target).closest('a').hasClass('btnNoFastEdit'))\n\t\t\t\treturn;\n\t\t\tvar currentTdElement = jQuery(e.currentTarget);\n\t\t\tcurrentTdElement.addClass('is-edit-active');\n\t\t\tthisInstance.ajaxEditHandling(currentTdElement);\n\t\t});\n\t\tdetailContentsHolder.on('click', 'div.recordDetails span.squeezedWell', function (e) {\n\t\t\tvar currentElement = jQuery(e.currentTarget);\n\t\t\tvar relatedLabel = currentElement.data('reference');\n\t\t\tjQuery('.detailViewInfo .related .nav > li[data-reference=\"' + relatedLabel + '\"]').trigger(\"click\");\n\t\t});\n\t\tdetailContentsHolder.on('click', '.relatedPopup', function (e) {\n\t\t\tvar editViewObj = new Vtiger_Edit_Js();\n\t\t\teditViewObj.showRecordsList(e);\n\t\t\treturn false;\n\t\t});\n\t\tdetailContentsHolder.on('click', '.viewThread', function (e) {\n\t\t\tlet currentTarget = jQuery(e.currentTarget),\n\t\t\t\tcurrentTargetParent = currentTarget.parent(),\n\t\t\t\tcommentActionsBlock = currentTarget.closest('.commentActions'),\n\t\t\t\tcurrentCommentBlock = currentTarget.closest('.js-comment-details'),\n\t\t\t\tulElements = currentCommentBlock.find('ul');\n\t\t\tif (ulElements.length > 0) {\n\t\t\t\tulElements.show();\n\t\t\t\tcommentActionsBlock.find('.hideThreadBlock').show();\n\t\t\t\tcurrentTargetParent.hide();\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar commentId = currentTarget.closest('.js-comment-div').find('.js-comment-info-header').data('commentid');\n\t\t\tthisInstance.getChildComments(commentId).done(function (data) {\n\t\t\t\tjQuery(data).appendTo(jQuery(e.currentTarget).closest('.js-comment-details'));\n\t\t\t\tcommentActionsBlock.find('.hideThreadBlock').show();\n\t\t\t\tcurrentTargetParent.hide();\n\t\t\t});\n\t\t});\n\t\tdetailContentsHolder.on('click', '.js-view-parent-thread', function (e) {\n\t\t\tlet currentTarget = jQuery(e.currentTarget),\n\t\t\t\tcurrentTargetParent = currentTarget.parent(),\n\t\t\t\tcommentId = currentTarget.closest('.js-comment-div').find('.js-comment-info-header').data('commentid');\n\t\t\tthisInstance.getParentComments(commentId).done(function (data) {\n\t\t\t\t$(e.currentTarget.closest('.js-comment-details')).html(data);\n\t\t\t\tcurrentTarget.closest('.commentActions').find('.hideThreadBlock').show();\n\t\t\t\tcurrentTargetParent.hide();\n\t\t\t});\n\t\t});\n\t\tdetailContentsHolder.on('click', '.hideThread', function (e) {\n\t\t\tvar currentTarget = jQuery(e.currentTarget);\n\t\t\tvar currentTargetParent = currentTarget.parent();\n\t\t\tvar commentActionsBlock = currentTarget.closest('.commentActions');\n\t\t\tvar currentCommentBlock = currentTarget.closest('.js-comment-details');\n\t\t\tcurrentCommentBlock.find('ul').hide();\n\t\t\tcurrentTargetParent.hide();\n\t\t\tcommentActionsBlock.find('.js-view-thread-block').show();\n\t\t});\n\t\tdetailContentsHolder.on('click', '.detailViewThread', function (e) {\n\t\t\tvar recentCommentsTab = thisInstance.getTabByLabel(thisInstance.detailViewRecentCommentsTabLabel);\n\t\t\tvar commentId = jQuery(e.currentTarget).closest('.js-comment-single').find('.js-comment-info-header').data('commentid');\n\t\t\tvar commentLoad = function (data) {\n\t\t\t\twindow.location.href = window.location.href + '#' + commentId;\n\t\t\t}\n\t\t\trecentCommentsTab.trigger('click', {'commentid': commentId, 'callback': commentLoad});\n\t\t});\n\t\tdetailContentsHolder.on('click', '.moreRecentRecords', function (e) {\n\t\t\te.preventDefault();\n\t\t\tvar recentCommentsTab = thisInstance.getTabByModule($(this).data('label-key'));\n\t\t\trecentCommentsTab.trigger('click');\n\t\t});\n\t\tdetailContentsHolder.on('change', '.relatedHistoryTypes', function (e) {\n\t\t\tlet widgetContent = jQuery(this).closest('.widgetContentBlock').find('.widgetContent'),\n\t\t\t\tprogressIndicatorElement = jQuery.progressIndicator({\n\t\t\t\t\tposition: 'html',\n\t\t\t\t\tblockInfo: {\n\t\t\t\t\t\t'enabled': true,\n\t\t\t\t\t\t'elementToBlock': widgetContent\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\tAppConnector.request({\n\t\t\t\tmodule: app.getModuleName(),\n\t\t\t\tview: 'Detail',\n\t\t\t\trecord: app.getRecordId(),\n\t\t\t\tmode: 'showRecentRelation',\n\t\t\t\tpage: 1,\n\t\t\t\tlimit: widgetContent.find(\".js-relatedHistoryPageLimit\").val(),\n\t\t\t\ttype: $(e.currentTarget).val(),\n\t\t\t}).done(function (data) {\n\t\t\t\tprogressIndicatorElement.progressIndicator({'mode': 'hide'});\n\t\t\t\twidgetContent.find(\"#relatedHistoryCurrentPage\").remove();\n\t\t\t\twidgetContent.find(\"#moreRelatedUpdates\").remove();\n\t\t\t\twidgetContent.html(data);\n\t\t\t\tVtiger_Index_Js.registerMailButtons(widgetContent);\n\t\t\t});\n\t\t});\n\t\tdetailContentsHolder.on('click', '.moreProductsService', function () {\n\t\t\tjQuery('.related .mainNav[data-reference=\"ProductsAndServices\"]:not(.d-none)').trigger('click');\n\t\t});\n\t\tdetailContentsHolder.on('click', '.moreRelatedUpdates', function () {\n\t\t\tvar widgetContainer = jQuery(this).closest('.widgetContentBlock');\n\t\t\tvar widgetContent = widgetContainer.find('.widgetContent');\n\t\t\tvar progressIndicatorElement = jQuery.progressIndicator({\n\t\t\t\tposition: 'html',\n\t\t\t\tblockInfo: {\n\t\t\t\t\t'enabled': true,\n\t\t\t\t\t'elementToBlock': widgetContent\n\t\t\t\t}\n\t\t\t});\n\t\t\tvar currentPage = widgetContent.find(\"#relatedHistoryCurrentPage\").val();\n\t\t\tvar nextPage = parseInt(currentPage) + 1;\n\t\t\tvar types = widgetContainer.find(\".relatedHistoryTypes\").val();\n\t\t\tvar pageLimit = widgetContent.find(\"#relatedHistoryPageLimit\").val();\n\t\t\tAppConnector.request({\n\t\t\t\tmodule: app.getModuleName(),\n\t\t\t\tview: 'Detail',\n\t\t\t\trecord: app.getRecordId(),\n\t\t\t\tmode: 'showRecentRelation',\n\t\t\t\tpage: nextPage,\n\t\t\t\tlimit: pageLimit,\n\t\t\t\ttype: types,\n\t\t\t}).done(function (data) {\n\t\t\t\tprogressIndicatorElement.progressIndicator({'mode': 'hide'});\n\t\t\t\twidgetContent.find(\"#relatedHistoryCurrentPage\").remove();\n\t\t\t\twidgetContent.find(\"#moreRelatedUpdates\").remove();\n\t\t\t\twidgetContent.find('#relatedUpdates').append(data);\n\t\t\t});\n\t\t});\n\t\tdetailContentsHolder.on('click', '.moreRecentUpdates', function (e) {\n\t\t\tconst container = $(e.currentTarget).closest('.recentActivitiesContainer');\n\t\t\tlet newChange = container.find('#newChange').val(),\n\t\t\t\tnextPage = parseInt(container.find('#updatesCurrentPage').val()) + 1,\n\t\t\t\turl;\n\t\t\tif (container.closest('.js-detail-widget').length) {\n\t\t\t\tlet data = thisInstance.getFiltersData(e, {\n\t\t\t\t\t'page': nextPage,\n\t\t\t\t\t'tab_label': 'LBL_UPDATES',\n\t\t\t\t\t'newChange': newChange\n\t\t\t\t}, container.find('#updates'));\n\t\t\t\turl = data['params'];\n\t\t\t} else {\n\t\t\t\turl = thisInstance.getTabByLabel(thisInstance.detailViewRecentUpdatesTabLabel).data('url');\n\t\t\t\turl = url.replace('&page=1', '&page=' + nextPage) + '&skipHeader=true&newChange=' + newChange;\n\t\t\t\tif (url.indexOf('&whereCondition') === -1) {\n\t\t\t\t\tlet switchBtn = jQuery('.active .js-switch--recentActivities');\n\t\t\t\t\turl += '&whereCondition=' + (typeof switchBtn.data('on-val') === \"undefined\" ? switchBtn.data('off-val') : switchBtn.data('on-val'));\n\t\t\t\t}\n\t\t\t}\n\t\t\tAppConnector.request(url).done(function (data) {\n\t\t\t\t\tlet dataContainer = jQuery(data);\n\t\t\t\t\tcontainer.find('#newChange').val(dataContainer.find('#newChange').val());\n\t\t\t\t\tcontainer.find('#updatesCurrentPage').val(dataContainer.find('#updatesCurrentPage').val());\n\t\t\t\t\tcontainer.find('.js-more-link').html(dataContainer.find('.js-more-link').html());\n\t\t\t\t\tcontainer.find('#updates ul').append(dataContainer.find('#updates ul').html());\n\t\t\t\t\tapp.registerMoreContent(container.find('button.moreBtn'));\n\t\t\t\t\tapp.event.trigger(\"DetailView.UpdatesWidget.AddMore\", data, thisInstance);\n\t\t\t\t}\n\t\t\t);\n\t\t});\n\t\tdetailContentsHolder.on('click', '.btnChangesReviewedOn', function (e) {\n\t\t\tvar progressInstance = jQuery.progressIndicator({\n\t\t\t\t'position': 'html',\n\t\t\t\t'blockInfo': {\n\t\t\t\t\t'enabled': true\n\t\t\t\t}\n\t\t\t});\n\t\t\tvar url = 'index.php?module=ModTracker&action=ChangesReviewedOn&record=' + app.getRecordId();\n\t\t\tAppConnector.request(url).done(function (data) {\n\t\t\t\t\tprogressInstance.progressIndicator({mode: 'hide'});\n\t\t\t\t\tjQuery(e.currentTarget).parent().remove();\n\t\t\t\t\tthisInstance.getTabByLabel(thisInstance.detailViewRecentUpdatesTabLabel).find('.count.badge').text('');\n\t\t\t\t\tif (selectedTabElement.data('labelKey') == thisInstance.detailViewRecentUpdatesTabLabel) {\n\t\t\t\t\t\tthisInstance.reloadTabContent();\n\t\t\t\t\t} else if (selectedTabElement.data('linkKey') == thisInstance.detailViewSummaryTabLabel) {\n\t\t\t\t\t\tvar updatesWidget = detailContentsHolder.find(\"[data-type='Updates']\");\n\t\t\t\t\t\tif (updatesWidget.length > 0) {\n\t\t\t\t\t\t\tvar params = thisInstance.getFiltersData(updatesWidget);\n\t\t\t\t\t\t\tthisInstance.loadWidget(updatesWidget, params['params']);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t);\n\t\t});\n\t\tdetailContentsHolder.on('click', '.moreRecentDocuments', function () {\n\t\t\tvar recentDocumentsTab = thisInstance.getTabByLabel(thisInstance.detailViewRecentDocumentsTabLabel);\n\t\t\trecentDocumentsTab.trigger('click');\n\t\t});\n\t\tdetailContentsHolder.on('click', '.moreRecentActivities', function (e) {\n\t\t\tvar currentTarget = $(e.currentTarget);\n\t\t\tcurrentTarget.prop('disabled', true);\n\t\t\tvar container = currentTarget.closest('.activityWidgetContainer');\n\t\t\tvar page = container.find('.currentPage').val();\n\t\t\tpage++;\n\t\t\tvar url = container.find('.widgetContentBlock').data('url');\n\t\t\turl = url.replace('&page=1', '&page=' + page);\n\t\t\turl += '&totalCount=' + container.find('.totaltActivities').val();\n\t\t\tAppConnector.request(url).done(function (data) {\n\t\t\t\t\tcurrentTarget.prop('disabled', false);\n\t\t\t\t\tcurrentTarget.addClass('d-none');\n\t\t\t\t\tvar currentPage = container.find('.currentPage').val();\n\t\t\t\t\tcontainer.find('.currentPage').remove();\n\t\t\t\t\tcontainer.find('.countActivities').remove();\n\t\t\t\t\tcontainer.find('.js-detail-widget-content').append(data);\n\t\t\t\t\tcontainer.find('.countActivities').val(parseInt(container.find('.countActivities').val()) + currentPage * parseInt(container.find('.pageLimit').val()));\n\t\t\t\t\tthisInstance.reloadWidgetActivitesStats(container);\n\t\t\t\t}\n\t\t\t);\n\t\t});\n\t\tdetailContentsHolder.on('click', '.widgetFullscreen', function (e) {\n\t\t\tvar currentTarget = $(e.currentTarget);\n\t\t\tvar widgetContentBlock = currentTarget.closest('.widgetContentBlock');\n\t\t\tvar url = widgetContentBlock.data('url');\n\t\t\turl = url.replace('&view=Detail&', '&view=WidgetFullscreen&');\n\t\t\tvar progressIndicatorElement = jQuery.progressIndicator({\n\t\t\t\tposition: 'html',\n\t\t\t\tblockInfo: {\n\t\t\t\t\tenabled: true\n\t\t\t\t}\n\t\t\t});\n\t\t\tapp.showModalWindow(null, \"index.php?\" + url, function (modal) {\n\t\t\t\tprogressIndicatorElement.progressIndicator({mode: 'hide'});\n\t\t\t});\n\t\t});\n\t\tthisInstance.registerEventForRelatedList();\n\t\tthisInstance.registerBlockAnimationEvent();\n\t\tthisInstance.registerMailPreviewWidget(detailContentsHolder.find('.widgetContentBlock[data-type=\"EmailList\"]'));\n\t\tthisInstance.registerMailPreviewWidget(detailContentsHolder.find('.widgetContentBlock[data-type=\"HistoryRelation\"]'));\n\t\tdetailContentsHolder.find('.js-switch--recentActivities').off().on('change', function (e) {\n\t\t\tconst currentTarget = jQuery(e.currentTarget),\n\t\t\t\ttabElement = thisInstance.getTabByLabel(thisInstance.detailViewRecentUpdatesTabLabel),\n\t\t\t\tvariableName = currentTarget.data('urlparams'),\n\t\t\t\tvalueOn = $(this).data('on-val'),\n\t\t\t\tvalueOff = $(this).data('off-val');\n\t\t\tlet url = tabElement.data('url');\n\t\t\turl = url.replace('&' + variableName + '=' + valueOn, '').replace('&' + variableName + '=' + valueOff, '');\n\t\t\tif (typeof currentTarget.data('on-val') !== \"undefined\") {\n\t\t\t\turl += '&' + variableName + '=' + valueOn;\n\t\t\t} else if (typeof currentTarget.data('off-val') !== \"undefined\") {\n\t\t\t\turl += '&' + variableName + '=' + valueOff;\n\t\t\t}\n\t\t\ttabElement.data('url', url);\n\t\t\ttabElement.trigger('click');\n\t\t});\n\t},\n\treloadWidgetActivitesStats: function (container) {\n\t\tvar countElement = container.find('.countActivities');\n\t\tvar totalElement = container.find('.totaltActivities');\n\t\tif (!countElement.length || !totalElement.length) {\n\t\t\treturn false;\n\t\t}\n\t\tvar stats = ' (' + countElement.val() + '/' + totalElement.val() + ')';\n\t\tvar switchBtn = container.find('.active .js-switch');\n\t\tvar switchBtnParent = switchBtn.parent();\n\t\tvar text = switchBtn.data('basic-text') + stats;\n\t\tswitchBtnParent.removeTextNode();\n\t\tswitchBtnParent.append(text);\n\t},\n\trefreshCommentContainer: function (commentId) {\n\t\tvar thisInstance = this;\n\t\tvar commentContainer = $('.commentsBody');\n\t\tvar params = {\n\t\t\tmodule: app.getModuleName(),\n\t\t\tview: 'Detail',\n\t\t\trecord: thisInstance.getRecordId(),\n\t\t\tmode: 'showThreadComments',\n\t\t\tcommentid: commentId\n\t\t}\n\t\tvar progressIndicatorElement = jQuery.progressIndicator({\n\t\t\tposition: 'html',\n\t\t\t'blockInfo': {\n\t\t\t\t'enabled': true,\n\t\t\t\t'elementToBlock': commentContainer\n\t\t\t}\n\t\t});\n\t\tAppConnector.request(params).done(function (data) {\n\t\t\tprogressIndicatorElement.progressIndicator({'mode': 'hide'});\n\t\t\tcommentContainer.html(data);\n\t\t});\n\t},\n\tupdateRecordsPDFTemplateBtn: function (form) {\n\t\tlet thisInstance = this;\n\t\tAppConnector.request({\n\t\t\tdata: {\n\t\t\t\tmodule: app.getModuleName(),\n\t\t\t\taction: 'PDF',\n\t\t\t\tmode: 'hasValidTemplate',\n\t\t\t\trecord: app.getRecordId(),\n\t\t\t\tview: app.getViewName()\n\t\t\t},\n\t\t\tdataType: 'json'\n\t\t}).done(function (data) {\n\t\t\tlet btnToolbar = jQuery('.js-btn-toolbar .btn-toolbar:eq(1)');\n\t\t\tlet btn;\n\t\t\tif (data['result'].valid === false) {\n\t\t\t\tbtn = btnToolbar.find('.showModal');\n\t\t\t\tif (btn.length) {\n\t\t\t\t\tbtn.remove();\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tlet btnGroup = btnToolbar;\n\t\t\t\tbtn = btnToolbar.find('.showModal');\n\t\t\t\tif (btn.length === 0) {\n\t\t\t\t\tbtnGroup.append('<div class=\"c-btn-link btn-group  c-btn-link--responsive\"><button class=\"btn btn btn-outline-dark btn-sm showModal js-popover-tooltip\" data-js=\"click|popover\" data-placement=\"bottom\" data-content=\"' + app.vtranslate('LBL_EXPORT_PDF') + '\" data-target=\"focus hover\" data-url=\"index.php?module=' + app.getModuleName() + '&view=PDF&fromview=Detail&record=' + app.getRecordId() + '\" data-original-title=\"\" title=\"\"><span class=\"fas fa-file-pdf icon-in-button\"></span></button></div>');\n\t\t\t\t}\n\t\t\t}\n\t\t}).fail(function (data, err) {\n\t\t\tapp.errorLog(data, err);\n\t\t});\n\t},\n\tupdateWindowHeight: function (currentHeight, frame) {\n\t\tframe.height(currentHeight);\n\t},\n\tloadSubProducts: function (parentRow) {\n\t\tconst thisInstance = this;\n\t\tlet recordId = parentRow.data('product-id'),\n\t\t\tsubProrductParams = {\n\t\t\t\tmodule: \"Products\",\n\t\t\t\taction: \"SubProducts\",\n\t\t\t\trecord: recordId\n\t\t\t};\n\t\tAppConnector.request(subProrductParams).done(function (data) {\n\t\t\tlet responseData = data.result;\n\t\t\tthisInstance.addSubProducts(parentRow, responseData);\n\t\t});\n\t},\n\taddSubProducts: function (parentRow, responseData) {\n\t\tlet subProductsContainer = $('.js-subproducts-container ul', parentRow);\n\t\tfor (let id in responseData) {\n\t\t\tlet productText = $(\"<li>\").text(responseData[id]);\n\t\t\tsubProductsContainer.append(productText);\n\t\t}\n\t},\n\tregisterSubProducts: function (container) {\n\t\tconst thisInstance = this;\n\t\tcontainer.find('.inventoryItems .js-inventory-row').each(function (index) {\n\t\t\tthisInstance.loadSubProducts($(this), false);\n\t\t});\n\t},\n\tregisterEvents: function () {\n\t\t//this.triggerDisplayTypeEvent();\n\t\tthis.registerHelpInfo();\n\t\tthis.registerSendSmsSubmitEvent();\n\t\tthis.registerAjaxEditEvent();\n\t\tthis.registerRelatedRowClickEvent();\n\t\tthis.registerBlockStatusCheckOnLoad();\n\t\tthis.registerEmailFieldClickEvent();\n\t\tthis.registerPhoneFieldClickEvent();\n\t\tthis.registerEventForRelatedTabClick();\n\t\tVtiger_Helper_Js.showHorizontalTopScrollBar();\n\t\tthis.registerUrlFieldClickEvent();\n\t\tvar detailViewContainer = jQuery('div.detailViewContainer');\n\t\tif (detailViewContainer.length <= 0) {\n\t\t\t// Not detail view page\n\t\t\treturn;\n\t\t}\n\n\t\tthis.registerSetReadRecord(detailViewContainer);\n\t\tthis.registerEventForPicklistDependencySetup(this.getForm());\n\t\tthis.getForm().validationEngine(app.validationEngineOptionsForRecord);\n\t\tthis.loadWidgetsEvents();\n\t\tthis.loadWidgets();\n\t\tthis.registerBasicEvents();\n\t\tthis.registerEventForTotalRecordsCount();\n\t\tthis.registerProgress();\n\t}\n});\n"],"names":["jQuery","Class","detailInstance","getInstance","moduleClassName","app","getModuleName","getViewName","instance","Vtiger_Detail_Js","triggerDetailViewAction","detailActionUrl","callBackFunction","selectedIds","push","getRecordId","JSON","stringify","AppConnector","request","postData","done","data","showModalWindow","fail","triggerSendSms","triggerTransferOwnership","massActionUrl","thisInstance","getRelatedModulesContainer","validationEngineOptions","params","onValidationComplete","form","valid","attr","transferOwnershipSave","validationEngine","getRelatedModuleContainer","App","Fields","Picklist","changeSelectElementView","selectElement","callback","val","relatedModules","recordId","transferOwner","success","hideModalWindow","title","vtranslate","text","type","oldvalue","element","find","removeAttr","trigger","closest","html","Fieldname","Vtiger_Helper_Js","showPnotify","reloadRelatedList","length","page","loadRelatedList","showWorkflowTriggerView","$","popover","on","each","ids","module","action","mode","user","record","loadWidgets","view","targetPicklistChange","targetPicklist","detailViewContentHolder","detailViewForm","detailViewDetailsTabLabel","detailViewSummaryTabLabel","detailViewRecentCommentsTabLabel","detailViewRecentActivitiesTabLabel","detailViewRecentUpdatesTabLabel","detailViewRecentDocumentsTabLabel","fieldUpdatedEvent","updatedFields","fieldPreSave","tempData","referenceFieldNames","init","loadWidgetsEvents","event","e","widgetContent","relatedModuleName","reloadWidgetActivitesStats","registerCommentEventsInDetail","registerShowSummary","Vtiger_Index_Js","registerMailButtons","progressIndicator","currentTarget","progressIndicatorElement","registerEmailEvents","registerBlockStatusCheckOnLoad","widgetList","index","widgetContainerELement","loadWidget","widgetContainer","registerRelatedModulesRecordCount","contentContainer","queryParameters","urlParams","split","keyValueMap","queryParamComponents","Deferred","async","dataType","showSelect2ElementView","registerModal","registerMoreContent","Vtiger_RelatedList_Js","getSelectedTab","relatedController","setRelatedContainer","registerRelatedEvents","widgetRelatedRecordView","aDeferred","resolve","reject","promise","container","load","relatedRecordCacheID","moduleCacheGet","cacheKey","newActive","removeClass","addClass","prev","controlBox","next","active","hasClass","nextElement","moduleCacheSet","prevElement","loadContents","url","detailContentsHolder","getContentHolder","requestPjax","responseData","Date","register","getForm","getUpdatefFieldsArray","getTabByLabel","tabLabel","getTabs","targetTab","labelKey","tab","getTabByModule","moduleName","selectModuleTab","getTabContainer","moduleTab","relatedTabContainer","deSelectAllrelatedTabs","markTabAsSelected","tabElement","reloadTabContent","dropdownMenuTabs","iteration","className","filter","topTabs","get","getRelatedModuleName","saveFieldValues","fieldDetailList","reponseData","getRelatedListCurrentPageNum","removeCommentBlockIfExists","remove","getCommentThread","saveCommentAjax","commentMode","commentContentValue","editCommentReason","commentId","parentCommentId","commentInfoBlock","relatedTo","addRelationBetweenRecords","result","id","textStatus","errorThrown","saveComment","closestCommentBlock","commentContent","errorMsg","commentInfoHeader","getCommentUI","getCommentBlock","clone","clonedCommentBlock","getEditCommentBlock","Text","Completions","registerSendSmsSubmitEvent","smsTextLength","submitButton","SendSmsSave","preventDefault","SendSmsUrl","serializeFormData","progressInstance","registerNameAjaxEditEvent","nameFields","recordLabel","nameFieldName","recordLabelElement","updateHeaderNameFields","nameField","salutatioField","salutatioValue","registerAjaxEditEvent","updateHeaderValues","currentElement","inArray","name","registerEmailFieldClickEvent","stopPropagation","registerPhoneFieldClickEvent","registerUrlFieldClickEvent","registerRelatedRowClickEvent","target","targetElement","is","children","recordUrl","elem","window","location","href","registerEventForRelatedList","n","block","blockContent","response","parents","isEmpty","registerPostLoadEvents","registerBlockAnimationEvent","not","blockId","closestBlock","bodyContents","cacheSet","blocks","dynamicAttr","currentBlock","headerAnimationElement","value","cacheGet","ajaxEditHandling","currentTdElement","readRecord","prop","editElement","actionElement","fieldElement","elementTarget","elementName","fieldName","inputmask","detailViewValue","focus","v","formElement","formData","ajaxEditNewValue","fieldValue","fieldInfo","Vtiger_Field_Js","dateTimeField","dateTime","field","toStr","previousValue","off","Event","preFieldSaveEvent","isDefaultPrevented","fieldNameValueMap","getCustomFieldNameValueMap","displayValue","postSaveRecordDetails","display_value","prevDisplayValue","prev_display_value","label","textTrusted","parent","reload","replace","selectedTabElement","registerSummaryViewContainerEvents","registerEventForPicklistDependencySetup","updateRecordsPDFTemplateBtn","saveHandler","triggerDisplayTypeEvent","widthType","elements","addElementsToQuickCreateForCreatingRelation","customParams","appendTo","registerEventForActivityWidget","relField","QuickCreateParams","eventsGoToFullFormButton","taskFullFormUrl","taskGoToFullFormButton","fullFormUrl","eventsFullFormUrl","widgetContentBlock","activitiesWidget","Object","assign","Vtiger_Header_Js","quickCreateModule","getEndDate","startDate","date","dateTab","newDate","setDate","getDate","getStringDate","getSingleEventType","modDay","dateStartVal","dateStartEl","dateStartFormat","validDateFromat","convertToDateString","map","extend","start","end","mapping","events","isEmptyObject","ev","indexOf","testDate","append","i","registerFilterForAddingModuleRelatedRecordFromSummaryWidget","summaryWidgetContainer","widgetDataContainer","referenceModuleName","quickcreateUrl","parentId","quickCreateParams","relatedField","autoCompleteFields","relatedParams","keys","postSummaryWidgetAddRecord","loadModuleSummary","headerInstance","getQuickCreateForm","handleQuickCreateData","progress","restrictionsField","src_module","src_record","multi_select","key","showRecordsList","modal","setSelectEvent","registerAddingInventoryRecords","createUrl","addidtionalParams","concat","registerEmailEvent","showConfirmationBox","d","showMessage","getFiltersDataAndLoad","getFiltersData","widget","m","item","fieldlable","selectedFilter","urlNewParams","registerChangeFilterForWidget","registerChangeSwitchForWidget","summaryViewContainer","updatesWidget","noCache","callbackFunction","currentDiv","detailViewElement","descriptionText","descriptionEmpty","saveButton","closeButton","activityButtonContainer","fieldnameElement","ajaxEditNewLable","activityDiv","activityId","activityType","add","then","errorExists","addClickOutSideEvent","activitytype","show","closeDescription","hide","one","widgetHeaderContainer","registerFastEditingFiels","relatedModule","relatedModuleRecordId","addRelations","idList","_recordId","registerChangeEventForModulesList","modulesSelectElement","selectedOptionValue","registerEventForRelatedTabClick","detailContainer","urlAttributes","showHorizontalTopScrollBar","registerHelpInfo","callBack","registerBasicEvents","notifyPostAjaxReady","picklistDependcyElemnt","parse","sourcePicklists","picklistDependencyMapping","sourcePickListNames","join","sourcePickListElements","sourcePicklistname","configuredDependencyObject","selectedValue","targetObjectForSelectedSourceValue","picklistmap","targetPickListName","targetPickListValues","targetPickListMap","targetPickList","listOfAvailableOptions","optionSelector","picklistValue","targetOptions","targetPickListSelectedValue","getChildComments","dataObj","getParentComments","registerEventForTotalRecordsCount","totalNumberOfRecords","getRelatedPageCount","showPagingInfo","pageNumberElement","pageRange","listViewEntriesCount","parseInt","registerSetReadRecord","relatedTabKey","fastEditingFiels","fieldContainer","showPopoverElementView","tabContainer","relationContainer","Array","isArray","tab_label","numberOfRecords","moreList","addComment","closestAddCommentBlock","commentTextAreaElement","commentHtml","self","noCommentsMsgContainer","commentBlock","currentChildCommentsCount","responsedata","prependTo","commentInfoContent","commentEditStatus","commentReason","commentcontent","reasontoedit","modifiedTime","modifiedtime","modifiedtimetitle","registerCommentEvents","editCommentBlock","error","err","errorLog","recentCommentsTab","regex","hierarchy","which","submitSearchForm","searchTextDom","limit","isWidget","search_key","is_widget","registerMailPreviewWidget","mailBody","row","mailTeaser","toggleClass","loadMailPreviewWidget","click","registerMapsEvents","mapView","registerDetailView","registerSocialMediaEvents","socialMediaContainer","summaryView","css","showProgressConfirmation","picklistName","message","registerProgress","Chat_JS","registerBaseEvents","unregisterEvents","registerSubProducts","DateTime","MultiImage","registerEventForClockPicker","currentPageNum","requestedPage","relatedLabel","currentTargetParent","commentActionsBlock","currentCommentBlock","ulElements","position","blockInfo","currentPage","nextPage","types","pageLimit","newChange","switchBtn","dataContainer","recentDocumentsTab","enabled","variableName","valueOn","valueOff","totalElement","countElement","switchBtnParent","stats","removeTextNode","refreshCommentContainer","commentContainer","commentid","btn","btnToolbar","updateWindowHeight","currentHeight","frame","height","loadSubProducts","parentRow","addSubProducts","subProductsContainer","productText","registerEvents","detailViewContainer","validationEngineOptionsForRecord"],"mappings":"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"}