{"version":3,"file":"Inventory.min.js","sources":["Inventory.js"],"sourcesContent":["/* {[The file is published on the basis of YetiForce Public License 3.0 that can be found in the following directory: licenses/LicenseEN.txt or yetiforce.com]} */\n'use strict';\n\n$.Class(\"Vtiger_Inventory_Js\", {\n\tinventoryInstance: false,\n\t/**\n\t * Get inventory instance\n\t * @param {jQuery} container\n\t * @returns {Vtiger_Inventory_Js}\n\t */\n\tgetInventoryInstance: function (container) {\n\t\tif (this.inventoryInstance === false) {\n\t\t\tlet moduleClassName = container.find('[name=\"module\"]').val() + \"_Inventory_Js\";\n\t\t\tif (typeof window[moduleClassName] === \"undefined\") {\n\t\t\t\tmoduleClassName = \"Vtiger_Inventory_Js\";\n\t\t\t}\n\t\t\tif (typeof window[moduleClassName] !== \"undefined\") {\n\t\t\t\tthis.inventoryInstance = new window[moduleClassName]();\n\t\t\t\tthis.inventoryInstance.registerEvents(container);\n\t\t\t}\n\t\t}\n\t\treturn this.inventoryInstance;\n\t},\n}, {\n\tform: false,\n\tinventoryContainer: false,\n\tinventoryHeadContainer: false,\n\tsummaryTaxesContainer: false,\n\tsummaryDiscountContainer: false,\n\tsummaryCurrenciesContainer: false,\n\trowClass: 'tr.inventoryRow',\n\tdiscountModalFields: ['aggregationType', 'globalDiscount', 'groupCheckbox', 'groupDiscount', 'individualDiscount', 'individualDiscountType'],\n\ttaxModalFields: ['aggregationType', 'globalTax', 'groupCheckbox', 'groupTax', 'individualTax'],\n\t/**\n\t * Get current form element\n\t * @returns {jQuery}\n\t */\n\tgetForm() {\n\t\treturn this.form;\n\t},\n\t/**\n\t * Function that is used to get the line item container\n\t * @return : jQuery object\n\t */\n\tgetInventoryItemsContainer: function () {\n\t\tif (this.inventoryContainer === false) {\n\t\t\tthis.inventoryContainer = $('.inventoryItems');\n\t\t}\n\t\treturn this.inventoryContainer;\n\t},\n\tgetInventoryHeadContainer: function () {\n\t\tif (this.inventoryHeadContainer === false) {\n\t\t\tthis.inventoryHeadContainer = $('.inventoryHeader');\n\t\t}\n\t\treturn this.inventoryHeadContainer;\n\t},\n\tgetInventorySummaryDiscountContainer: function () {\n\t\tif (this.summaryDiscountContainer === false) {\n\t\t\tthis.summaryDiscountContainer = $('.inventorySummaryDiscounts');\n\t\t}\n\t\treturn this.summaryDiscountContainer;\n\t},\n\tgetInventorySummaryTaxesContainer: function () {\n\t\tif (this.summaryTaxesContainer === false) {\n\t\t\tthis.summaryTaxesContainer = $('.inventorySummaryTaxes');\n\t\t}\n\t\treturn this.summaryTaxesContainer;\n\t},\n\tgetInventorySummaryCurrenciesContainer: function () {\n\t\tif (this.summaryCurrenciesContainer === false) {\n\t\t\tthis.summaryCurrenciesContainer = $('.inventorySummaryCurrencies');\n\t\t}\n\t\treturn this.summaryCurrenciesContainer;\n\t},\n\tgetNextLineItemRowNumber: function () {\n\t\tvar $inventoryItemsNo = $('#inventoryItemsNo');\n\t\tvar rowNumber = parseInt($inventoryItemsNo.val()) + 1;\n\t\t$inventoryItemsNo.val(rowNumber);\n\t\treturn rowNumber;\n\t},\n\tgetAccountId: function () {\n\t\tvar accountReferenceField = $('#accountReferenceField').val();\n\t\tif (accountReferenceField != '') {\n\t\t\treturn $('[name=\"' + accountReferenceField + '\"]').val();\n\t\t}\n\t\treturn '';\n\t},\n\tcheckDeleteIcon: function () {\n\t\tif (this.getInventoryItemsContainer().find(this.rowClass).length > 1) {\n\t\t\tthis.showLineItemsDeleteIcon();\n\t\t} else if (app.getMainParams('isRequiredInventory')) {\n\t\t\tthis.hideLineItemsDeleteIcon();\n\t\t}\n\t},\n\tshowLineItemsDeleteIcon: function () {\n\t\tthis.getInventoryItemsContainer().find('.deleteRow').removeClass('d-none');\n\t},\n\thideLineItemsDeleteIcon: function () {\n\t\tthis.getInventoryItemsContainer().find('.deleteRow').addClass('d-none');\n\t},\n\tgetClosestRow: function (element) {\n\t\treturn element.closest(this.rowClass);\n\t},\n\t/**\n\t * Function which will return the basic row which can be used to add new rows\n\t * @return jQuery object which you can use to\n\t */\n\tgetBasicRow: function () {\n\t\treturn this.getForm().find('.js-inventory-base-item').eq(0).clone(true, true);\n\t},\n\tisRecordSelected: function (element) {\n\t\tvar parentRow = element.closest('tr');\n\t\tvar productField = parentRow.find('.recordLabel');\n\t\treturn productField.validationEngine('validate');\n\t},\n\tgetTaxModeSelectElement: function (row) {\n\t\tvar items = this.getInventoryHeadContainer();\n\t\tif (items.find('thead .js-taxmode').length > 0) {\n\t\t\treturn $('.js-taxmode');\n\t\t}\n\t\tif (row) {\n\t\t\treturn row.find('.js-taxmode');\n\t\t} else {\n\t\t\treturn false;\n\t\t}\n\t},\n\tisIndividualTaxMode: function (row) {\n\t\tvar taxModeElement = this.getTaxModeSelectElement(row);\n\t\tvar selectedOption = taxModeElement.find('option:selected');\n\t\treturn selectedOption.val() == '1';\n\n\t},\n\tisGroupTaxMode: function () {\n\t\tvar taxTypeElement = this.getTaxModeSelectElement();\n\t\tif (taxTypeElement) {\n\t\t\tvar selectedOption = taxTypeElement.find('option:selected');\n\t\t\tif (selectedOption.val() == '0') {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\t\treturn false;\n\t},\n\tshowIndividualTax: function (row) {\n\t\tvar thisInstance = this;\n\t\tvar groupTax = thisInstance.getInventorySummaryTaxesContainer().find('.groupTax');\n\t\tvar items = thisInstance.getInventoryItemsContainer();\n\t\tvar newRow = $('#blackIthemTable').find('tbody');\n\t\tif (thisInstance.isIndividualTaxMode()) {\n\t\t\tgroupTax.addClass('d-none');\n\t\t\titems.find('.changeTax').removeClass('d-none');\n\t\t\tnewRow.find('.changeTax').removeClass('d-none');\n\t\t\tlet parentRow = thisInstance.getInventoryItemsContainer();\n\t\t\tlet taxParam = {aggregationType: 'global'};\n\n\t\t\tparentRow.find(thisInstance.rowClass).each(function () {\n\t\t\t\tlet thisItem = $(this);\n\t\t\t\ttaxParam['globalTax'] = App.Fields.Double.formatToDb(thisItem.find('.js-tax').attr('data-default-tax'));\n\t\t\t\tthisInstance.setTaxParam(thisItem, taxParam);\n\t\t\t});\n\t\t} else {\n\t\t\tthisInstance.setTax(items, 0);\n\t\t\tthisInstance.setTaxParam(items, []);\n\t\t\tthisInstance.setDefaultGlobalTax(row);\n\t\t\tgroupTax.removeClass('d-none');\n\t\t\titems.find('.changeTax').addClass('d-none');\n\t\t\tnewRow.find('.changeTax').addClass('d-none');\n\t\t}\n\t\tthisInstance.rowsCalculations();\n\t},\n\tsetDefaultGlobalTax: function (row) {\n\t\tlet thisInstance = this;\n\t\tlet parentRow = thisInstance.getInventoryItemsContainer();\n\t\tlet taxDefaultValue = thisInstance.getInventorySummaryTaxesContainer().find('.js-default-tax').data('tax-default-value');\n\t\tlet isGroupTax = thisInstance.isGroupTaxMode();\n\t\tif (isGroupTax) {\n\t\t\tif (taxDefaultValue) {\n\t\t\t\tlet taxParam = {aggregationType: 'global'};\n\t\t\t\ttaxParam['globalTax'] = App.Fields.Double.formatToDisplay(taxDefaultValue);\n\t\t\t\ttaxParam['individualTax'] = '';\n\t\t\t\tthisInstance.setTaxParam($('#blackIthemTable'), taxParam);\n\t\t\t\tthisInstance.setTaxParam(parentRow, taxParam);\n\t\t\t\tparentRow.closest('.inventoryItems').data('taxParam', JSON.stringify(taxParam));\n\t\t\t\tparentRow.find(thisInstance.rowClass).each(function () {\n\t\t\t\t\tthisInstance.quantityChangeActions($(this));\n\t\t\t\t});\n\t\t\t}\n\t\t} else {\n\t\t\tthisInstance.setTaxParam($('#blackIthemTable'), []);\n\t\t\tparentRow.closest('.inventoryItems').data('taxParam', []);\n\t\t}\n\t},\n\tgetDiscountModeSelectElement: function (row) {\n\t\tvar items = this.getInventoryHeadContainer();\n\t\tif (items.find('thead .js-discountmode').length > 0) {\n\t\t\treturn $('.js-discountmode');\n\t\t}\n\t\treturn row.find('.js-discountmode');\n\t},\n\tisIndividualDiscountMode: function (row) {\n\t\tvar discountModeElement = this.getDiscountModeSelectElement(row);\n\t\tvar selectedOption = discountModeElement.find('option:selected');\n\t\treturn selectedOption.val() == '1';\n\t},\n\tshowIndividualDiscount: function (row) {\n\t\tvar thisInstance = this;\n\t\tvar groupDiscount = thisInstance.getInventorySummaryDiscountContainer().find('.groupDiscount');\n\t\tvar items = thisInstance.getInventoryItemsContainer();\n\t\tvar newRow = $('#blackIthemTable').find('tbody');\n\t\tif (thisInstance.isIndividualDiscountMode(row)) {\n\t\t\tgroupDiscount.addClass('d-none');\n\t\t\titems.find('.changeDiscount').removeClass('d-none');\n\t\t\tnewRow.find('.changeDiscount').removeClass('d-none');\n\t\t} else {\n\t\t\tgroupDiscount.removeClass('d-none');\n\t\t\titems.find('.changeDiscount').addClass('d-none');\n\t\t\tnewRow.find('.changeDiscount').addClass('d-none');\n\t\t}\n\t\tthisInstance.setDiscount(items, 0);\n\t\tthisInstance.setDiscountParam(items, []);\n\t\tthisInstance.rowsCalculations();\n\t},\n\tgetCurrency: function () {\n\t\tlet currency = $('.js-currency', this.getInventoryHeadContainer());\n\t\treturn currency.find('option:selected').val();\n\t},\n\tgetTax: function (row) {\n\t\treturn $('.tax', row).getNumberFromValue();\n\t},\n\tgetTaxParams: function (row) {\n\t\tvar taxParams = row.find('.taxParam').val();\n\t\tif (taxParams == '' || taxParams == '[]' || taxParams == undefined)\n\t\t\treturn false;\n\t\treturn JSON.parse(taxParams);\n\t},\n\tgetQuantityValue: function (row) {\n\t\treturn $('.qty', row).getNumberFromValue();\n\t},\n\tgetUnitPriceValue: function (row) {\n\t\treturn $('.unitPrice', row).getNumberFromValue();\n\t},\n\tgetDiscount: function (row) {\n\t\treturn $('.discount', row).getNumberFromValue();\n\t},\n\tgetNetPrice: function (row) {\n\t\treturn $('.netPrice', row).getNumberFromValue();\n\t},\n\tgetTotalPrice: function (row) {\n\t\tif ($('.totalPrice', row).length != 0) {\n\t\t\treturn $('.totalPrice', row).getNumberFromValue();\n\t\t} else {\n\t\t\treturn 0;\n\t\t}\n\t},\n\tgetGrossPrice: function (row) {\n\t\treturn $('.grossPrice', row).getNumberFromValue();\n\t},\n\tgetPurchase: function (row) {\n\t\tvar qty = this.getQuantityValue(row);\n\t\tvar element = $('.purchase', row);\n\t\tvar purchase = 0;\n\t\tif (element.length > 0) {\n\t\t\tpurchase = App.Fields.Double.formatToDb(element.val());\n\t\t}\n\t\treturn purchase * qty;\n\t},\n\tgetSummaryGrossPrice: function () {\n\t\tvar thisInstance = this;\n\t\tvar price = 0;\n\t\tthis.getInventoryItemsContainer().find(thisInstance.rowClass).each(function (index) {\n\t\t\tprice += thisInstance.getGrossPrice($(this));\n\t\t});\n\t\treturn App.Fields.Double.formatToDb(price);\n\t},\n\t/**\n\t * Set currency\n\t * @param {int} val\n\t */\n\tsetCurrency(val) {\n\t\tthis.getInventoryHeadContainer().find('.js-currency').val(val).trigger('change');\n\t},\n\t/**\n\t * Set currency param\n\t * @param {string} val json string\n\t */\n\tsetCurrencyParam(val) {\n\t\tthis.getInventoryHeadContainer().find('.js-currencyparam').val(val);\n\t},\n\t/**\n\t * Set discount mode\n\t * @param {int} val\n\t */\n\tsetDiscountMode(val) {\n\t\tthis.getInventoryHeadContainer().find('.js-discountmode').val(val).trigger('change');\n\t},\n\t/**\n\t * Set tax mode\n\t * @param {int} val\n\t */\n\tsetTaxMode(val) {\n\t\tthis.getInventoryHeadContainer().find('.js-taxmode').val(val).trigger('change');\n\t},\n\t/**\n\t * Set inventory id\n\t * @param {jQuery} row\n\t * @param {int} val\n\t * @param {string} display\n\t */\n\tsetName(row, val, display) {\n\t\trow.find('.js-name').val(val).trigger('change');\n\t\trow.find('.js-name_display').val(display).attr('readonly', 'true').trigger('change');\n\t},\n\t/**\n\t * Set inventory row quantity\n\t * @param {jQuery} row\n\t * @param {int} val\n\t */\n\tsetQuantity(row, val) {\n\t\trow.find('.qty').val(val).trigger('change');\n\t},\n\t/**\n\t * Set unit original (db) value\n\t * @param {jQuery} row\n\t * @param {string} val\n\t * @param {string} display\n\t */\n\tsetUnit(row, val, display) {\n\t\trow.find('.unit').val(val).trigger('change');\n\t\trow.find('.unitText').text(display).trigger('change');\n\t},\n\t/**\n\t * Set subUnit original (db) value\n\t * @param {jQuery} row\n\t * @param {string} val\n\t * @param {string} display\n\t */\n\tsetSubUnit(row, val, display) {\n\t\trow.find('.subunit').val(val);\n\t\trow.find('.subunitText').val(display);\n\t},\n\t/**\n\t * Set inventory row comment\n\t * @param {jQuery} row\n\t * @param {string} val\n\t */\n\tsetComment(row, val) {\n\t\trow.parent().find('[numrowex=' + row.attr('numrow') + ']').find('.comment').val(val).trigger('change');\n\t},\n\tsetUnitPrice: function (row, val) {\n\t\tval = App.Fields.Double.formatToDisplay(val);\n\t\trow.find('.unitPrice').val(val).attr('title', val);\n\t\treturn this;\n\t},\n\tsetNetPrice: function (row, val) {\n\t\tval = App.Fields.Double.formatToDisplay(val);\n\t\t$('.netPriceText', row).text(val);\n\t\t$('.netPrice', row).val(val);\n\t},\n\tsetGrossPrice: function (row, val) {\n\t\tval = App.Fields.Double.formatToDisplay(val);\n\t\t$('.grossPriceText', row).text(val);\n\t\t$('.grossPrice', row).val(val);\n\t},\n\tsetTotalPrice: function (row, val) {\n\t\tval = App.Fields.Double.formatToDisplay(val);\n\t\t$('.totalPriceText', row).text(val);\n\t\t$('.totalPrice', row).val(val);\n\t},\n\tsetMargin: function (row, val) {\n\t\tval = App.Fields.Double.formatToDisplay(val);\n\t\t$('.margin', row).val(val);\n\t},\n\tsetMarginP: function (row, val) {\n\t\tval = App.Fields.Double.formatToDisplay(val);\n\t\t$('.marginp', row).val(val);\n\t},\n\tsetDiscount: function (row, val) {\n\t\tval = App.Fields.Double.formatToDisplay(val);\n\t\t$('.discount', row).val(val);\n\t},\n\tsetDiscountParam: function (row, val) {\n\t\t$('.discountParam', row).val(JSON.stringify(val));\n\t},\n\tsetTax: function (row, val) {\n\t\tval = App.Fields.Double.formatToDisplay(val);\n\t\t$('.tax', row).val(val);\n\t},\n\tsetTaxParam: function (row, val) {\n\t\t$('.taxParam', row).val(JSON.stringify(val));\n\t},\n\tquantityChangeActions: function (row) {\n\t\tthis.rowCalculations(row);\n\t\tthis.summaryCalculations();\n\t},\n\trowCalculations: function (row) {\n\t\tthis.calculateTotalPrice(row);\n\t\tthis.calculateDiscounts(row);\n\t\tthis.calculateNetPrice(row);\n\t\tthis.calculateTaxes(row);\n\t\tthis.calculateGrossPrice(row);\n\t\tthis.calculateMargin(row);\n\t},\n\trowsCalculations: function () {\n\t\tvar thisInstance = this;\n\t\tthis.getInventoryItemsContainer().find(thisInstance.rowClass).each(function (index) {\n\t\t\tthisInstance.quantityChangeActions($(this));\n\t\t});\n\t\tthisInstance.calculateItemNumbers();\n\t},\n\tcalculateDiscounts: function (row) {\n\t\tvar discountParams = row.find('.discountParam').val();\n\t\tvar aggregationType = $('.aggregationTypeDiscount').val();\n\t\tif (discountParams == '' || discountParams == '[]' || discountParams == undefined)\n\t\t\treturn 0;\n\t\tdiscountParams = JSON.parse(discountParams);\n\t\tvar valuePrices = this.getTotalPrice(row);\n\t\tvar discountRate = 0;\n\t\tvar types = discountParams.aggregationType;\n\t\tif (typeof types == 'string') {\n\t\t\ttypes = [types];\n\t\t}\n\t\tif (types)\n\t\t\ttypes.forEach(function (entry) {\n\t\t\t\tvar discountValue;\n\t\t\t\tif (entry == 'individual') {\n\t\t\t\t\tdiscountValue = discountParams.individualDiscount;\n\t\t\t\t\tvar discountType = discountParams.individualDiscountType;\n\t\t\t\t\tif (discountType == 'percentage') {\n\t\t\t\t\t\tdiscountRate += valuePrices * (discountValue / 100);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tdiscountRate += App.Fields.Double.formatToDb(discountValue);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (entry == 'global') {\n\t\t\t\t\tdiscountRate += valuePrices * (App.Fields.Double.formatToDb(discountParams.globalDiscount) / 100);\n\t\t\t\t}\n\t\t\t\tif (entry == 'group') {\n\t\t\t\t\tdiscountRate += valuePrices * (App.Fields.Double.formatToDb(discountParams.groupDiscount) / 100);\n\t\t\t\t}\n\t\t\t\tif (aggregationType == '2') {\n\t\t\t\t\tvaluePrices = valuePrices - discountRate;\n\t\t\t\t}\n\t\t\t});\n\t\tthis.setDiscount(row, discountRate);\n\t},\n\tcalculateTaxes: function (row) {\n\t\tvar taxParams = row.find('.taxParam').val();\n\t\tif (taxParams == '' || taxParams == '[]' || taxParams == undefined)\n\t\t\treturn 0;\n\t\ttaxParams = JSON.parse(taxParams);\n\t\tvar aggregationType = $('.aggregationTypeTax').val();\n\t\tvar valuePrices = this.getNetPrice(row);\n\t\tvar taxRate = 0;\n\t\tvar types = taxParams.aggregationType;\n\t\tif (typeof types == 'string') {\n\t\t\ttypes = [types];\n\t\t}\n\t\tif (types)\n\t\t\ttypes.forEach(function (entry) {\n\t\t\t\tvar taxValue = 0;\n\t\t\t\tswitch (entry) {\n\t\t\t\t\tcase 'individual':\n\t\t\t\t\t\ttaxValue = taxParams.individualTax;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'global':\n\t\t\t\t\t\ttaxValue = taxParams.globalTax;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'group':\n\t\t\t\t\t\ttaxValue = taxParams.groupTax;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'regional':\n\t\t\t\t\t\ttaxValue = taxParams.regionalTax;\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\ttaxRate += valuePrices * (App.Fields.Double.formatToDb(taxValue) / 100);\n\t\t\t\tif (aggregationType == '2') {\n\t\t\t\t\tvaluePrices = valuePrices + taxRate;\n\t\t\t\t}\n\t\t\t});\n\t\tthis.setTax(row, taxRate);\n\t},\n\tsummaryCalculations: function () {\n\t\tvar thisInstance = this;\n\t\tthisInstance.getInventoryItemsContainer().find('tfoot .wisableTd').each(function (index) {\n\t\t\tthisInstance.calculatSummary($(this), $(this).data('sumfield'));\n\t\t});\n\t\tthisInstance.calculatDiscountSummary();\n\t\tthisInstance.calculatTaxSummary();\n\t\tthisInstance.calculatCurrenciesSummary();\n\t\tthisInstance.calculatMarginPSummary();\n\t},\n\tcalculatSummary: function (element, field) {\n\t\tvar thisInstance = this;\n\t\tvar sum = 0;\n\t\tthis.getInventoryItemsContainer().find(thisInstance.rowClass).each(function (index) {\n\t\t\tvar element = $(this).find('.' + field);\n\t\t\tif (element.length > 0) {\n\t\t\t\tsum += App.Fields.Double.formatToDb(element.val());\n\t\t\t}\n\t\t});\n\t\telement.text(App.Fields.Double.formatToDisplay(sum));\n\t},\n\tcalculatMarginPSummary: function () {\n\t\tvar thisInstance = this;\n\t\tvar purchase = 0;\n\t\tvar totalOrNet = 0;\n\t\tvar sumRow = thisInstance.getInventoryItemsContainer().find('tfoot');\n\t\tvar total = App.Fields.Double.formatToDb(sumRow.find('[data-sumfield=\"totalPrice\"]').text());\n\t\tvar netPrice = App.Fields.Double.formatToDb(sumRow.find('[data-sumfield=\"netPrice\"]').text());\n\t\tthis.getInventoryItemsContainer().find(thisInstance.rowClass).each(function (index) {\n\t\t\tvar qty = $(this).find('.qty');\n\t\t\tvar purchasPrice = $(this).find('.purchase');\n\t\t\tif ((qty.length > 0) && (purchasPrice.length > 0)) {\n\t\t\t\tpurchase += App.Fields.Double.formatToDb(qty.val()) * App.Fields.Double.formatToDb(purchasPrice.val());\n\t\t\t}\n\t\t})\n\t\tif (netPrice != total) {\n\t\t\ttotalOrNet += App.Fields.Double.formatToDb(netPrice);\n\t\t} else {\n\t\t\ttotalOrNet += App.Fields.Double.formatToDb(total);\n\t\t}\n\t\tvar marginp = '0';\n\t\tif (purchase !== 0) {\n\t\t\tvar subtraction = (totalOrNet - purchase);\n\t\t\tmarginp = (subtraction / totalOrNet) * 100;\n\t\t}\n\t\tsumRow.find('[data-sumfield=\"marginP\"]').text(App.Fields.Double.formatToDisplay(marginp))\n\t},\n\tcalculatDiscountSummary: function () {\n\t\tvar thisInstance = this;\n\t\tvar discount = thisInstance.getAllDiscount();\n\t\tvar container = thisInstance.getInventorySummaryDiscountContainer();\n\t\tcontainer.find('input').val(App.Fields.Double.formatToDisplay(discount));\n\t},\n\tgetAllDiscount: function () {\n\t\tvar thisInstance = this;\n\t\tvar discount = 0;\n\t\tthis.getInventoryItemsContainer().find(thisInstance.rowClass).each(function (index) {\n\t\t\tvar row = $(this);\n\t\t\tdiscount += thisInstance.getDiscount(row);\n\t\t});\n\t\treturn discount;\n\t},\n\tcalculatCurrenciesSummary: function () {\n\t\tlet container = this.getInventorySummaryCurrenciesContainer(),\n\t\t\tselected = $('.js-currency option:selected', this.getInventoryHeadContainer()),\n\t\t\tbase = $('.js-currency option[data-base-currency=\"1\"]', this.getInventoryHeadContainer()),\n\t\t\tconversionRate = selected.data('conversionRate'),\n\t\t\tbaseConversionRate = base.data('conversionRate');\n\t\tif (conversionRate == baseConversionRate) {\n\t\t\tcontainer.addClass('d-none');\n\t\t\treturn;\n\t\t}\n\t\tconversionRate = parseFloat(baseConversionRate) / parseFloat(conversionRate);\n\t\tcontainer.removeClass('d-none');\n\t\tvar taxs = this.getAllTaxs();\n\t\tvar sum = 0;\n\t\tcontainer.find('.js-panel__body').html('');\n\t\t$.each(taxs, function (index, value) {\n\t\t\tif (value != undefined) {\n\t\t\t\tvalue = value * conversionRate;\n\t\t\t\tvar row = container.find('.d-none .form-group').clone();\n\t\t\t\trow.find('.percent').text(index + '%');\n\t\t\t\trow.find('input').val(App.Fields.Double.formatToDisplay(value));\n\t\t\t\trow.appendTo(container.find('.js-panel__body'));\n\t\t\t\tsum += value;\n\t\t\t}\n\t\t});\n\t\tcontainer.find('.js-panel__footer input').val(App.Fields.Double.formatToDisplay(sum));\n\t},\n\tcalculatTaxSummary: function () {\n\t\tvar thisInstance = this;\n\t\tvar taxs = thisInstance.getAllTaxs();\n\t\tvar container = thisInstance.getInventorySummaryTaxesContainer();\n\t\tcontainer.find('.js-panel__body').html('');\n\t\tvar sum = 0;\n\t\tfor (var index in taxs) {\n\t\t\tvar row = container.find('.d-none .form-group').clone();\n\t\t\trow.find('.percent').text(App.Fields.Double.formatToDisplay(App.Fields.Double.formatToDb(index)) + '%');\n\t\t\trow.find('input').val(App.Fields.Double.formatToDisplay(taxs[index]));\n\t\t\trow.appendTo(container.find('.js-panel__body'));\n\t\t\tsum += taxs[index];\n\t\t}\n\t\tcontainer.find('.js-panel__footer input').val(App.Fields.Double.formatToDisplay(sum));\n\t},\n\tgetAllTaxs: function () {\n\t\tvar thisInstance = this;\n\t\tvar tax = [];\n\t\tvar typeSummary = $('.aggregationTypeTax').val();\n\t\tthis.getInventoryItemsContainer().find(thisInstance.rowClass).each(function (index) {\n\t\t\tvar row = $(this);\n\t\t\tvar netPrice = thisInstance.getNetPrice(row);\n\t\t\tvar params = row.find('.taxParam').val();\n\t\t\tif (params != '' && params != '[]' && params != undefined) {\n\t\t\t\tvar param = JSON.parse(params);\n\t\t\t\tif (typeof param.aggregationType == 'string') {\n\t\t\t\t\tparam.aggregationType = [param.aggregationType];\n\t\t\t\t}\n\t\t\t\tif (param.aggregationType)\n\t\t\t\t\t$.each(param.aggregationType, function (index, name) {\n\t\t\t\t\t\tname = name + 'Tax';\n\t\t\t\t\t\tvar precent = param[name];\n\t\t\t\t\t\tvar old = 0;\n\t\t\t\t\t\tif (tax[precent] != undefined) {\n\t\t\t\t\t\t\told = parseFloat(tax[precent]);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tvar taxRate = netPrice * (App.Fields.Double.formatToDb(precent) / 100);\n\t\t\t\t\t\ttax[precent] = old + taxRate;\n\t\t\t\t\t\tif (typeSummary == '2') {\n\t\t\t\t\t\t\tnetPrice += taxRate;\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t}\n\t\t});\n\n\t\treturn tax;\n\t},\n\tcalculateNetPrice: function (row) {\n\t\tvar netPrice = this.getTotalPrice(row) - this.getDiscount(row);\n\t\tthis.setNetPrice(row, netPrice);\n\t},\n\tcalculateGrossPrice: function (row) {\n\t\tvar netPrice = this.getNetPrice(row);\n\t\tif (this.isIndividualTaxMode(row) || this.isGroupTaxMode(row)) {\n\t\t\tnetPrice += this.getTax(row);\n\t\t}\n\t\tthis.setGrossPrice(row, netPrice);\n\t},\n\tcalculateTotalPrice: function (row) {\n\t\tvar netPriceBeforeDiscount = this.getQuantityValue(row) * this.getUnitPriceValue(row);\n\t\tthis.setTotalPrice(row, netPriceBeforeDiscount);\n\t},\n\tcalculateMargin: function (row) {\n\t\tvar netPrice;\n\t\tif ($('.netPrice', row).length) {\n\t\t\tnetPrice = this.getNetPrice(row);\n\t\t} else {\n\t\t\tnetPrice = this.getTotalPrice(row);\n\t\t}\n\t\tvar purchase = this.getPurchase(row);\n\t\tvar margin = netPrice - purchase;\n\t\tthis.setMargin(row, margin);\n\t\tvar marginp = '0';\n\t\tif (purchase !== 0) {\n\t\t\tmarginp = (margin / purchase) * 100;\n\t\t}\n\t\tthis.setMarginP(row, marginp);\n\t},\n\tcalculateDiscount: function (row, modal) {\n\t\tvar netPriceBeforeDiscount = App.Fields.Double.formatToDb(modal.find('.valueTotalPrice').text()),\n\t\t\tvaluePrices = netPriceBeforeDiscount,\n\t\t\tglobalDiscount = 0,\n\t\t\tgroupDiscount = 0,\n\t\t\tindividualDiscount = 0,\n\t\t\tvalueDiscount = 0;\n\n\t\tvar discountsType = modal.find('.discountsType').val();\n\n\t\tif (discountsType == '0' || discountsType == '1') {\n\t\t\tif (modal.find('.js-active .globalDiscount').length > 0) {\n\t\t\t\tglobalDiscount = App.Fields.Double.formatToDb(modal.find('.js-active .globalDiscount').val());\n\t\t\t}\n\t\t\tif (modal.find('.js-active .individualDiscountType').length > 0) {\n\t\t\t\tvar individualTypeDiscount = modal.find('.js-active .individualDiscountType:checked').val();\n\t\t\t\tvar value = App.Fields.Double.formatToDb(modal.find('.js-active .individualDiscountValue').val());\n\t\t\t\tif (individualTypeDiscount == 'percentage') {\n\t\t\t\t\tindividualDiscount = netPriceBeforeDiscount * (value / 100);\n\t\t\t\t} else {\n\t\t\t\t\tindividualDiscount = value;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (modal.find('.js-active .groupCheckbox').length > 0 && modal.find('.js-active .groupCheckbox').prop(\"checked\") == true) {\n\t\t\t\tgroupDiscount = App.Fields.Double.formatToDb(modal.find('.groupValue').val());\n\t\t\t\tgroupDiscount = netPriceBeforeDiscount * (groupDiscount / 100);\n\t\t\t}\n\n\t\t\tvaluePrices = valuePrices * ((100 - globalDiscount) / 100);\n\t\t\tvaluePrices = valuePrices - individualDiscount;\n\t\t\tvaluePrices = valuePrices - groupDiscount;\n\t\t} else if (discountsType == '2') {\n\t\t\tmodal.find('.js-active').each(function (index) {\n\t\t\t\tvar panel = $(this);\n\t\t\t\tif (panel.find('.globalDiscount').length > 0) {\n\t\t\t\t\tvar globalDiscount = App.Fields.Double.formatToDb(panel.find('.globalDiscount').val());\n\t\t\t\t\tvaluePrices = valuePrices * ((100 - globalDiscount) / 100);\n\t\t\t\t} else if (panel.find('.groupCheckbox').length > 0 && panel.find('.groupCheckbox').prop(\"checked\") == true) {\n\t\t\t\t\tvar groupDiscount = App.Fields.Double.formatToDb(panel.find('.groupValue').val());\n\t\t\t\t\tvaluePrices = valuePrices * ((100 - groupDiscount) / 100);\n\t\t\t\t} else if (panel.find('.individualDiscountType').length > 0) {\n\t\t\t\t\tvar value = App.Fields.Double.formatToDb(panel.find('.individualDiscountValue').val());\n\t\t\t\t\tif (panel.find('.individualDiscountType[name=\"individualDiscountType\"]:checked').val() == 'percentage') {\n\t\t\t\t\t\tvaluePrices = valuePrices * ((100 - value) / 100);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tvaluePrices = valuePrices - value;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t\tmodal.find('.valuePrices').text(App.Fields.Double.formatToDisplay(valuePrices));\n\t\tmodal.find('.valueDiscount').text(App.Fields.Double.formatToDisplay(netPriceBeforeDiscount - valuePrices));\n\t},\n\tcalculateTax: function (row, modal) {\n\t\tvar netPriceWithoutTax = App.Fields.Double.formatToDb(modal.find('.valueNetPrice').text()),\n\t\t\tvaluePrices = netPriceWithoutTax,\n\t\t\tglobalTax = 0,\n\t\t\tgroupTax = 0,\n\t\t\tregionalTax = 0,\n\t\t\tindividualTax = 0;\n\n\t\tvar taxType = modal.find('.taxsType').val();\n\t\tif (taxType == '0' || taxType == '1') {\n\t\t\tif (modal.find('.js-active .globalTax').length > 0) {\n\t\t\t\tglobalTax = App.Fields.Double.formatToDb(modal.find('.js-active .globalTax').val());\n\t\t\t}\n\t\t\tif (modal.find('.js-active .individualTaxValue').length > 0) {\n\t\t\t\tvar value = App.Fields.Double.formatToDb(modal.find('.js-active .individualTaxValue').val());\n\t\t\t\tindividualTax = (value / 100) * valuePrices;\n\t\t\t}\n\t\t\tif (modal.find('.js-active .groupTax').length > 0) {\n\t\t\t\tgroupTax = App.Fields.Double.formatToDb(modal.find('.groupTax').val());\n\t\t\t\tgroupTax = netPriceWithoutTax * (groupTax / 100);\n\t\t\t}\n\t\t\tif (modal.find('.js-active .regionalTax').length > 0) {\n\t\t\t\tregionalTax = App.Fields.Double.formatToDb(modal.find('.regionalTax').val());\n\t\t\t\tregionalTax = netPriceWithoutTax * (regionalTax / 100);\n\t\t\t}\n\n\t\t\tvaluePrices = valuePrices * ((100 + globalTax) / 100);\n\t\t\tvaluePrices = valuePrices + individualTax;\n\t\t\tvaluePrices = valuePrices + groupTax;\n\t\t\tvaluePrices = valuePrices + regionalTax;\n\t\t} else if (taxType == '2') {\n\t\t\tmodal.find('.js-active').each(function (index) {\n\t\t\t\tvar panel = $(this);\n\t\t\t\tif (panel.find('.globalTax').length > 0) {\n\t\t\t\t\tvar globalTax = App.Fields.Double.formatToDb(panel.find('.globalTax').val());\n\t\t\t\t\tvaluePrices = valuePrices * ((100 + globalTax) / 100);\n\t\t\t\t} else if (panel.find('.groupTax').length > 0) {\n\t\t\t\t\tvar groupTax = App.Fields.Double.formatToDb(panel.find('.groupTax').val());\n\t\t\t\t\tvaluePrices = valuePrices * ((100 + groupTax) / 100);\n\t\t\t\t} else if (panel.find('.regionalTax').length > 0) {\n\t\t\t\t\tvar regionalTax = App.Fields.Double.formatToDb(panel.find('.regionalTax').val());\n\t\t\t\t\tvaluePrices = valuePrices * ((100 + regionalTax) / 100);\n\t\t\t\t} else if (panel.find('.individualTaxValue').length > 0) {\n\t\t\t\t\tvar value = App.Fields.Double.formatToDb(panel.find('.individualTaxValue').val());\n\t\t\t\t\tvaluePrices = ((value + 100) / 100) * valuePrices;\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t\tif (netPriceWithoutTax) {\n\t\t\tlet taxValue = (valuePrices - netPriceWithoutTax) / netPriceWithoutTax * 100;\n\t\t\tmodal.find('.js-tax-value').text(App.Fields.Double.formatToDisplay(taxValue));\n\t\t}\n\t\tmodal.find('.valuePrices').text(App.Fields.Double.formatToDisplay(valuePrices));\n\t\tmodal.find('.valueTax').text(App.Fields.Double.formatToDisplay(valuePrices - netPriceWithoutTax));\n\t},\n\tupdateRowSequence: function () {\n\t\tvar items = this.getInventoryItemsContainer();\n\t\titems.find(this.rowClass).each(function (index) {\n\t\t\t$(this).find('.sequence').val(index + 1);\n\t\t});\n\t},\n\tregisterInventorySaveData: function () {\n\t\tconst thisInstance = this;\n\t\tthisInstance.form.on(Vtiger_Edit_Js.recordPreSave, function (e, data) {\n\t\t\tthisInstance.syncHeaderData();\n\t\t\tif (!thisInstance.checkLimits(thisInstance.form)) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tlet table = thisInstance.form.find('#blackIthemTable');\n\t\t\ttable.find('[name]').removeAttr('name');\n\t\t});\n\t},\n\tsyncHeaderData() {\n\t\tlet header = this.getInventoryHeadContainer();\n\t\tthis.getInventoryItemsContainer().find('.js-sync').each(function () {\n\t\t\tlet element = $(this);\n\t\t\telement.val(header.find('.js-' + element.data('syncId')).val());\n\t\t});\n\t},\n\t/**\n\t * Function which will be used to handle price book popup\n\t * @params :  element - popup image element\n\t */\n\tpricebooksModalHandler: function (element) {\n\t\tconst thisInstance = this;\n\t\tlet lineItemRow = element.closest(this.rowClass);\n\t\tlet rowName = lineItemRow.find('.rowName');\n\t\tapp.showRecordsList({\n\t\t\tmodule: 'PriceBooks',\n\t\t\tsrc_module: $('[name=\"popupReferenceModule\"]', rowName).val(),\n\t\t\tsrc_record: $('.sourceField', rowName).val(),\n\t\t\tsrc_field: $('[name=\"popupReferenceModule\"]', rowName).data('field'),\n\t\t\tcurrency_id: thisInstance.getCurrency(),\n\t\t}, (modal, instance) => {\n\t\t\tinstance.setSelectEvent((responseData) => {\n\t\t\t\tAppConnector.request({\n\t\t\t\t\tmodule: 'PriceBooks',\n\t\t\t\t\taction: 'ProductListPrice',\n\t\t\t\t\trecord: responseData.id,\n\t\t\t\t\tsrc_record: $('.sourceField', rowName).val(),\n\t\t\t\t}).done(function (data) {\n\t\t\t\t\tif (data.result) {\n\t\t\t\t\t\tthisInstance.setUnitPrice(lineItemRow, data.result);\n\t\t\t\t\t\tthisInstance.quantityChangeActions(lineItemRow);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tapp.errorLog('Incorrect data', responseData);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t});\n\t\t});\n\t},\n\tsubProductsCashe: [],\n\tloadSubProducts: function (parentRow, indicator) {\n\t\tvar thisInstance = this;\n\t\tvar recordId = $('input.sourceField', parentRow).val();\n\t\tvar recordModule = parentRow.find('.rowName input[name=\"popupReferenceModule\"]').val();\n\t\tthisInstance.removeSubProducts(parentRow);\n\t\tif (recordId == '0' || recordId == '' || $.inArray(recordModule, ['Products', 'Services']) < 0) {\n\t\t\treturn false;\n\t\t}\n\t\tif (thisInstance.subProductsCashe[recordId]) {\n\t\t\tthisInstance.addSubProducts(parentRow, thisInstance.subProductsCashe[recordId]);\n\t\t\treturn false;\n\t\t}\n\t\tvar subProrductParams = {\n\t\t\tmodule: \"Products\",\n\t\t\taction: \"SubProducts\",\n\t\t\trecord: recordId\n\t\t};\n\t\tif (indicator) {\n\t\t\tvar progressInstace = $.progressIndicator();\n\t\t}\n\t\tAppConnector.request(subProrductParams).done(function (data) {\n\t\t\tvar responseData = data.result;\n\t\t\tthisInstance.subProductsCashe[recordId] = responseData;\n\t\t\tthisInstance.addSubProducts(parentRow, responseData);\n\t\t\tif (progressInstace) {\n\t\t\t\tprogressInstace.hide();\n\t\t\t}\n\t\t}).fail(function (error, err) {\n\t\t\tif (progressInstace) {\n\t\t\t\tprogressInstace.hide();\n\t\t\t}\n\t\t});\n\t},\n\tremoveSubProducts: function (parentRow) {\n\t\tvar subProductsContainer = $('.subProductsContainer ul', parentRow);\n\t\tsubProductsContainer.find(\"li\").remove();\n\t},\n\taddSubProducts: function (parentRow, responseData) {\n\t\tvar subProductsContainer = $('.subProductsContainer ul', parentRow);\n\t\tfor (var id in responseData) {\n\t\t\tvar priductText = $(\"<li>\").text(responseData[id]);\n\t\t\tsubProductsContainer.append(priductText);\n\t\t}\n\t},\n\tmapResultsToFields: function (referenceModule, parentRow, responseData) {\n\t\tlet unit, unitPrice, taxParam = [];\n\t\tvar thisInstance = this;\n\t\tvar isGroupTax = thisInstance.isGroupTaxMode();\n\t\tfor (var id in responseData) {\n\t\t\tvar recordData = responseData[id];\n\t\t\tvar description = recordData.description;\n\t\t\tvar unitPriceValues = recordData.unitPriceValues;\n\t\t\tvar unitPriceValuesJson = JSON.stringify(unitPriceValues);\n\t\t\t// Load taxses detail\n\t\t\tif (isGroupTax) {\n\t\t\t\tvar parameters = parentRow.closest('.inventoryItems').data('taxParam');\n\t\t\t\tif (parameters) {\n\t\t\t\t\ttaxParam = JSON.parse(parameters);\n\t\t\t\t}\n\t\t\t} else if (recordData['taxes']) {\n\t\t\t\ttaxParam = {aggregationType: recordData.taxes.type};\n\t\t\t\ttaxParam[recordData.taxes.type + 'Tax'] = recordData.taxes.value;\n\t\t\t}\n\t\t\tif (recordData['taxes']) {\n\t\t\t\tparentRow.find('.js-tax').attr('data-default-tax', App.Fields.Double.formatToDisplay(recordData.taxes.value));\n\t\t\t}\n\t\t\tthisInstance.setTaxParam(parentRow, taxParam);\n\t\t\tthisInstance.setTax(parentRow, 0);\n\t\t\t// Load auto fields\n\t\t\tfor (var field in recordData['autoFields']) {\n\t\t\t\tparentRow.find('input.' + field).val(recordData['autoFields'][field]);\n\t\t\t\tif (recordData['autoFields'][field + 'Text']) {\n\t\t\t\t\tparentRow.find('.' + field + 'Text').text(recordData['autoFields'][field + 'Text']);\n\t\t\t\t}\n\t\t\t}\n\t\t\tlet currencyId = thisInstance.getCurrency();\n\t\t\tif (currencyId && unitPriceValues && typeof unitPriceValues[currencyId] !== \"undefined\") {\n\t\t\t\tunitPrice = App.Fields.Double.formatToDb(unitPriceValues[currencyId]);\n\t\t\t} else if (recordData.price !== undefined) {\n\t\t\t\tunitPrice = recordData.price;\n\t\t\t}\n\t\t\tif (unitPrice) {\n\t\t\t\tthisInstance.setUnitPrice(parentRow, unitPrice);\n\t\t\t}\n\t\t\tif (unitPriceValuesJson !== undefined) {\n\t\t\t\t$('input.unitPrice', parentRow).attr('list-info', unitPriceValuesJson);\n\t\t\t}\n\t\t\tvar commentElement = $('textarea.commentTextarea', parentRow.next());\n\t\t\tvar editorInstance = CKEDITOR.instances[commentElement.attr('id')];\n\t\t\tif (editorInstance) {\n\t\t\t\teditorInstance.setData(description);\n\t\t\t} else {\n\t\t\t\tcommentElement.val(description);\n\t\t\t}\n\t\t\tif (typeof recordData['autoFields']['unit'] !== \"undefined\") {\n\t\t\t\tunit = recordData['autoFields']['unit'];\n\t\t\t}\n\t\t\tthis.triggerQtyParam(unit, recordData.qtyPerUnit, parentRow);\n\t\t}\n\t\tif (referenceModule === 'Products') {\n\t\t\tthisInstance.loadSubProducts(parentRow, true);\n\t\t}\n\t\tthisInstance.quantityChangeActions(parentRow);\n\t},\n\t/**\n\t * Update qtyparam\n\t * @param {null|string} unit\n\t * @param int perUnit\n\t * @param {jQuery} parentRow\n\t */\n\ttriggerQtyParam(unit, perUnit, parentRow) {\n\t\tlet validationEngine;\n\t\tswitch (unit) {\n\t\t\tdefault:\n\t\t\t\t$('.qtyParamInfo', parentRow).addClass('d-none');\n\t\t\t\tvalidationEngine = 'validate[required,funcCall[Vtiger_NumberUserFormat_Validator_Js.invokeValidation]]';\n\t\t\t\tbreak;\n\t\t\tcase 'pack':\n\t\t\t\t$('.qtyParamInfo', parentRow).removeClass('d-none').removeClass('active');\n\t\t\t\t$('.qtyParamInfo', parentRow).attr('data-content', perUnit);\n\t\t\t\tvalidationEngine = 'validate[required,funcCall[Vtiger_WholeNumber_Validator_Js.invokeValidation]]';\n\t\t\t\tbreak;\n\t\t\tcase 'pcs':\n\t\t\t\t$('.qtyParamInfo', parentRow).addClass('d-none');\n\t\t\t\tvalidationEngine = 'validate[required,funcCall[Vtiger_WholeNumber_Validator_Js.invokeValidation]]';\n\t\t\t\tbreak;\n\t\t}\n\t\t$('input.qty', parentRow).attr('data-validation-engine', validationEngine);\n\t},\n\tsaveDiscountsParameters: function (parentRow, modal) {\n\t\tvar thisInstance = this;\n\t\tvar info = {};\n\t\tvar extend = ['aggregationType', 'groupCheckbox', 'individualDiscountType'];\n\t\t$.each(thisInstance.discountModalFields, function (index, param) {\n\t\t\tif ($.inArray(param, extend) >= 0) {\n\t\t\t\tif (modal.find('[name=\"' + param + '\"]:checked').length > 1) {\n\t\t\t\t\tinfo[param] = [];\n\t\t\t\t\tmodal.find('[name=\"' + param + '\"]:checked').each(function (index) {\n\t\t\t\t\t\tinfo[param].push($(this).val());\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\tinfo[param] = modal.find('[name=\"' + param + '\"]:checked').val();\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tvar value = modal.find('[name=\"' + param + '\"]').val()\n\t\t\t\tif (param === 'individualDiscount') {\n\t\t\t\t\tvalue = App.Fields.Double.formatToDb(modal.find('[name=\"' + param + '\"]').val());\n\t\t\t\t}\n\t\t\t\tinfo[param] = value;\n\t\t\t}\n\t\t});\n\t\tthisInstance.setDiscountParam($('#blackIthemTable'), info);\n\t\tthisInstance.setDiscountParam(parentRow, info);\n\t},\n\tsaveTaxsParameters: function (parentRow, modal) {\n\t\tvar thisInstance = this;\n\t\tvar info = {};\n\t\tvar extend = ['aggregationType', 'groupCheckbox', 'individualTaxType'];\n\t\t$.each(thisInstance.taxModalFields, function (index, param) {\n\t\t\tif ($.inArray(param, extend) >= 0) {\n\t\t\t\tif (modal.find('[name=\"' + param + '\"]:checked').length > 1) {\n\t\t\t\t\tinfo[param] = [];\n\t\t\t\t\tmodal.find('[name=\"' + param + '\"]:checked').each(function (index) {\n\t\t\t\t\t\tinfo[param].push($(this).val());\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\tinfo[param] = modal.find('[name=\"' + param + '\"]:checked').val();\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tinfo[param] = modal.find('[name=\"' + param + '\"]').val();\n\t\t\t}\n\t\t});\n\t\tparentRow.data('taxParam', JSON.stringify(info));\n\t\tthisInstance.setTaxParam(parentRow, info);\n\t\tthisInstance.setTaxParam($('#blackIthemTable'), info);\n\t},\n\tshowExpandedRow: function (row) {\n\t\tvar thisInstance = this;\n\t\tvar items = thisInstance.getInventoryItemsContainer();\n\t\tvar inventoryRowExpanded = items.find('[numrowex=\"' + row.attr('numrow') + '\"]');\n\t\tvar element = row.find('.toggleVisibility');\n\t\telement.data('status', '1');\n\t\tinventoryRowExpanded.removeClass('d-none');\n\t\tvar listInstance = Vtiger_Edit_Js.getInstance();\n\t\t$.each(inventoryRowExpanded.find('.js-editor'), function (key, data) {\n\t\t\tlistInstance.loadEditorElement($(data));\n\t\t});\n\t},\n\thideExpandedRow: function (row) {\n\t\tvar thisInstance = this;\n\t\tvar items = thisInstance.getInventoryItemsContainer();\n\t\tvar inventoryRowExpanded = items.find('[numrowex=\"' + row.attr('numrow') + '\"]');\n\t\tvar element = row.find('.toggleVisibility');\n\t\telement.data('status', '0');\n\t\tinventoryRowExpanded.addClass('d-none');\n\t\t$.each(inventoryRowExpanded.find('.js-editor'), function (key, data) {\n\t\t\tvar editorInstance = CKEDITOR.instances[$(data).attr('id')];\n\t\t\tif (editorInstance) {\n\t\t\t\teditorInstance.destroy();\n\t\t\t}\n\t\t});\n\t},\n\tinitDiscountsParameters: function (parentRow, modal) {\n\t\tvar thisInstance = this;\n\t\tvar parameters = parentRow.find('.discountParam').val();\n\t\tif (parameters == '' || parameters == undefined) {\n\t\t\treturn;\n\t\t}\n\t\tparameters = JSON.parse(parameters);\n\t\t$.each(thisInstance.discountModalFields, function (index, param) {\n\t\t\tvar parameter = parameters[param];\n\t\t\tvar field = modal.find('[name=\"' + param + '\"]');\n\n\t\t\tif (field.attr('type') == 'checkbox' || field.attr('type') == 'radio') {\n\t\t\t\tvar array = parameter;\n\t\t\t\tif (!$.isArray(array)) {\n\t\t\t\t\tarray = [array];\n\t\t\t\t}\n\t\t\t\t$.each(array, function (index, arrayValue) {\n\t\t\t\t\tvar value = field.filter('[value=\"' + arrayValue + '\"]').prop('checked', true);\n\t\t\t\t\tif (param == 'aggregationType') {\n\t\t\t\t\t\tvalue.closest('.js-panel').find('.js-panel__body').removeClass('d-none');\n\t\t\t\t\t\tvalue.closest('.js-panel').addClass('js-active');\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t} else if (field.prop(\"tagName\") == 'SELECT') {\n\t\t\t\tfield.find('option[value=\"' + parameter + '\"]').prop('selected', 'selected').change();\n\t\t\t} else {\n\t\t\t\tmodal.find('[name=\"' + param + '\"]').val(parameter);\n\t\t\t}\n\t\t});\n\n\t\tthisInstance.calculateDiscount(parentRow, modal);\n\t},\n\tinitTaxParameters: function (parentRow, modal) {\n\t\tconst thisInstance = this;\n\t\tlet parameters;\n\t\tif (parentRow.data('taxParam')) {\n\t\t\tparameters = parentRow.data('taxParam');\n\t\t} else {\n\t\t\tparameters = parentRow.find('.taxParam').val();\n\t\t}\n\t\tif (!parameters) {\n\t\t\treturn;\n\t\t}\n\t\tparameters = JSON.parse(parameters.toString());\n\t\t$.each(thisInstance.taxModalFields, function (index, param) {\n\t\t\tlet parameter = parameters[param],\n\t\t\t\tfield = modal.find('[name=\"' + param + '\"]');\n\n\t\t\tif (field.attr('type') === 'checkbox' || field.attr('type') === 'radio') {\n\t\t\t\tlet array = parameter,\n\t\t\t\t\tvalue;\n\t\t\t\tif (!$.isArray(array)) {\n\t\t\t\t\tarray = [array];\n\t\t\t\t}\n\t\t\t\t$.each(array, function (index, arrayValue) {\n\t\t\t\t\tvalue = field.filter('[value=\"' + arrayValue + '\"]').prop('checked', true);\n\t\t\t\t\tif (param === 'aggregationType') {\n\t\t\t\t\t\tvalue.closest('.js-panel').find('.js-panel__body').removeClass('d-none');\n\t\t\t\t\t\tvalue.closest('.js-panel').addClass('js-active');\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t} else if (field.prop(\"tagName\") === 'SELECT') {\n\t\t\t\tfield.find('option[value=\"' + parameter + '\"]').prop('selected', 'selected').change();\n\t\t\t} else {\n\t\t\t\tlet input = modal.find('[name=\"' + param + '\"]')\n\t\t\t\tinput.val(parameter);\n\t\t\t\tif (param === 'individualTax') {\n\t\t\t\t\tinput.formatNumber();\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t\tthisInstance.calculateTax(parentRow, modal);\n\t},\n\tlimitEnableSave: false,\n\tcheckLimits: function () {\n\t\tvar thisInstance = this;\n\t\tvar account = thisInstance.getAccountId();\n\t\tvar limit = parseInt(app.getMainParams('inventoryLimit'));\n\t\tvar response = true;\n\n\t\tif (account == '' || thisInstance.limitEnableSave || !limit) {\n\t\t\treturn response;\n\t\t}\n\n\t\tvar params = {};\n\t\tparams.data = {\n\t\t\tmodule: app.getModuleName(),\n\t\t\taction: 'Inventory',\n\t\t\tmode: 'checkLimits',\n\t\t\trecord: account,\n\t\t\tcurrency: thisInstance.getCurrency(),\n\t\t\tprice: thisInstance.getSummaryGrossPrice()\n\t\t};\n\t\tparams.async = false;\n\t\tparams.dataType = 'json';\n\t\tvar progressInstace = $.progressIndicator();\n\t\tAppConnector.request(params).done(function (data) {\n\t\t\tprogressInstace.hide();\n\t\t\tif (data.result.status == false) {\n\t\t\t\tapp.showModalWindow(data.result.html, function (data) {\n\t\t\t\t});\n\t\t\t\tresponse = false;\n\t\t\t}\n\t\t}).fail(function (error, err) {\n\t\t\t\tprogressInstace.hide();\n\t\t\t}\n\t\t);\n\t\treturn response;\n\t},\n\tcurrencyChangeActions: function (select, option) {\n\t\tif (option.data('baseCurrency') !== select.val()) {\n\t\t\tthis.showCurrencyChangeModal(select, option);\n\t\t} else {\n\t\t\tthis.currencyConvertValues(select, option);\n\t\t\tselect.data('oldValue', select.val());\n\t\t}\n\t},\n\tshowCurrencyChangeModal: function (select, option) {\n\t\tvar thisInstance = this;\n\t\tif (thisInstance.lockCurrencyChange == true) {\n\t\t\treturn;\n\t\t}\n\t\tthisInstance.lockCurrencyChange = true;\n\t\tvar block = select.closest('th');\n\t\tvar modal = block.find('.modelContainer').clone();\n\t\tapp.showModalWindow(modal, function (data) {\n\t\t\tvar modal = $(data);\n\t\t\tvar currencyParam = JSON.parse(block.find('.js-currencyparam').val());\n\n\t\t\tif (currencyParam != false) {\n\t\t\t\tif (typeof currencyParam[option.val()] === \"undefined\") {\n\t\t\t\t\tvar defaultCurrencyParams = {\n\t\t\t\t\t\tvalue: 1,\n\t\t\t\t\t\tdate: ''\n\t\t\t\t\t};\n\t\t\t\t\tcurrencyParam[option.val()] = defaultCurrencyParams;\n\t\t\t\t}\n\t\t\t\tmodal.find('.currencyName').text(option.text());\n\t\t\t\tmodal.find('.currencyRate').val(currencyParam[option.val()]['value']);\n\t\t\t\tmodal.find('.currencyDate').text(currencyParam[option.val()]['date']);\n\t\t\t}\n\t\t\tmodal.on('click', 'button[type=\"submit\"]', function (e) {\n\t\t\t\tvar rate = modal.find('.currencyRate').val();\n\t\t\t\tvar value = App.Fields.Double.formatToDb(rate);\n\t\t\t\tvar conversionRate = 1 / App.Fields.Double.formatToDb(rate);\n\n\t\t\t\toption.data('conversionRate', conversionRate);\n\t\t\t\tcurrencyParam[option.val()] = {\n\t\t\t\t\tdate: option.data('conversionDate'),\n\t\t\t\t\tvalue: value.toString(),\n\t\t\t\t\tconversion: conversionRate.toString()\n\t\t\t\t};\n\t\t\t\tblock.find('.js-currencyparam').val(JSON.stringify(currencyParam));\n\n\t\t\t\tthisInstance.currencyConvertValues(select, option);\n\t\t\t\tselect.data('oldValue', select.val());\n\t\t\t\tapp.hideModalWindow();\n\t\t\t\tthisInstance.lockCurrencyChange = false;\n\t\t\t}).one('hidden.bs.modal', function () {\n\t\t\t\tselect.val(select.data('oldValue')).change();\n\t\t\t\tthisInstance.lockCurrencyChange = false;\n\t\t\t});\n\t\t});\n\t},\n\tcurrencyConvertValues: function (select, selected) {\n\t\tvar thisInstance = this;\n\n\t\tvar previous = select.find('option[value=\"' + select.data('oldValue') + '\"]');\n\t\tvar conversionRate = selected.data('conversionRate');\n\t\tvar prevConversionRate = previous.data('conversionRate');\n\t\tconversionRate = parseFloat(conversionRate) / parseFloat(prevConversionRate);\n\n\t\tthis.getInventoryItemsContainer().find(thisInstance.rowClass).each(function (index) {\n\t\t\tvar row = $(this);\n\n\t\t\tthisInstance.setUnitPrice(row, App.Fields.Double.formatToDb(thisInstance.getUnitPriceValue(row) * conversionRate));\n\t\t\tthisInstance.setDiscount(row, App.Fields.Double.formatToDb(thisInstance.getDiscount(row) * conversionRate));\n\t\t\tthisInstance.setTax(row, App.Fields.Double.formatToDb(thisInstance.getTax(row) * conversionRate));\n\t\t\tthisInstance.quantityChangeActions(row);\n\t\t});\n\t},\n\t/**\n\t * Set up all row data that comes from request\n\t * @param {jQuery} row\n\t * @param {object} rowData\n\t */\n\tsetRowData(row, rowData) {\n\t\tthis.setName(row, rowData.name, rowData.info.name);\n\t\tthis.setQuantity(row, rowData.qty);\n\t\tthis.setUnit(row, rowData.info.autoFields.unit, rowData.info.autoFields.unitText);\n\t\tif (typeof rowData.info.autoFields !== 'undefined' && typeof rowData.info.autoFields.subunit !== 'undefined') {\n\t\t\tthis.setSubUnit(row, rowData.info.autoFields.subunit, rowData.info.autoFields.subunitText);\n\t\t}\n\t\tthis.setComment(row, rowData.comment1);\n\t\tthis.setUnitPrice(row, rowData.price);\n\t\tthis.setNetPrice(row, rowData.net);\n\t\tthis.setGrossPrice(row, rowData.gross);\n\t\tthis.setTotalPrice(row, rowData.total);\n\t\tthis.setDiscountParam(row, JSON.parse(rowData.discountparam));\n\t\tthis.setDiscount(row, rowData.discount);\n\t\tthis.setTaxParam(row, JSON.parse(rowData.taxparam));\n\t\tthis.setTax(row, rowData.tax);\n\t},\n\t/**\n\t * Add new row to inventory list\n\t * @param {string} module\n\t * @param {string} baseTableId\n\t * @param {object} rowData [optional]\n\t */\n\taddItem(module, baseTableId, rowData = false) {\n\t\tconst items = this.getInventoryItemsContainer();\n\t\tlet newRow = this.getBasicRow();\n\t\tconst sequenceNumber = this.getNextLineItemRowNumber();\n\t\tconst replaced = newRow.html().replace(/\\_NUM_/g, sequenceNumber);\n\t\tnewRow.html(replaced);\n\t\tnewRow = newRow.children().appendTo(items.find('.js-inventory-items-body'));\n\t\tnewRow.find('.rowName input[name=\"popupReferenceModule\"]').val(module).data('field', baseTableId);\n\t\tnewRow.find('.js-module-icon').removeClass().addClass(`userIcon-${module}`);\n\t\tnewRow.find('.colPicklistField select').each(function (index, select) {\n\t\t\tselect = $(select);\n\t\t\tselect.find('option').each(function (index, option) {\n\t\t\t\toption = $(option);\n\t\t\t\tif (option.data('module') !== module) {\n\t\t\t\t\toption.remove();\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\t\tthis.initItem(newRow);\n\t\tVtiger_Edit_Js.getInstance().registerAutoCompleteFields(newRow);\n\t\tif (rowData) {\n\t\t\tthis.setRowData(newRow, rowData);\n\t\t}\n\t},\n\n\t/**\n\t * Register add item button click\n\t * @param {jQuery} container\n\t */\n\tregisterAddItem() {\n\t\tconst thisInstance = this;\n\t\tthisInstance.form.find('.js-add-item').on('click', function (e) {\n\t\t\tconst btn = $(this);\n\t\t\tthisInstance.addItem(btn.data('module'), btn.data('field'));\n\t\t});\n\t},\n\tregisterSortableItems: function () {\n\t\tvar thisInstance = this;\n\t\tvar items = thisInstance.getInventoryItemsContainer();\n\t\titems.sortable({\n\t\t\thandle: '.dragHandle',\n\t\t\titems: thisInstance.rowClass,\n\t\t\trevert: true,\n\t\t\ttolerance: 'pointer',\n\t\t\tplaceholder: \"ui-state-highlight\",\n\t\t\thelper: function (e, ui) {\n\t\t\t\tui.children().each(function (index, element) {\n\t\t\t\t\telement = $(element);\n\t\t\t\t\telement.width(element.width());\n\t\t\t\t});\n\t\t\t\treturn ui;\n\t\t\t},\n\t\t\tstart: function (event, ui) {\n\t\t\t\titems.find(thisInstance.rowClass).each(function (index, element) {\n\t\t\t\t\tvar row = $(element);\n\t\t\t\t\tthisInstance.hideExpandedRow(row);\n\t\t\t\t});\n\t\t\t\tui.item.startPos = ui.item.index();\n\t\t\t},\n\t\t\tstop: function (event, ui) {\n\t\t\t\tvar numrow = $(ui.item).attr('numrow');\n\t\t\t\tvar child = items.find('.numRow' + numrow).remove().clone();\n\t\t\t\titems.find('[numrow=\"' + numrow + '\"]').after(child);\n\t\t\t\tif (ui.item.startPos < ui.item.index()) {\n\t\t\t\t\tchild = items.find('.numRow' + numrow).next().remove().clone();\n\t\t\t\t\titems.find('[numrow=\"' + numrow + '\"]').before(child);\n\t\t\t\t}\n\t\t\t\tthisInstance.updateRowSequence();\n\t\t\t}\n\t\t});\n\t},\n\tregisterShowHideExpanded: function () {\n\t\tconst thisInstance = this;\n\t\tthisInstance.form.on('click', '.toggleVisibility', function (e) {\n\t\t\tvar element = $(e.currentTarget);\n\t\t\tvar row = thisInstance.getClosestRow(element);\n\t\t\tif (element.data('status') == 0) {\n\t\t\t\tthisInstance.showExpandedRow(row);\n\t\t\t} else {\n\t\t\t\tthisInstance.hideExpandedRow(row);\n\t\t\t}\n\t\t});\n\t},\n\tregisterPriceBookModal: function (container) {\n\t\tvar thisInstance = this;\n\t\tcontainer.on('click', '.js-price-book-modal', function (e) {\n\t\t\tvar element = $(e.currentTarget);\n\t\t\tvar response = thisInstance.isRecordSelected(element);\n\t\t\tif (response == true) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tthisInstance.pricebooksModalHandler(element);\n\t\t});\n\t},\n\tregisterRowChangeEvent: function (container) {\n\t\tcontainer.on('focusout', '.qty', (e) => {\n\t\t\tlet element = $(e.currentTarget);\n\t\t\telement.formatNumber();\n\t\t\tthis.quantityChangeActions(this.getClosestRow(element));\n\t\t});\n\t\tcontainer.on('focusout', '.unitPrice', (e) => {\n\t\t\tlet element = $(e.currentTarget);\n\t\t\telement.formatNumber();\n\t\t\tthis.quantityChangeActions(this.getClosestRow(element));\n\t\t});\n\t\tcontainer.on('focusout', '.purchase', (e) => {\n\t\t\tlet element = $(e.currentTarget);\n\t\t\telement.formatNumber();\n\t\t\tthis.quantityChangeActions(this.getClosestRow(element));\n\t\t});\n\t\tvar headContainer = this.getInventoryHeadContainer();\n\t\theadContainer.on('change', '.js-taxmode', (e) => {\n\t\t\tlet element = $(e.currentTarget);\n\t\t\tthis.showIndividualTax(this.getClosestRow(element));\n\t\t\tthis.rowsCalculations();\n\t\t});\n\t\theadContainer.on('change', '.js-discountmode', (e) => {\n\t\t\tlet element = $(e.currentTarget);\n\t\t\tthis.showIndividualDiscount(this.getClosestRow(element));\n\t\t\tthis.rowsCalculations();\n\t\t});\n\t},\n\tregisterSubProducts: function () {\n\t\tconst thisInstance = this;\n\t\tthisInstance.form.find('.inventoryItems ' + thisInstance.rowClass).each(function (index) {\n\t\t\tthisInstance.loadSubProducts($(this), false);\n\t\t});\n\t},\n\t/**\n\t * Register clear reference selection\n\t */\n\tregisterClearReferenceSelection() {\n\t\tthis.form.on('click', '.clearReferenceSelection', (e) => {\n\t\t\tconst row = this.getClosestRow($(e.currentTarget));\n\t\t\tthis.removeSubProducts(row);\n\t\t\trow.find('.unitPrice,.tax,.discount,.margin,.purchase').val(App.Fields.Double.formatToDisplay(0));\n\t\t\trow.find('.qty').val(1);\n\t\t\trow.find('textarea,.valueVal').val('');\n\t\t\trow.find('.valueText').text('');\n\t\t\trow.find('.qtyParamInfo').addClass('d-none');\n\t\t\trow.find('.recordLabel').val('').removeAttr('readonly');\n\t\t\tif (!this.isGroupTaxMode()) {\n\t\t\t\tthis.setTaxParam(row, []);\n\t\t\t}\n\t\t\tthis.quantityChangeActions(row);\n\t\t});\n\t},\n\tregisterDeleteLineItemEvent: function (container) {\n\t\tvar thisInstance = this;\n\t\tcontainer.on('click', '.deleteRow', function (e) {\n\t\t\tlet num = thisInstance.getClosestRow($(e.currentTarget)).attr('numrow');\n\t\t\tthisInstance.getInventoryItemsContainer().find('[numrow=\"' + num + '\"], [numrowex=\"' + num + '\"]').remove();\n\t\t\tthisInstance.checkDeleteIcon();\n\t\t\tthisInstance.rowsCalculations();\n\t\t\tif (thisInstance.getInventoryItemsContainer().find('.inventoryRow').length === 0) {\n\t\t\t\t$('#inventoryItemsNo').val(0);\n\t\t\t}\n\t\t\tthisInstance.updateRowSequence();\n\t\t});\n\t},\n\tregisterChangeDiscount: function () {\n\t\tvar thisInstance = this;\n\t\tthisInstance.form.on('click', '.changeDiscount', function (e) {\n\t\t\tvar parentRow;\n\t\t\tvar element = $(e.currentTarget);\n\t\t\tvar params = {\n\t\t\t\tmodule: app.getModuleName(),\n\t\t\t\tview: 'Inventory',\n\t\t\t\tmode: 'showDiscounts',\n\t\t\t\tcurrency: thisInstance.getCurrency(),\n\t\t\t\trelatedRecord: thisInstance.getAccountId()\n\t\t\t};\n\t\t\tif (element.hasClass('groupDiscount')) {\n\t\t\t\tparentRow = thisInstance.getInventoryItemsContainer();\n\t\t\t\tif (parentRow.find('tfoot .colTotalPrice').length != 0) {\n\t\t\t\t\tparams.totalPrice = App.Fields.Double.formatToDb(parentRow.find('tfoot .colTotalPrice').text());\n\t\t\t\t} else {\n\t\t\t\t\tparams.totalPrice = 0;\n\t\t\t\t}\n\t\t\t\tparams.discountType = 1;\n\t\t\t} else {\n\t\t\t\tparentRow = element.closest(thisInstance.rowClass);\n\t\t\t\tparams.totalPrice = thisInstance.getTotalPrice(parentRow);\n\t\t\t\tparams.discountType = 0;\n\t\t\t}\n\n\t\t\tvar progressInstace = $.progressIndicator();\n\t\t\tAppConnector.request(params).done(function (data) {\n\t\t\t\tapp.showModalWindow(data, function (data) {\n\t\t\t\t\tthisInstance.initDiscountsParameters(parentRow, $(data));\n\t\t\t\t\tthisInstance.registerChangeDiscountModal(data, parentRow, params);\n\t\t\t\t});\n\t\t\t\tprogressInstace.hide();\n\t\t\t}).fail(function (error, err) {\n\t\t\t\tprogressInstace.hide();\n\t\t\t});\n\t\t});\n\t},\n\tregisterChangeDiscountModal: function (modal, parentRow, params) {\n\t\tvar thisInstance = this;\n\t\tmodal.on('change', '.individualDiscountType', function (e) {\n\t\t\tvar element = $(e.currentTarget);\n\t\t\tmodal.find('.individualDiscountContainer .input-group-text').text(element.data('symbol'));\n\t\t});\n\t\tmodal.on('change', '.activeCheckbox[name=\"aggregationType\"]', function (e) {\n\t\t\tvar element = $(e.currentTarget);\n\n\t\t\tif (element.attr('type') == 'checkbox' && this.checked) {\n\t\t\t\telement.closest('.js-panel').find('.js-panel__body').removeClass('d-none');\n\t\t\t\telement.closest('.js-panel').addClass('js-active');\n\t\t\t} else if (element.attr('type') == 'radio') {\n\t\t\t\tmodal.find('.js-panel').removeClass('js-active');\n\t\t\t\tmodal.find('.js-panel .js-panel__body').addClass('d-none');\n\t\t\t\telement.closest('.js-panel').find('.js-panel__body').removeClass('d-none');\n\t\t\t\telement.closest('.js-panel').addClass('js-active');\n\t\t\t} else {\n\t\t\t\telement.closest('.js-panel').find('.js-panel__body').addClass('d-none');\n\t\t\t\telement.closest('.js-panel').removeClass('js-active');\n\t\t\t}\n\t\t});\n\t\tmodal.on('change', '.activeCheckbox, .globalDiscount,.individualDiscountValue,.individualDiscountType,.groupCheckbox', function (e) {\n\t\t\tthisInstance.calculateDiscount(parentRow, modal);\n\t\t});\n\t\tmodal.on('click', '.saveDiscount', function (e) {\n\t\t\tthisInstance.saveDiscountsParameters(parentRow, modal);\n\t\t\tif (params.discountType == 0) {\n\t\t\t\tthisInstance.setDiscount(parentRow, App.Fields.Double.formatToDb(modal.find('.valueDiscount').text()));\n\t\t\t\tthisInstance.quantityChangeActions(parentRow);\n\t\t\t} else {\n\t\t\t\tvar rate = App.Fields.Double.formatToDb(modal.find('.valueDiscount').text()) / App.Fields.Double.formatToDb(modal.find('.valueTotalPrice').text());\n\t\t\t\tparentRow.find(thisInstance.rowClass).each(function (index) {\n\t\t\t\t\tthisInstance.setDiscount($(this), thisInstance.getTotalPrice($(this)) * rate);\n\t\t\t\t\tthisInstance.quantityChangeActions($(this));\n\t\t\t\t});\n\t\t\t}\n\t\t\tapp.hideModalWindow();\n\t\t});\n\t},\n\tregisterChangeTax: function () {\n\t\tconst thisInstance = this;\n\t\tthisInstance.form.on('click', '.changeTax', function (e) {\n\t\t\tvar parentRow;\n\t\t\tvar element = $(e.currentTarget);\n\t\t\tvar params = {\n\t\t\t\tmodule: app.getModuleName(),\n\t\t\t\tview: 'Inventory',\n\t\t\t\tmode: 'showTaxes',\n\t\t\t\tcurrency: thisInstance.getCurrency(),\n\t\t\t\tsourceRecord: app.getRecordId()\n\t\t\t};\n\t\t\tif (element.hasClass('groupTax')) {\n\t\t\t\tparentRow = thisInstance.getInventoryItemsContainer();\n\t\t\t\tvar totalPrice = 0;\n\t\t\t\tif (parentRow.find('tfoot .colNetPrice').length > 0) {\n\t\t\t\t\ttotalPrice = parentRow.find('tfoot .colNetPrice').text();\n\t\t\t\t} else if (parentRow.find('tfoot .colTotalPrice ').length > 0) {\n\t\t\t\t\ttotalPrice = parentRow.find('tfoot .colTotalPrice ').text();\n\t\t\t\t}\n\t\t\t\tparams.totalPrice = App.Fields.Double.formatToDb(totalPrice);\n\t\t\t\tparams.taxType = 1;\n\t\t\t} else {\n\t\t\t\tparentRow = element.closest(thisInstance.rowClass);\n\t\t\t\tparams.totalPrice = thisInstance.getNetPrice(parentRow);\n\t\t\t\tparams.taxType = 0;\n\t\t\t\tparams.record = parentRow.find('.rowName .sourceField').val();\n\t\t\t\tparams.recordModule = parentRow.find('.rowName [name=\"popupReferenceModule\"]').val();\n\t\t\t}\n\t\t\tvar progressInstace = $.progressIndicator();\n\t\t\tAppConnector.request(params).done(function (data) {\n\t\t\t\tapp.showModalWindow(data, function (data) {\n\t\t\t\t\tthisInstance.initTaxParameters(parentRow, $(data));\n\t\t\t\t\tthisInstance.registerChangeTaxModal(data, parentRow, params);\n\t\t\t\t});\n\t\t\t\tprogressInstace.hide();\n\t\t\t}).fail(function (error, err) {\n\t\t\t\tprogressInstace.hide();\n\t\t\t});\n\t\t});\n\t},\n\tlockCurrencyChange: false,\n\tregisterChangeCurrency() {\n\t\tthis.getInventoryHeadContainer().on('change', '.js-currency', (e) => {\n\t\t\tlet element = $(e.currentTarget),\n\t\t\t\tsymbol = element.find('option:selected').data('conversionSymbol');\n\t\t\tthis.currencyChangeActions(element, element.find('option:selected'));\n\t\t\tthis.form.find('.currencySymbol').text(symbol);\n\t\t});\n\t},\n\tregisterChangeTaxModal: function (modal, parentRow, params) {\n\t\tvar thisInstance = this;\n\t\tmodal.on('change', '.individualTaxType', function (e) {\n\t\t\tvar element = $(e.currentTarget);\n\t\t\tmodal.find('.individualTaxContainer .input-group-text').text(element.data('symbol'));\n\t\t});\n\t\tmodal.on('change', '.activeCheckbox[name=\"aggregationType\"]', function (e) {\n\t\t\tvar element = $(e.currentTarget);\n\n\t\t\tif (element.attr('type') == 'checkbox' && this.checked) {\n\t\t\t\telement.closest('.js-panel').find('.js-panel__body').removeClass('d-none');\n\t\t\t\telement.closest('.js-panel').addClass('js-active');\n\t\t\t} else if (element.attr('type') == 'radio') {\n\t\t\t\tmodal.find('.js-panel').removeClass('js-active');\n\t\t\t\tmodal.find('.js-panel .js-panel__body').addClass('d-none');\n\t\t\t\telement.closest('.js-panel').find('.js-panel__body').removeClass('d-none');\n\t\t\t\telement.closest('.js-panel').addClass('js-active');\n\t\t\t} else {\n\t\t\t\telement.closest('.js-panel').find('.js-panel__body').addClass('d-none');\n\t\t\t\telement.closest('.js-panel').removeClass('js-active');\n\t\t\t}\n\t\t});\n\t\tmodal.on('change', '.activeCheckbox, .globalTax, .individualTaxValue, .groupTax, .regionalTax', function (e) {\n\t\t\tthisInstance.calculateTax(parentRow, modal);\n\t\t});\n\t\tmodal.on('click', '.saveTaxs', function (e) {\n\t\t\tthisInstance.saveTaxsParameters(parentRow, modal);\n\t\t\tif (params.taxType == '0') {\n\t\t\t\tthisInstance.setTax(parentRow, App.Fields.Double.formatToDb(modal.find('.valueTax').text()));\n\t\t\t\tthisInstance.quantityChangeActions(parentRow);\n\t\t\t} else {\n\t\t\t\tvar rate = App.Fields.Double.formatToDb(modal.find('.valueTax').text()) / App.Fields.Double.formatToDb(modal.find('.valueNetPrice').text());\n\t\t\t\tparentRow.find(thisInstance.rowClass).each(function (index) {\n\t\t\t\t\tvar totalPrice;\n\t\t\t\t\tif ($('.netPrice', $(this)).length > 0) {\n\t\t\t\t\t\ttotalPrice = thisInstance.getNetPrice($(this));\n\t\t\t\t\t} else if ($('.totalPrice', $(this)).length > 0) {\n\t\t\t\t\t\ttotalPrice = thisInstance.getTotalPrice($(this));\n\t\t\t\t\t}\n\t\t\t\t\tthisInstance.setTax($(this), totalPrice * rate);\n\t\t\t\t\tthisInstance.quantityChangeActions($(this));\n\t\t\t\t});\n\t\t\t}\n\t\t\tapp.hideModalWindow();\n\t\t});\n\t},\n\tregisterRowAutoComplete: function (container) {\n\t\tconst thisInstance = this;\n\t\tlet sourceFieldElement = container.find('.sourceField.js-name');\n\t\tsourceFieldElement.on(Vtiger_Edit_Js.referenceSelectionEvent, function (e, params) {\n\t\t\tvar record = params.record;\n\t\t\tvar element = $(e.currentTarget);\n\t\t\tvar parentRow = element.closest(thisInstance.rowClass);\n\t\t\tvar selectedModule = parentRow.find('.rowName [name=\"popupReferenceModule\"]').val();\n\t\t\tvar dataUrl = \"index.php?module=\" + app.getModuleName() + \"&action=Inventory&mode=getDetails&record=\" + record + '&fieldname=' + element.data('columnname');\n\t\t\tif (thisInstance.getCurrency()) {\n\t\t\t\tdataUrl += \"&currency_id=\" + thisInstance.getCurrency();\n\t\t\t}\n\t\t\tAppConnector.request(dataUrl).done(function (data) {\n\t\t\t\tfor (var id in data) {\n\t\t\t\t\tif (typeof data[id] == \"object\") {\n\t\t\t\t\t\tvar recordData = data[id];\n\t\t\t\t\t\tthisInstance.mapResultsToFields(selectedModule, parentRow, recordData);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\t},\n\tcalculateItemNumbers: function () {\n\t\tvar thisInstance = this;\n\t\tvar items = this.getInventoryItemsContainer();\n\t\tvar i = 1;\n\t\titems.find(thisInstance.rowClass).each(function (index) {\n\t\t\t$(this).find('.itemNumberText').text(i);\n\t\t\ti++;\n\t\t});\n\t},\n\tinitItem: function (container) {\n\t\tlet thisInstance = this;\n\t\tif (typeof container === \"undefined\") {\n\t\t\tcontainer = thisInstance.getInventoryItemsContainer();\n\t\t}\n\t\tthisInstance.registerDeleteLineItemEvent(container);\n\t\tthisInstance.registerPriceBookModal(container);\n\t\tthisInstance.registerRowChangeEvent(container);\n\t\tthisInstance.registerRowAutoComplete(container);\n\t\tthisInstance.checkDeleteIcon();\n\t\tthisInstance.rowsCalculations();\n\t\tthisInstance.updateRowSequence();\n\t\tApp.Fields.Picklist.showSelect2ElementView(container.find('.selectInv'));\n\t\tApp.Fields.Date.register(container, true, {}, 'dateFieldInv');\n\t\tcontainer.validationEngine('detach');\n\t\tcontainer.validationEngine(app.validationEngineOptions);\n\t},\n\t/**\n\t * Load inventory data for specified record\n\t * @param {int} recordId\n\t * @param {string} sourceModule\n\t * @param {function|bool} success callback\n\t * @param {function|bool} fail callback\n\t * @returns Promise\n\t */\n\tloadInventoryData(recordId, sourceModule, success = false, fail = false) {\n\t\tconst progressLoader = $.progressIndicator({'blockInfo': {'enabled': true}});\n\t\treturn new Promise((resolve, reject) => {\n\t\t\tAppConnector.request({\n\t\t\t\tmodule: sourceModule,\n\t\t\t\taction: 'Inventory',\n\t\t\t\tmode: 'getTableData',\n\t\t\t\trecord: recordId\n\t\t\t}).done((response) => {\n\t\t\t\tlet activeModules = [];\n\t\t\t\tthis.getInventoryHeadContainer().find('.js-add-item').each((index, addBtn) => {\n\t\t\t\t\tactiveModules.push($(addBtn).data('module'));\n\t\t\t\t});\n\t\t\t\tprogressLoader.progressIndicator({mode: 'hide'});\n\t\t\t\tconst oldCurrencyChangeAction = this.currencyChangeActions;\n\t\t\t\tthis.currencyChangeActions = function changeCurrencyActions(select, option) {\n\t\t\t\t\tthis.currencyConvertValues(select, option);\n\t\t\t\t\tselect.data('oldValue', select.val());\n\t\t\t\t};\n\t\t\t\tconst first = response.result[Object.keys(response.result)[0]];\n\t\t\t\tthis.setCurrencyParam(first.currencyparam);\n\t\t\t\tthis.setCurrency(first.currency);\n\t\t\t\tthis.setDiscountMode(first.discountmode);\n\t\t\t\tthis.setTaxMode(first.taxmode);\n\t\t\t\tthis.currencyChangeActions = oldCurrencyChangeAction;\n\t\t\t\t$.each(response.result, (index, row) => {\n\t\t\t\t\tif (activeModules.indexOf(row.moduleName) !== -1) {\n\t\t\t\t\t\tthis.addItem(row.moduleName, row.basetableid, row);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tVtiger_Helper_Js.showMessage({\n\t\t\t\t\t\t\ttype: 'error',\n\t\t\t\t\t\t\ttext: app.vtranslate('JS_INVENTORY_ITEM_MODULE_NOT_FOUND').replace('${sourceModule}', row.moduleName).replace('${position}', row.info.name)\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\tthis.summaryCalculations();\n\t\t\t\tresolve(response.result);\n\t\t\t\tif (typeof success === 'function') {\n\t\t\t\t\tsuccess(response.result);\n\t\t\t\t}\n\t\t\t}).fail((error, err) => {\n\t\t\t\tprogressLoader.progressIndicator({mode: 'hide'});\n\t\t\t\treject(error, err);\n\t\t\t\tif (typeof fail === 'function') {\n\t\t\t\t\tfail(error, err);\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\t},\n\t/**\n\t * Function which will register all the events\n\t */\n\tregisterEvents: function (container) {\n\t\tthis.form = container;\n\t\tthis.registerInventorySaveData();\n\t\tthis.registerAddItem();\n\t\tthis.initItem();\n\t\tthis.registerSortableItems();\n\t\tthis.registerSubProducts();\n\t\tthis.registerChangeDiscount();\n\t\tthis.registerChangeTax();\n\t\tthis.registerClearReferenceSelection();\n\t\tthis.registerShowHideExpanded();\n\t\tthis.registerChangeCurrency();\n\t\tthis.setDefaultGlobalTax(container);\n\t}\n});\n"],"names":["$","Class","inventoryInstance","getInventoryInstance","container","find","val","moduleClassName","registerEvents","form","inventoryContainer","inventoryHeadContainer","summaryTaxesContainer","summaryDiscountContainer","summaryCurrenciesContainer","rowClass","discountModalFields","taxModalFields","getForm","getInventoryItemsContainer","getInventoryHeadContainer","getInventorySummaryDiscountContainer","getInventorySummaryTaxesContainer","getInventorySummaryCurrenciesContainer","getNextLineItemRowNumber","rowNumber","parseInt","$inventoryItemsNo","getAccountId","accountReferenceField","checkDeleteIcon","length","showLineItemsDeleteIcon","app","getMainParams","hideLineItemsDeleteIcon","removeClass","addClass","getClosestRow","element","closest","getBasicRow","eq","clone","isRecordSelected","productField","parentRow","validationEngine","getTaxModeSelectElement","row","isIndividualTaxMode","selectedOption","taxModeElement","isGroupTaxMode","taxTypeElement","showIndividualTax","groupTax","thisInstance","items","newRow","taxParam","aggregationType","each","App","Fields","Double","formatToDb","thisItem","attr","setTaxParam","setTax","setDefaultGlobalTax","rowsCalculations","taxDefaultValue","data","isGroupTax","formatToDisplay","JSON","stringify","quantityChangeActions","getDiscountModeSelectElement","isIndividualDiscountMode","discountModeElement","showIndividualDiscount","groupDiscount","setDiscount","setDiscountParam","getCurrency","getTax","getNumberFromValue","getTaxParams","parse","taxParams","getQuantityValue","getUnitPriceValue","getDiscount","getNetPrice","getTotalPrice","getGrossPrice","getPurchase","purchase","qty","getSummaryGrossPrice","price","setCurrency","trigger","setCurrencyParam","setDiscountMode","setTaxMode","setName","display","setQuantity","setUnit","text","setSubUnit","setComment","parent","setUnitPrice","setNetPrice","setGrossPrice","setTotalPrice","setMargin","setMarginP","rowCalculations","summaryCalculations","calculateTotalPrice","calculateDiscounts","calculateNetPrice","calculateTaxes","calculateGrossPrice","calculateMargin","calculateItemNumbers","discountParams","discountRate","types","forEach","entry","discountValue","individualDiscount","individualDiscountType","valuePrices","globalDiscount","taxRate","taxValue","individualTax","globalTax","regionalTax","calculatSummary","calculatDiscountSummary","calculatTaxSummary","calculatCurrenciesSummary","calculatMarginPSummary","field","sum","totalOrNet","sumRow","total","netPrice","purchasPrice","marginp","subtraction","discount","getAllDiscount","selected","base","conversionRate","baseConversionRate","parseFloat","getAllTaxs","html","taxs","index","value","appendTo","tax","typeSummary","params","param","name","old","precent","netPriceBeforeDiscount","margin","calculateDiscount","modal","discountsType","prop","panel","calculateTax","netPriceWithoutTax","taxType","updateRowSequence","registerInventorySaveData","on","Vtiger_Edit_Js","recordPreSave","syncHeaderData","checkLimits","table","removeAttr","header","pricebooksModalHandler","lineItemRow","rowName","showRecordsList","module","src_module","src_record","src_field","currency_id","instance","setSelectEvent","responseData","AppConnector","request","action","record","id","done","result","errorLog","subProductsCashe","loadSubProducts","indicator","recordId","recordModule","removeSubProducts","inArray","addSubProducts","progressIndicator","progressInstace","hide","fail","subProductsContainer","remove","append","priductText","mapResultsToFields","referenceModule","unitPrice","description","recordData","unitPriceValues","unitPriceValuesJson","parameters","taxes","type","currencyId","next","editorInstance","CKEDITOR","instances","commentElement","setData","unit","triggerQtyParam","qtyPerUnit","perUnit","saveDiscountsParameters","info","extend","push","saveTaxsParameters","showExpandedRow","inventoryRowExpanded","getInstance","key","listInstance","loadEditorElement","hideExpandedRow","destroy","initDiscountsParameters","parameter","isArray","array","arrayValue","filter","change","initTaxParameters","toString","input","formatNumber","limitEnableSave","account","limit","response","getModuleName","mode","currency","async","dataType","status","showModalWindow","currencyChangeActions","select","option","currencyConvertValues","showCurrencyChangeModal","lockCurrencyChange","block","currencyParam","date","rate","conversion","hideModalWindow","one","previous","prevConversionRate","setRowData","rowData","autoFields","unitText","subunit","subunitText","comment1","net","gross","discountparam","taxparam","addItem","baseTableId","sequenceNumber","replaced","replace","children","initItem","registerAutoCompleteFields","registerAddItem","btn","registerSortableItems","sortable","handle","revert","tolerance","placeholder","helper","e","ui","width","start","event","item","startPos","stop","child","numrow","after","before","registerShowHideExpanded","currentTarget","registerPriceBookModal","registerRowChangeEvent","headContainer","registerSubProducts","registerClearReferenceSelection","registerDeleteLineItemEvent","num","registerChangeDiscount","view","relatedRecord","hasClass","totalPrice","discountType","registerChangeDiscountModal","checked","registerChangeTax","sourceRecord","getRecordId","registerChangeTaxModal","registerChangeCurrency","symbol","registerRowAutoComplete","sourceFieldElement","referenceSelectionEvent","selectedModule","dataUrl","i","Picklist","showSelect2ElementView","Date","register","validationEngineOptions","loadInventoryData","sourceModule","success","progressLoader","resolve","reject","addBtn","activeModules","Object","keys","first","currencyparam","discountmode","taxmode","oldCurrencyChangeAction","indexOf","moduleName","Vtiger_Helper_Js","showMessage","vtranslate","basetableid","error","err"],"mappings":"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"}