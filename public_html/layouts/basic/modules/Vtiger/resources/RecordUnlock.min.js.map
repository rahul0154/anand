{"version":3,"file":"RecordUnlock.min.js","sources":["RecordUnlock.js"],"sourcesContent":["/* {[The file is published on the basis of YetiForce Public License 3.0 that can be found in the following directory: licenses/LicenseEN.txt or yetiforce.com]} */\n'use strict';\n\n$.Class(\"Base_RecordUnlock_JS\", {}, {\n\t/**\n\t * Register modal events\n\t * @param {jQuery} modalContainer\n\t */\n\tregisterEvents(modalContainer) {\n\t\tmodalContainer.find('form').on('submit', function (e) {\n\t\t\te.preventDefault();\n\t\t\tconst progressIndicator = $.progressIndicator({position: 'html', blockInfo: {enabled: true}});\n\t\t\tAppConnector.request($(this).serializeFormData()).done((response) => {\n\t\t\t\tlet result = response.result;\n\t\t\t\tif (result.success && result.url) {\n\t\t\t\t\tif (CONFIG.view === 'ListPreview') {\n\t\t\t\t\t\tapp.hideModalWindow();\n\t\t\t\t\t\t$('.listPreviewframe')[0].src = result.url.replace(\"view=Detail\", \"view=DetailPreview\");\n\t\t\t\t\t\tprogressIndicator.progressIndicator({mode: 'hide'});\n\t\t\t\t\t} else {\n\t\t\t\t\t\twindow.location.href = result.url;\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tVtiger_Helper_Js.showPnotify({text: app.vtranslate('JS_ERROR')});\n\t\t\t\t\tprogressIndicator.progressIndicator({mode: 'hide'});\n\t\t\t\t}\n\t\t\t})\n\t\t});\n\t}\n});"],"names":["$","Class","registerEvents","modalContainer","find","on","e","preventDefault","progressIndicator","position","blockInfo","enabled","AppConnector","request","serializeFormData","done","response","result","success","url","view","app","hideModalWindow","src","replace","mode","window","location","href","Vtiger_Helper_Js","showPnotify","text","vtranslate"],"mappings":";;AAGAA,EAAEC,KAAF,CAAQ,sBAAR,CAAgC,EAAhC,CAAoC,CAKnCC,cALmC,yBAKpBC,cALoB,CAKJ,CAC9BA,eAAeC,IAAf,CAAoB,MAApB,EAA4BC,EAA5B,CAA+B,QAA/B,CAAyC,SAAUC,CAAV,CAAa,CACrDA,EAAEC,cAAF,EADqD,CAErD,sBAA0BP,EAAEQ,iBAAF,CAAoB,CAACC,SAAU,MAAX,CAAmBC,UAAW,CAACC,UAAD,CAA9B,CAApB,CAA1B,CACAC,aAAaC,OAAb,CAAqBb,EAAE,IAAF,EAAQc,iBAAR,EAArB,EAAkDC,IAAlD,CAAuD,SAACC,QAAD,CAAc,CACpE,WAAaA,SAASC,MAAtB,CACIA,OAAOC,OAAP,EAAkBD,OAAOE,GAFuC,CAG/C,aAAhB,UAAOC,IAHwD,EAIlEC,IAAIC,eAAJ,EAJkE,CAKlEtB,EAAE,mBAAF,EAAuB,CAAvB,EAA0BuB,GAA1B,CAAgCN,OAAOE,GAAP,CAAWK,OAAX,CAAmB,aAAnB,CAAkC,oBAAlC,CALkC,CAMlEhB,kBAAkBA,iBAAlB,CAAoC,CAACiB,KAAM,MAAP,CAApC,CANkE,EAQlEC,OAAOC,QAAP,CAAgBC,IAAhB,CAAuBX,OAAOE,GARoC,EAWnEU,iBAAiBC,WAAjB,CAA6B,CAACC,KAAMV,IAAIW,UAAJ,CAAe,UAAf,CAAP,CAA7B,CAXmE,CAYnExB,kBAAkBA,iBAAlB,CAAoC,CAACiB,KAAM,MAAP,CAApC,CAZmE,EAcpE,CAdD,EAeA,CAlBD,EAmBA,CAzBkC,CAApC"}